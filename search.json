[
  {
    "objectID": "syllabus.html",
    "href": "syllabus.html",
    "title": "Syllabus",
    "section": "",
    "text": "Important\n\n\n\n\n\n\nBen Baumer\n McConnell 213\n bbaumer@smith.edu\n 413-585-3440\n beanumber\n\nStudent hours:\n\nTuesdays and Wednesdays from 2:45 pm – 3:30 pm ET in McConnell 213\nFridays from 10:00 am – 11:30 am ET in McConnell 213\nby appointment:\n\neither in McConnell 213\nor via Zoom \n\n\n\n\n\n\n\n\n\n\n\n\nIn sports analytics, we apply methods from the statistical and data sciences to sports to address fundamental questions of interest to players, coaches, team executives, journalists, and fans alike. Simple questions (e.g., who are the best players?) are complicated by the interdependent nature of team sports, the omnipresence of randomness (i.e., luck), and frequent changes to personnel, rules, equipment, league alignments, and other structures. However, in many ways sports provides an ideal laboratory for applied statistical analysis, as many sports generate copious amounts of data under regularized conditions. In this course, students will explore the big ideas in sports analytics (e.g., expected points, win probabilities, team strengths, etc.) and how they manifest across a variety of different sports. They will develop a working knowledge of the most prominent statistical models for sports analytics and apply them to a variety of public sources of sports data. The course will conclude with a research project on a topic and sport of the student’s choosing.\n\n\n\nSDS 192 and SDS 210 (or the equivalent)\n\n\n\n\nDemonstrate technical understanding on the major concepts in sports analytics\nUse statistical software to access and analyze public data about sports\nTranslate analytical frameworks across different sports, where applicable\nConduct in-depth quantitative research about sports and contextualize the results\n\n\n\n\n\n\n\n\n\n\n\nAnalyzing Baseball Data with R, 3rd edition, by Albert, Baumer, and Marchi. Free to read online\n\n\n\n\n\n\nCurveball. Albert and Bennett, 2003. Copernicus.\nIntroduction to Sports Analytics using R. Elmore and Urbaczewski, 2025. Prospect Press.\nAdvanced R, 2nd edition. Hadley Wickham, CRC Press, 2019. Available free online.\nR for Data Science, Garrett Grolemund and Hadley Wickham, O’Reilly, 2017. Available free online.\nModern Data Science with R, 2nd edition. Baumer, Kaplan, and Horton. CRC Press, 2021. Available for free online.\nBeyond Multiple Linear Regression: Applied Generalized Linear Models and Multilevel Models in R, Roback and Legler. CRC Press, 2021. Available for free online.\nBayes Rules! An Introduction to Applied Bayesian Modeling. Johnson, Ott, Dogucu, CRC Press, 2021. Available free online.\nMastering Shiny, Wickham. O’Reilly, 2021. Available free online.\n\n\n\n\n\nPosit Connect is an interactive web application framework for R. Available for free via our Posit Connect Server.\n\n\n\n\n\nClasses meets on Mondays and Wednesdays from 9:25-10:40 am ET in Burton 307."
  },
  {
    "objectID": "syllabus.html#about-the-course",
    "href": "syllabus.html#about-the-course",
    "title": "Syllabus",
    "section": "",
    "text": "Important\n\n\n\n\n\n\nBen Baumer\n McConnell 213\n bbaumer@smith.edu\n 413-585-3440\n beanumber\n\nStudent hours:\n\nTuesdays and Wednesdays from 2:45 pm – 3:30 pm ET in McConnell 213\nFridays from 10:00 am – 11:30 am ET in McConnell 213\nby appointment:\n\neither in McConnell 213\nor via Zoom \n\n\n\n\n\n\n\n\n\n\n\n\nIn sports analytics, we apply methods from the statistical and data sciences to sports to address fundamental questions of interest to players, coaches, team executives, journalists, and fans alike. Simple questions (e.g., who are the best players?) are complicated by the interdependent nature of team sports, the omnipresence of randomness (i.e., luck), and frequent changes to personnel, rules, equipment, league alignments, and other structures. However, in many ways sports provides an ideal laboratory for applied statistical analysis, as many sports generate copious amounts of data under regularized conditions. In this course, students will explore the big ideas in sports analytics (e.g., expected points, win probabilities, team strengths, etc.) and how they manifest across a variety of different sports. They will develop a working knowledge of the most prominent statistical models for sports analytics and apply them to a variety of public sources of sports data. The course will conclude with a research project on a topic and sport of the student’s choosing.\n\n\n\nSDS 192 and SDS 210 (or the equivalent)\n\n\n\n\nDemonstrate technical understanding on the major concepts in sports analytics\nUse statistical software to access and analyze public data about sports\nTranslate analytical frameworks across different sports, where applicable\nConduct in-depth quantitative research about sports and contextualize the results\n\n\n\n\n\n\n\n\n\n\n\nAnalyzing Baseball Data with R, 3rd edition, by Albert, Baumer, and Marchi. Free to read online\n\n\n\n\n\n\nCurveball. Albert and Bennett, 2003. Copernicus.\nIntroduction to Sports Analytics using R. Elmore and Urbaczewski, 2025. Prospect Press.\nAdvanced R, 2nd edition. Hadley Wickham, CRC Press, 2019. Available free online.\nR for Data Science, Garrett Grolemund and Hadley Wickham, O’Reilly, 2017. Available free online.\nModern Data Science with R, 2nd edition. Baumer, Kaplan, and Horton. CRC Press, 2021. Available for free online.\nBeyond Multiple Linear Regression: Applied Generalized Linear Models and Multilevel Models in R, Roback and Legler. CRC Press, 2021. Available for free online.\nBayes Rules! An Introduction to Applied Bayesian Modeling. Johnson, Ott, Dogucu, CRC Press, 2021. Available free online.\nMastering Shiny, Wickham. O’Reilly, 2021. Available free online.\n\n\n\n\n\nPosit Connect is an interactive web application framework for R. Available for free via our Posit Connect Server.\n\n\n\n\n\nClasses meets on Mondays and Wednesdays from 9:25-10:40 am ET in Burton 307."
  },
  {
    "objectID": "syllabus.html#content",
    "href": "syllabus.html#content",
    "title": "Syllabus",
    "section": "Content",
    "text": "Content\n\nExpectations\nThis is a 4 credit course, meaning that by federal guidelines, it should consume about 12 hours per week of your time. We meet for 2.5 hours per week. That means you should be spending about 9.5 hours per week, or nearly 2 hours per day, on this course outside of class.\n\n\n\n\n\n\nWarning\n\n\n\nYou should be spending about 9.5 hours per week on this course outside of class.\n\n\n\n\nGrading & Assignments\nThe learning and assessments in this course are centered around three main components:\n\n(10%) Engagement: Attending class meetings, being active on the course Slack channel, participating in class discussions, and offering ideas and questions in class or on Slack are all ways of demonstrating engagement. Your engagement grade will be determined by me in consultation with periodic self-assessments completed by you.\n(15%) Homework: These assignments will include problems that allow you to work with data and analyze the results\n(20%) Midterm exam: a closed book, self-scheduled written exam\n(20%) Colloquium presentation: You will choose a published research paper in sports analytics, and during the second half of the semester, you and a partner will present the paper to the class.\n(35%) Research project: a 10-page Quarto Manuscript and a 3-minute class presentation.\n\nPlease see the schedule for the most current due dates.\n\n\nExtensions\nI value your ability to meet deadlines and manage your own workload. I am also a reasonable person who understands that life happens and this is not always possible. Extensions up to 48 hours will typically be granted when requested at least 48 hours in advance without requiring a reason or an explanation. Longer extensions, or those requested within 48 hours of a deadline, will typically not be granted. Please plan accordingly. Please note that because many of the assignments in this class are collaborative, individual extensions for group assignments will be problematic. All extended deadlines will appear on Moodle.\n\n\nAcademic Integrity\nI expect that you will maintain your academic integrity in this class. Please read Smith’s Academic Integrity Statement. Please pay particular attention to this sentence in the “Examples of Violations” section:\n\n\nIf you are finding ways to avoid the “thinking” component of your coursework, you should stop to ask yourself whether you are compromising your academic integrity."
  },
  {
    "objectID": "syllabus.html#policies",
    "href": "syllabus.html#policies",
    "title": "Syllabus",
    "section": "Policies",
    "text": "Policies\n\nInclusion\nI am committed to fostering a classroom environment where all students thrive. I am committed to affirming the identities, realities and voices of all students, especially those from historically marginalized or underrepresented backgrounds. I am dedicated to creating a space where everyone in the class is respected, is free from discrimination based on race, ethnicity, sexual orientation, religion, gender identity, disability status, and other identities, and feel welcome and ready to learn at your highest potential.\nIf you have any concerns or suggestions for how to make this class more inclusive, please reach out to me. I am here to support your learning and growth as data scientists and people!\n\n\nAccommodations\nSmith is committed to providing support services and reasonable accommodations to all students with disabilities. To request an accommodation, please register with the Accessibility Resource Center (ARC) at the beginning of the semester. To contact ARC, please email arc@smith.edu.\n\n\nAttendance\nYou choose whether you will attend class. If you choose to attend, I expect your full attention. If you choose not to attend, you accept responsibility for any lost educational value.\n\n\n\n\n\n\nImportant\n\n\n\nWe hope it goes without saying that during class, you should not use your computer or cell phone for personal email, web browsing, social media, or any activity that’s not related to the class.\n\n\n\n\nCollaboration\nMuch of this course will operate on a collaborative basis, and you are expected and encouraged to work together with a partner or in small groups to study, complete assignments, and work on projects. However, all work that you submit for credit must be your own.\n\n\n\n\n\n\nImportant\n\n\n\nCopying and pasting sentences, paragraphs, or blocks of code from another student or from online sources is not acceptable and will receive no credit.\n\n\nNo interaction with anyone but the instructors is allowed on any exams or quizzes. All students, staff and faculty are bound by the Smith College Honor Code, which Smith has had since 1944.\n\n\nGenerative AI\n\nGenerative AI and Academic Integrity\nPlease read the Smith Academic Integrity Board’s statement on Generative Artificial Intelligence & Your Academic Integrity\nI draw your attention to the following excerpt:\n\n\n\n\n\n\nTip\n\n\n\nAny time you are using AI in a way that is substituting for the “thinking work” that you should be doing for a course, you should stop.\n\n\n\n\nMy perspective on AI and your learning\nMy goal is to help you achieve the learning goals for this course using only the mental model you have built of the material we have covered, and without the aid of generative AI. While I accept the ubiquity of generative AI, I believe that helping you build your mental model of this material is where I can best contribute to your education. To that end, much of our time in class and many of our assessments will take place in AI-free environments. Other learning will take place outside of class, wherein you are free to use AI in whatever fashion you want (unless otherwise noted), provided that it is in compliance with Smith’s Academic Integrity policies.\nPlease understand that while AI may be helpful to you in building your mental model of the material, it will not be available to you during many of our assessments, and I am comparatively less interested in your ability to complete tasks while using AI than I am in your ability to demonstrate knowledge using only your brain (and body).\nThis perspective applies to all course content, including mathematical equations and R code.\n\n\nUsage\n\n\n\n\n\n\nImportant\n\n\n\n\nUse of generative AI is expressly prohibited on exams and oral presentations.\nUse of generative AI is generally prohibited inside the classroom, although there may be exceptions.\nUnless otherwise noted (such as the above), generative AI can be used whenever you are outside of class.\n\n\n\nPlease read my perspective on learning and generative AI. Please understand that careless and excessive use of generative AI will likely impede your ability to achieve the course learning goals.\n\n\n\n\n\n\nWarning\n\n\n\nRemember that generative AI is not intelligent, doesn’t think, and has no idea what is true or false. You are solely responsible for the veracity of anything (e.g., code or text) you submit.\n\n\n\n\n\nCode of Conduct\nAs the instructor and assistants for this course, we are committed to making participation in this course a harassment-free experience for everyone, regardless of level of experience, gender, gender identity and expression, sexual orientation, disability, personal appearance, body size, race, ethnicity, age, or religion. Examples of unacceptable behavior by participants in this course include the use of sexual language or imagery, derogatory comments or personal attacks, deliberate misgendering or use of “dead” names, trolling, public or private harassment, insults, or other unprofessional conduct.\nAs the instructor and assistants we have the right and responsibility to point out and stop behavior that is not aligned to this Code of Conduct. Participants who do not follow the Code of Conduct may be reprimanded for such behavior. Instances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the instructor.\n\n\n\n\n\n\nImportant\n\n\n\nAll students, the instructor, the lab instructor, and all assistants are expected to adhere to this Code of Conduct in all settings for this course: lectures, labs, office hours, tutoring hours, and over Slack.\n\n\nThis Code of Conduct is adapted from the Contributor Covenant, version 1.0.0, available here."
  },
  {
    "objectID": "syllabus.html#resources",
    "href": "syllabus.html#resources",
    "title": "Syllabus",
    "section": "Resources",
    "text": "Resources\n\nMoodle and course website\nThe course website and Moodle will be updated regularly with lecture handouts, project information, assignments, and other course resources. Homework and projected grades will be submitted to Moodle. Please check both regularly.\n\n\nComputing\nThe use of the R statistical computing environment with the RStudio interface is thoroughly integrated into the course. You have two options for using RStudio:\n\nThe server version of Posit Workbench on the web. The advantage of using the server version is that all of your work will be stored in the cloud, where it is automatically saved and backed up. This means that you can access your work from any computer with a web browser (Firefox is recommended) and an Internet connection.\nA desktop version of RStudio IDE installed on your machine. The downside to this approach is that your work is only stored locally, and you will have to manage your own installation.\n\nNote that you do not have to choose one or the other – you may use both. However, it is important that you understand the distinction so that you can keep track of your work. Both R and RStudio are free and open-source, and are installed on most computer labs on campus.\nUnless otherwise noted, you should assume that it will be helpful to bring a laptop to class. It is not required, but since there are no workstations in the classroom, we will need a critical mass (i.e. at least 12) computers in the classroom pretty much everyday.\n\n\nCommunication\n\n Slack is the primary forum for course-related discussions of all kinds. Please do not email me with course-related questions! Instead, post those #questions on Slack. If discretion is absolutely necessary, private message me on Slack.\n\n\n\nWriting\nYour ability to communicate results—which may be technical in nature—to your audience – which is likely to be non-technical—is critical to your success as a data scientist. The assignments in this class will place an emphasis on the clarity of your writing.\nThis course is part of Smith College’s Writing Enriched Curriculum. As such, the course supports the Writing Plan of the Program in Statistical & Data Sciences.\nPlease read the SDS Writing Plan for more information."
  },
  {
    "objectID": "syllabus.html#tentative-schedule",
    "href": "syllabus.html#tentative-schedule",
    "title": "Syllabus",
    "section": "Tentative Schedule",
    "text": "Tentative Schedule\nPlease see the detailed schedule for more specific information about readings and assignments.\n\nWeek 1\n\nBig ideas in sports analytics (Baumer, Matthews, and Nguyen 2023)\n\nWeeks 2–4\n\nFundamental concepts in sports analytics, as manifest in baseball\nTopics:\n\nExpected Run Matrix (Lindsey 1963; Jim Albert, Marchi, and Baumer 2024)\nExpected Winning Percentage\nEstimating win probability (J. Albert 2015; Jim Albert, Marchi, and Baumer 2024)\n\n\nWeeks 5–6\n\nApplications of the previous ideas to other sports\nTopics:\n\nExpected points in basketball (Cervone et al. 2016) and football (Yurko, Ventura, and Horowitz 2019)\n4th down conversion in American football (Romer 2006; Yam and Lopez 2019; Lopez 2020)\nEstimating expected winning percentages (Deshpande and Jensen 2016)\n\n\nWeeks 7–8\n\nEstimating team strength\nTopics:\n\nBradley-Terry (Bradley and Terry 1952)\nElo ratings (Elo 1978; Kovalchik 2016)\nUsing moneyline data (Lopez, Matthews, and Baumer 2018)\n\n\nWeeks 9–12\n\nWork on student projects\n\nWeek 13\n\nStudent presentations"
  },
  {
    "objectID": "slides/10_epv.html#who-deserves-what-credit-for-this-play",
    "href": "slides/10_epv.html#who-deserves-what-credit-for-this-play",
    "title": "EPV",
    "section": "Who deserves what credit for this play?",
    "text": "Who deserves what credit for this play?"
  },
  {
    "objectID": "slides/10_epv.html#sportvu-tracking-data",
    "href": "slides/10_epv.html#sportvu-tracking-data",
    "title": "EPV",
    "section": "SportVu tracking data",
    "text": "SportVu tracking data\n\nhttps://grantland.com/features/expected-value-possession-nba-analytics/\nhttps://grantland.com/features/the-toronto-raptors-sportvu-cameras-nba-analytical-revolution/"
  },
  {
    "objectID": "slides/10_epv.html#epv-dashboard",
    "href": "slides/10_epv.html#epv-dashboard",
    "title": "EPV",
    "section": "EPV Dashboard",
    "text": "EPV Dashboard\nhttps://josedv.shinyapps.io/EPV_NBA_Dashboard/"
  },
  {
    "objectID": "slides/10_epv.html#raw-data",
    "href": "slides/10_epv.html#raw-data",
    "title": "EPV",
    "section": "Raw data",
    "text": "Raw data\n\nlibrary(tidyverse)\nepv &lt;- read_csv(here::here(\"data-large/2013_11_01_MIA_BKN.csv\"))\nepv_small &lt;- epv |&gt;\n  filter(possID &lt; 10) |&gt;\n  write_rds(here::here(\"data/epv_small.rds\"))\n\n\nlibrary(tidyverse)\nepv_small &lt;- read_rds(here::here(\"data/epv_small.rds\"))\ndim(epv_small)\n\n[1] 2913   49\n\nplayers &lt;- read_csv(here::here(\"data/players2013.csv\"))\nhead(players)\n\n# A tibble: 6 × 9\n  player_id firstname lastname position       height weight byear rookie\n      &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;           &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;\n1      3306 Elton     Brand    Forward-Center     81    254  1979   1999\n2     58293 Kyle      Korver   Guard-Forward      79    212  1981   2003\n3    292401 Lou       Williams Guard              73    175  1986   2005\n4    237675 Paul      Millsap  Forward-Center     80    258  1985   2006\n5    280587 Al        Horford  Forward-Center     82    250  1986   2007\n6    398043 Jeff      Teague   Point-Guard        74    181  1988   2009\n# ℹ 1 more variable: position.number &lt;dbl&gt;\n\n\n\nhttps://www.nba.com/game/mia-vs-bkn-0021300028/play-by-play"
  },
  {
    "objectID": "slides/10_epv.html#whats-in-there",
    "href": "slides/10_epv.html#whats-in-there",
    "title": "EPV",
    "section": "What’s in there?",
    "text": "What’s in there?\n\nepv_small |&gt;\n  group_by(possID) |&gt;\n  count()\n\n# A tibble: 9 × 2\n# Groups:   possID [9]\n  possID     n\n   &lt;dbl&gt; &lt;int&gt;\n1      1   471\n2      2   175\n3      3   351\n4      4   435\n5      5   460\n6      6   279\n7      7   288\n8      8   273\n9      9   181"
  },
  {
    "objectID": "slides/10_epv.html#where-did-the-ball-go",
    "href": "slides/10_epv.html#where-did-the-ball-go",
    "title": "EPV",
    "section": "Where did the ball go?",
    "text": "Where did the ball go?\n\nepv_small |&gt;\n  ggplot(aes(x = x, y = y)) +\n  geom_point() +\n  facet_wrap(vars(possID))"
  },
  {
    "objectID": "slides/10_epv.html#tracking-paul-pierce",
    "href": "slides/10_epv.html#tracking-paul-pierce",
    "title": "EPV",
    "section": "Tracking Paul Pierce",
    "text": "Tracking Paul Pierce\n\nepv_small |&gt;\n  filter(h2_ent == 3235, possID &lt; 10) |&gt;\n  ggplot(aes(x = h2_x, y = h2_y)) +\n  geom_point() +\n  facet_wrap(vars(possID))"
  },
  {
    "objectID": "slides/10_epv.html#the-first-play",
    "href": "slides/10_epv.html#the-first-play",
    "title": "EPV",
    "section": "The first play",
    "text": "The first play"
  },
  {
    "objectID": "slides/10_epv.html#the-second-play",
    "href": "slides/10_epv.html#the-second-play",
    "title": "EPV",
    "section": "The second play",
    "text": "The second play"
  },
  {
    "objectID": "slides/08_win_probability.html#super-bowl-li",
    "href": "slides/08_win_probability.html#super-bowl-li",
    "title": "Win Probability",
    "section": "Super Bowl LI",
    "text": "Super Bowl LI"
  },
  {
    "objectID": "slides/08_win_probability.html#pipping-wyner-2025",
    "href": "slides/08_win_probability.html#pipping-wyner-2025",
    "title": "Win Probability",
    "section": "Pipping & Wyner (2025)",
    "text": "Pipping & Wyner (2025)\n\nA Paradox of Blown Leads: Rethinking Win Probability in Football\n\n\nThe most paradoxical and counterintuitive result of our study is that high win probabilities are not uncommon among teams that ultimately lose. In both simulated and real NFL games between evenly matched opponents, the losing team reached a win probability of at least 66–67% in half of all cases.\n\n\nhttps://wsb.wharton.upenn.edu/a-paradox-of-blown-leads-rethinking-win-probability-in-football/"
  },
  {
    "objectID": "slides/08_win_probability.html#pipping-wyner-2025-1",
    "href": "slides/08_win_probability.html#pipping-wyner-2025-1",
    "title": "Win Probability",
    "section": "Pipping & Wyner (2025)",
    "text": "Pipping & Wyner (2025)"
  },
  {
    "objectID": "slides/08_win_probability.html#compute-the-score-for-each-half-inning",
    "href": "slides/08_win_probability.html#compute-the-score-for-each-half-inning",
    "title": "Win Probability",
    "section": "Compute the score for each half inning",
    "text": "Compute the score for each half inning\n\nlibrary(tidyverse)\nlibrary(abdwr3edata)\n\nhalf_innings &lt;- retro2016 |&gt;\n  filter(bat_home_id == 1, inn_ct &lt;= 10) |&gt;\n  mutate(home_lead = home_score_ct - away_score_ct) |&gt;\n  group_by(game_id, inn_ct) |&gt;\n  summarize(home_lead = last(home_lead))"
  },
  {
    "objectID": "slides/08_win_probability.html#half-innings",
    "href": "slides/08_win_probability.html#half-innings",
    "title": "Win Probability",
    "section": "Half-innings",
    "text": "Half-innings\n\nhalf_innings |&gt;\n  group_by(inn_ct, home_lead) |&gt;\n  count()\n\n# A tibble: 222 × 3\n# Groups:   inn_ct, home_lead [222]\n   inn_ct home_lead     n\n    &lt;int&gt;     &lt;int&gt; &lt;int&gt;\n 1      1        -9     1\n 2      1        -6     2\n 3      1        -5     9\n 4      1        -4    25\n 5      1        -3    61\n 6      1        -2   126\n 7      1        -1   286\n 8      1         0  1255\n 9      1         1   355\n10      1         2   156\n# ℹ 212 more rows"
  },
  {
    "objectID": "slides/08_win_probability.html#determine-the-winners",
    "href": "slides/08_win_probability.html#determine-the-winners",
    "title": "Win Probability",
    "section": "Determine the winners",
    "text": "Determine the winners\n\nwinners &lt;- retro2016 |&gt;\n  group_by(game_id) |&gt;\n  summarize(final_score = max(home_score_ct) - max(away_score_ct)) |&gt;\n  mutate(is_home_win = final_score &gt;= 0)\n\nwinners |&gt; \n  group_by(is_home_win) |&gt; \n  count()\n\n# A tibble: 2 × 2\n# Groups:   is_home_win [2]\n  is_home_win     n\n  &lt;lgl&gt;       &lt;int&gt;\n1 FALSE        1161\n2 TRUE         1267"
  },
  {
    "objectID": "slides/08_win_probability.html#add-the-winners-to-the-half-innings",
    "href": "slides/08_win_probability.html#add-the-winners-to-the-half-innings",
    "title": "Win Probability",
    "section": "Add the winners to the half-innings",
    "text": "Add the winners to the half-innings\n\nwin_prob &lt;- half_innings |&gt;\n  left_join(winners, by = join_by(game_id))\n\nwin_prob\n\n# A tibble: 20,921 × 5\n# Groups:   game_id [2,428]\n   game_id      inn_ct home_lead final_score is_home_win\n   &lt;chr&gt;         &lt;int&gt;     &lt;int&gt;       &lt;int&gt; &lt;lgl&gt;      \n 1 ANA201604040      1        -1          -9 FALSE      \n 2 ANA201604040      2        -1          -9 FALSE      \n 3 ANA201604040      3        -1          -9 FALSE      \n 4 ANA201604040      4        -3          -9 FALSE      \n 5 ANA201604040      5        -3          -9 FALSE      \n 6 ANA201604040      6        -5          -9 FALSE      \n 7 ANA201604040      7        -6          -9 FALSE      \n 8 ANA201604040      8        -6          -9 FALSE      \n 9 ANA201604040      9        -9          -9 FALSE      \n10 ANA201604050      1         0          -5 FALSE      \n# ℹ 20,911 more rows"
  },
  {
    "objectID": "slides/08_win_probability.html#fit-the-logistic-regression-models-for-each-inning",
    "href": "slides/08_win_probability.html#fit-the-logistic-regression-models-for-each-inning",
    "title": "Win Probability",
    "section": "Fit the logistic regression models for each inning",
    "text": "Fit the logistic regression models for each inning\n\nwin_prob_grp &lt;- win_prob |&gt;\n  group_by(inn_ct)\n\nwin_prob_mods &lt;- win_prob_grp |&gt;\n  group_split() |&gt;\n  map(~glm(is_home_win ~ home_lead, family = binomial, data = .x))\n\nwin_prob_mods |&gt;\n  map(coef) |&gt;\n  bind_rows()\n\n# A tibble: 10 × 2\n   `(Intercept)` home_lead\n           &lt;dbl&gt;     &lt;dbl&gt;\n 1       0.0330      0.515\n 2       0.0152      0.488\n 3      -0.0111      0.502\n 4      -0.00177     0.586\n 5      -0.0225      0.646\n 6      -0.0369      0.811\n 7      -0.0739      1.04 \n 8      -0.142       1.61 \n 9       0.593      20.2  \n10       0.560      18.3"
  },
  {
    "objectID": "slides/08_win_probability.html#make-a-prediction",
    "href": "slides/08_win_probability.html#make-a-prediction",
    "title": "Win Probability",
    "section": "Make a prediction",
    "text": "Make a prediction\n\nFor a 2-run lead in the 4th inning:\n\n\nwin_prob_mods[[4]] |&gt;\n  predict(newdata = data.frame(home_lead = 2), type = \"response\")\n\n        1 \n0.7631684 \n\n\n\n\nFor a 0-run lead in the 1st inning:\n\n\nwin_prob_mods[[1]] |&gt;\n  predict(newdata = data.frame(home_lead = 0), type = \"response\")\n\n        1 \n0.5082419"
  },
  {
    "objectID": "slides/08_win_probability.html#flesh-out-the-grid-of-expected-win-probabilities",
    "href": "slides/08_win_probability.html#flesh-out-the-grid-of-expected-win-probabilities",
    "title": "Win Probability",
    "section": "Flesh out the grid of expected win probabilities",
    "text": "Flesh out the grid of expected win probabilities\n\ngrid &lt;- data.frame(home_lead = -10:10)\n\nwin_prob_grid &lt;- win_prob_mods |&gt;\n  map(~predict(.x, newdata = grid, type = \"response\")) |&gt;\n  bind_rows() |&gt;\n  setNames(grid$home_lead) |&gt;\n  bind_cols(group_keys(win_prob_grp))"
  },
  {
    "objectID": "slides/08_win_probability.html#view-the-grid",
    "href": "slides/08_win_probability.html#view-the-grid",
    "title": "Win Probability",
    "section": "View the grid",
    "text": "View the grid\n\nwin_prob_grid |&gt;\n  knitr::kable(digits = 2)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-10\n-9\n-8\n-7\n-6\n-5\n-4\n-3\n-2\n-1\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\ninn_ct\n\n\n\n\n0.01\n0.01\n0.02\n0.03\n0.04\n0.07\n0.12\n0.18\n0.27\n0.38\n0.51\n0.63\n0.74\n0.83\n0.89\n0.93\n0.96\n0.97\n0.98\n0.99\n0.99\n1\n\n\n0.01\n0.01\n0.02\n0.03\n0.05\n0.08\n0.13\n0.19\n0.28\n0.38\n0.50\n0.62\n0.73\n0.81\n0.88\n0.92\n0.95\n0.97\n0.98\n0.99\n0.99\n2\n\n\n0.01\n0.01\n0.02\n0.03\n0.05\n0.07\n0.12\n0.18\n0.27\n0.37\n0.50\n0.62\n0.73\n0.82\n0.88\n0.92\n0.95\n0.97\n0.98\n0.99\n0.99\n3\n\n\n0.00\n0.01\n0.01\n0.02\n0.03\n0.05\n0.09\n0.15\n0.24\n0.36\n0.50\n0.64\n0.76\n0.85\n0.91\n0.95\n0.97\n0.98\n0.99\n0.99\n1.00\n4\n\n\n0.00\n0.00\n0.01\n0.01\n0.02\n0.04\n0.07\n0.12\n0.21\n0.34\n0.49\n0.65\n0.78\n0.87\n0.93\n0.96\n0.98\n0.99\n0.99\n1.00\n1.00\n5\n\n\n0.00\n0.00\n0.00\n0.00\n0.01\n0.02\n0.04\n0.08\n0.16\n0.30\n0.49\n0.68\n0.83\n0.92\n0.96\n0.98\n0.99\n1.00\n1.00\n1.00\n1.00\n6\n\n\n0.00\n0.00\n0.00\n0.00\n0.00\n0.01\n0.01\n0.04\n0.10\n0.25\n0.48\n0.72\n0.88\n0.95\n0.98\n0.99\n1.00\n1.00\n1.00\n1.00\n1.00\n7\n\n\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.01\n0.03\n0.15\n0.46\n0.81\n0.96\n0.99\n1.00\n1.00\n1.00\n1.00\n1.00\n1.00\n1.00\n8\n\n\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.64\n1.00\n1.00\n1.00\n1.00\n1.00\n1.00\n1.00\n1.00\n1.00\n1.00\n9\n\n\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.64\n1.00\n1.00\n1.00\n1.00\n1.00\n1.00\n1.00\n1.00\n1.00\n1.00\n10"
  },
  {
    "objectID": "slides/08_win_probability.html#visualize-win-probabilities",
    "href": "slides/08_win_probability.html#visualize-win-probabilities",
    "title": "Win Probability",
    "section": "Visualize win probabilities",
    "text": "Visualize win probabilities\n\nwin_prob_long &lt;- win_prob_grid |&gt;\n  pivot_longer(cols = -inn_ct, names_to = \"home_lead\", values_to = \"p_hat\") |&gt;\n  mutate(home_lead = parse_number(home_lead))\nggplot(win_prob_long, aes(x = inn_ct, y = home_lead, fill = p_hat)) +\n  geom_tile() +\n  scale_fill_viridis_c()"
  },
  {
    "objectID": "slides/08_win_probability.html#write-function-to-compute-fitted-values",
    "href": "slides/08_win_probability.html#write-function-to-compute-fitted-values",
    "title": "Win Probability",
    "section": "Write function to compute fitted values",
    "text": "Write function to compute fitted values\n\npredict_wp_one &lt;- function(inn_ct, exp_home_lead) {\n  win_prob_mods[[inn_ct]] |&gt;\n    predict(\n      newdata = data.frame(home_lead = exp_home_lead), \n      type = \"response\"\n    )\n}\n\npredict_wp &lt;- function(inn_ct, exp_home_lead) {\n  map2_dbl(inn_ct, exp_home_lead, predict_wp_one)\n}\n\npredict_wp(1:4, -2:1)\n\n[1] 0.2695287 0.3838537 0.4972250 0.6420287"
  },
  {
    "objectID": "slides/08_win_probability.html#bring-in-the-expected-run-matrix",
    "href": "slides/08_win_probability.html#bring-in-the-expected-run-matrix",
    "title": "Win Probability",
    "section": "Bring in the Expected Run Matrix",
    "text": "Bring in the Expected Run Matrix\n\nhttps://www.baseball-reference.com/boxes/ANA/ANA201604070.shtml\n\n\nerm2016 &lt;- read_rds(here::here(\"data/erm2016.rda\"))\n\nwpa &lt;- retro2016 |&gt;\n  filter(game_id == \"ANA201604070\") |&gt;\n  retrosheet_add_states() |&gt;\n  mutate(home_lead = home_score_ct - away_score_ct) |&gt;\n  left_join(erm2016, by = join_by(bases, outs_ct)) |&gt;\n  mutate(\n    exp_home_lead = home_lead + ifelse(bat_home_id == 1, exp_run_value, -exp_run_value),\n    p_hat = predict_wp(inn_ct, home_lead),\n    p_hat_exp = predict_wp(inn_ct, exp_home_lead)\n  )"
  },
  {
    "objectID": "slides/08_win_probability.html#spot-check",
    "href": "slides/08_win_probability.html#spot-check",
    "title": "Win Probability",
    "section": "Spot check",
    "text": "Spot check\n\nwpa |&gt;\n  select(event_id, bat_home_id, inn_ct, bases, outs_ct, bat_id, home_lead, exp_run_value, exp_home_lead, p_hat, p_hat_exp)\n\n# A tibble: 76 × 11\n   event_id bat_home_id inn_ct bases outs_ct bat_id   home_lead exp_run_value\n      &lt;int&gt;       &lt;int&gt;  &lt;int&gt; &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;        &lt;int&gt;         &lt;dbl&gt;\n 1        1           0      1 000         0 deshd002         0         0.498\n 2        2           0      1 100         0 choos001         0         0.858\n 3        3           0      1 110         0 belta001         0         1.44 \n 4        4           0      1 110         1 fielp001         0         0.921\n 5        5           0      1 011         1 fielp001         0         1.36 \n 6        6           0      1 010         2 desmi001        -1         0.312\n 7        7           1      1 000         0 escoy001        -1         0.498\n 8        8           1      1 000         1 gentc001        -1         0.268\n 9        9           1      1 000         2 troum001        -1         0.106\n10       10           1      1 100         2 pujoa001        -1         0.220\n# ℹ 66 more rows\n# ℹ 3 more variables: exp_home_lead &lt;dbl&gt;, p_hat &lt;dbl&gt;, p_hat_exp &lt;dbl&gt;"
  },
  {
    "objectID": "slides/08_win_probability.html#win-probability-plot",
    "href": "slides/08_win_probability.html#win-probability-plot",
    "title": "Win Probability",
    "section": "Win probability plot",
    "text": "Win probability plot\n\nggplot(wpa, aes(x = event_id, y = p_hat)) +\n  geom_hline(yintercept = 0.5, color = \"red\") +\n  geom_line() +\n  geom_line(aes(y = p_hat_exp), color = \"blue\")"
  },
  {
    "objectID": "slides/08_win_probability.html#what-happened",
    "href": "slides/08_win_probability.html#what-happened",
    "title": "Win Probability",
    "section": "What happened?",
    "text": "What happened?"
  },
  {
    "objectID": "slides/08_win_probability.html#win-probability-added",
    "href": "slides/08_win_probability.html#win-probability-added",
    "title": "Win Probability",
    "section": "Win probability added",
    "text": "Win probability added\n\nwpa |&gt;\n  mutate(\n    next_p_hat = lead(p_hat, default = 1),\n    next_p_hat_exp = lead(p_hat_exp, default = 1)\n  ) |&gt; \n#  select(event_id, inn_ct, bases, outs_ct, bat_id, home_lead, exp_run_value, exp_home_lead, p_hat, next_p_hat) |&gt; view()\n  group_by(bat_id) |&gt;\n  summarize(\n    wpa = sum(next_p_hat - p_hat, na.rm = TRUE),\n    wpa_exp = sum(next_p_hat_exp - p_hat_exp, na.rm = TRUE)\n  ) |&gt;\n  arrange(desc(wpa))\n\n# A tibble: 20 × 3\n   bat_id       wpa     wpa_exp\n   &lt;chr&gt;      &lt;dbl&gt;       &lt;dbl&gt;\n 1 pujoa001  0.358  -0.0150    \n 2 escoy001  0.264   0.200     \n 3 simma001  0.170  -0.995     \n 4 gentc001  0.122  -0.188     \n 5 sotog001  0.0403 -0.121     \n 6 troum001  0.0334 -0.0374    \n 7 belta001  0       0.283     \n 8 calhk001  0       0.00623   \n 9 choij001  0      -0.00241   \n10 choos001  0      -0.187     \n11 deshd002  0       0.100     \n12 desmi001  0       0.0363    \n13 giavj001  0      -0.143     \n14 morem001  0       0.0605    \n15 odorr001  0       1.00      \n16 perec003  0      -0.00000835\n17 cronc002 -0.0183 -0.0912    \n18 chirr001 -0.108   0.261     \n19 fielp001 -0.126   0.383     \n20 andre001 -0.243   0.00329"
  },
  {
    "objectID": "slides/06_dips.html#the-claim",
    "href": "slides/06_dips.html#the-claim",
    "title": "DIPS",
    "section": "The claim",
    "text": "The claim\n\nhttps://www.baseballprospectus.com/news/article/878/pitching-and-defense-how-much-control-do-hurlers-have/\n\n\nThere is little if any difference among major-league pitchers in their ability to prevent hits on balls hit in the field of play.\n–Voros McCracken (2001)"
  },
  {
    "objectID": "slides/06_dips.html#the-impact",
    "href": "slides/06_dips.html#the-impact",
    "title": "DIPS",
    "section": "The impact",
    "text": "The impact\n\nhttps://www.espn.com/blog/sweetspot/post/_/id/6835/voros-mccracken-changed-the-game\n\n\nA decade after Baseball Prospectus let McCracken spread the gospel in a story that popularized DIPS across the sport, it remains among the most seminal theories developed by sabermetrics, the nickname given to quantitative baseball study. It’s almost certainly the most revolutionary. Nothing before or since has so upended an entire line of thought and forced teams to assess a wide breadth of players in a different fashion.\n– Jeff Passan (2011)"
  },
  {
    "objectID": "slides/06_dips.html#who-is-voros-mccracken",
    "href": "slides/06_dips.html#who-is-voros-mccracken",
    "title": "DIPS",
    "section": "Who is Voros McCracken?",
    "text": "Who is Voros McCracken?\n\nhttps://en.wikipedia.org/wiki/Voros_McCracken\n\n\n\n\n\n\n\nVoros McCracken is a student living in Chicago."
  },
  {
    "objectID": "slides/06_dips.html#outcomes-of-a-plate-appearance",
    "href": "slides/06_dips.html#outcomes-of-a-plate-appearance",
    "title": "DIPS",
    "section": "Outcomes of a plate appearance",
    "text": "Outcomes of a plate appearance\n\n\n\nBalls in Play:\n\nHits\nOuts\nErrors\n\n\n\n\nBalls not in play (aka “Three true outcomes”):\n\nStrikeouts\nWalks / Hit by Pitch\nHome Runs"
  },
  {
    "objectID": "slides/06_dips.html#three-true-outcomes",
    "href": "slides/06_dips.html#three-true-outcomes",
    "title": "DIPS",
    "section": "Three True Outcomes",
    "text": "Three True Outcomes\n\nhttps://www.nytimes.com/athletic/3434355/2022/07/21/mlb-three-true-outcomes/"
  },
  {
    "objectID": "slides/06_dips.html#true-outcomes-over-time",
    "href": "slides/06_dips.html#true-outcomes-over-time",
    "title": "DIPS",
    "section": "True outcomes over time",
    "text": "True outcomes over time"
  },
  {
    "objectID": "slides/06_dips.html#babip",
    "href": "slides/06_dips.html#babip",
    "title": "DIPS",
    "section": "BABIP",
    "text": "BABIP\n\nhttps://library.fangraphs.com/pitching/babip/"
  },
  {
    "objectID": "slides/06_dips.html#computing-babip",
    "href": "slides/06_dips.html#computing-babip",
    "title": "DIPS",
    "section": "Computing BABIP",
    "text": "Computing BABIP\n\nlibrary(tidyverse)\nlibrary(Lahman)\n\ndips &lt;- Batting |&gt;\n  filter(yearID &gt;= 1962) |&gt;\n  group_by(yearID) |&gt;\n  summarize(\n    TPA = sum(AB + BB + HBP + SF + SH),\n    Kr = sum(SO) / TPA,\n    Wr = sum(BB + HBP) / TPA,\n    HRr = sum(HR) / TPA,\n    BABIP = sum(H - HR) / sum(AB + SF - SO - HR) \n  )"
  },
  {
    "objectID": "slides/06_dips.html#true-outcomes-plot",
    "href": "slides/06_dips.html#true-outcomes-plot",
    "title": "DIPS",
    "section": "True outcomes plot",
    "text": "True outcomes plot\n\ndips |&gt;\n  pivot_longer(cols = Kr:BABIP) |&gt;\n  ggplot(aes(x = yearID, y = value, color = name)) +\n  geom_line() + \n  geom_smooth()"
  },
  {
    "objectID": "slides/06_dips.html#another-claim",
    "href": "slides/06_dips.html#another-claim",
    "title": "DIPS",
    "section": "Another claim",
    "text": "Another claim\n\nhttps://library.fangraphs.com/principles/dips/\n\n\nThere is little correlation between what a pitcher does one year in the stat (BABIP) and what he will do the next.\n\n\n\nThe pitchers who are the best at preventing hits on balls in play one year are often the worst at it the next.\n\n\n\n\n\n\n\n\n\n\nFundamental question in sports analytics\n\n\n\nHow much of performance is skill? How much is luck?"
  },
  {
    "objectID": "slides/06_dips.html#pitcher-year-pairs",
    "href": "slides/06_dips.html#pitcher-year-pairs",
    "title": "DIPS",
    "section": "Pitcher-year pairs",
    "text": "Pitcher-year pairs\n\ndips_pitchers &lt;- Pitching |&gt;\n  filter(yearID &gt;= 1962) |&gt;\n  group_by(playerID, yearID) |&gt;\n  summarize(\n    TPA = sum(BFP),\n    Kr = sum(SO) / TPA,\n    Wr = sum(BB + HBP) / TPA,\n    HRr = sum(HR) / TPA,\n    BABIP = sum(H - HR) / sum(BFP - BB - HBP - SO - HR),\n  ) |&gt;\n  mutate(\n    next_yearID = yearID + 1\n  ) |&gt;\n  filter(TPA &gt; 400)\n\n\ndips_evens &lt;- dips_pitchers |&gt;\n  filter(yearID %% 2 == 0)\ndips_odds &lt;- dips_pitchers |&gt;\n  filter(yearID %% 2 == 1)\n\ndips_pairs &lt;- dips_evens |&gt;\n  inner_join(dips_odds, by = join_by(playerID, next_yearID == yearID))"
  },
  {
    "objectID": "slides/06_dips.html#paired-data",
    "href": "slides/06_dips.html#paired-data",
    "title": "DIPS",
    "section": "Paired data",
    "text": "Paired data\n\ndips_pairs |&gt;\n  head() |&gt;\n  select(contains(\"ID\"), contains(\"BABIP\"))\n\n# A tibble: 6 × 6\n# Groups:   playerID [3]\n  playerID  yearID next_yearID next_yearID.y BABIP.x BABIP.y\n  &lt;chr&gt;      &lt;int&gt;       &lt;dbl&gt;         &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;\n1 aasedo01    1978        1979          1980   0.293   0.290\n2 abbotgl01   1974        1975          1976   0.264   0.255\n3 abbotgl01   1978        1979          1980   0.305   0.275\n4 abbotgl01   1980        1981          1982   0.269   0.249\n5 abbotji01   1990        1991          1992   0.316   0.277\n6 abbotji01   1992        1993          1994   0.297   0.279"
  },
  {
    "objectID": "slides/06_dips.html#babip-autocorrelation",
    "href": "slides/06_dips.html#babip-autocorrelation",
    "title": "DIPS",
    "section": "BABIP autocorrelation",
    "text": "BABIP autocorrelation\n\nhttps://en.wikipedia.org/wiki/Autocorrelation\n\n\ndips_pairs |&gt;\n  ungroup() |&gt;\n  select(contains(\"BABIP\")) |&gt;\n  cor()\n\n          BABIP.x   BABIP.y\nBABIP.x 1.0000000 0.2913783\nBABIP.y 0.2913783 1.0000000\n\nbabip_plot &lt;- ggplot(dips_pairs, aes(x = BABIP.x, y = BABIP.y)) +\n  geom_point() +\n  geom_label(\n    data = filter(dips_pairs, playerID == \"martipe02\"),\n    aes(label = yearID), color = \"red\"\n  ) +\n  scale_x_continuous(\"BABIP in some even year\") +\n  scale_y_continuous(\"BABIP in the next year\")"
  },
  {
    "objectID": "slides/06_dips.html#visualizing-babip-autocorrelation",
    "href": "slides/06_dips.html#visualizing-babip-autocorrelation",
    "title": "DIPS",
    "section": "Visualizing BABIP autocorrelation",
    "text": "Visualizing BABIP autocorrelation\n\nbabip_plot"
  },
  {
    "objectID": "slides/06_dips.html#no-cross-correlation",
    "href": "slides/06_dips.html#no-cross-correlation",
    "title": "DIPS",
    "section": "No cross-correlation",
    "text": "No cross-correlation\n\nThere is no significant cross-correlation. That is, a high number of home runs allowed doesn’t really mean anything in determining how many hits per balls in play the pitcher will allow."
  },
  {
    "objectID": "slides/06_dips.html#cross-correlations",
    "href": "slides/06_dips.html#cross-correlations",
    "title": "DIPS",
    "section": "Cross-correlations",
    "text": "Cross-correlations\n\ndips_pairs |&gt;\n  ungroup() |&gt;\n  select(contains(\"r.x\"), contains(\"BABIP\")) |&gt;\n  cor() |&gt;\n  knitr::kable(digits = 2)\n\n\n\n\n\nKr.x\nWr.x\nHRr.x\nBABIP.x\nBABIP.y\n\n\n\n\nKr.x\n1.00\n0.10\n0.09\n0.06\n0.04\n\n\nWr.x\n0.10\n1.00\n-0.01\n-0.02\n-0.01\n\n\nHRr.x\n0.09\n-0.01\n1.00\n0.08\n0.12\n\n\nBABIP.x\n0.06\n-0.02\n0.08\n1.00\n0.29\n\n\nBABIP.y\n0.04\n-0.01\n0.12\n0.29\n1.00"
  },
  {
    "objectID": "slides/06_dips.html#reliability",
    "href": "slides/06_dips.html#reliability",
    "title": "DIPS",
    "section": "Reliability",
    "text": "Reliability\n\nhttps://en.wikipedia.org/wiki/Reliability_(statistics)"
  },
  {
    "objectID": "slides/06_dips.html#home-run-rate",
    "href": "slides/06_dips.html#home-run-rate",
    "title": "DIPS",
    "section": "Home run rate",
    "text": "Home run rate\n\nggplot(dips_pairs, aes(x = HRr.x, y = HRr.y)) +\n  geom_point()"
  },
  {
    "objectID": "slides/06_dips.html#walk-rate",
    "href": "slides/06_dips.html#walk-rate",
    "title": "DIPS",
    "section": "Walk rate",
    "text": "Walk rate\n\nggplot(dips_pairs, aes(x = Wr.x, y = Wr.y)) +\n  geom_point()"
  },
  {
    "objectID": "slides/06_dips.html#strikeout-rate",
    "href": "slides/06_dips.html#strikeout-rate",
    "title": "DIPS",
    "section": "Strikeout rate",
    "text": "Strikeout rate\n\nggplot(dips_pairs, aes(x = Kr.x, y = Kr.y)) +\n  geom_point()"
  },
  {
    "objectID": "slides/06_dips.html#autocorrelations",
    "href": "slides/06_dips.html#autocorrelations",
    "title": "DIPS",
    "section": "Autocorrelations",
    "text": "Autocorrelations\n\ndips_pairs |&gt;\n  ungroup() |&gt;\n  select(contains(\"r.\")) |&gt;\n  cor() |&gt;\n  as_tibble(r, rownames = \"stat\") |&gt;\n  select(-contains(\".x\")) |&gt;\n  filter(str_detect(stat, \".x\")) |&gt;\n  knitr::kable(digits = 2)\n\n\n\n\nstat\nKr.y\nWr.y\nHRr.y\n\n\n\n\nKr.x\n0.82\n0.08\n0.13\n\n\nWr.x\n0.13\n0.64\n-0.05\n\n\nHRr.x\n0.11\n-0.06\n0.46"
  },
  {
    "objectID": "slides/06_dips.html#fip",
    "href": "slides/06_dips.html#fip",
    "title": "DIPS",
    "section": "FIP",
    "text": "FIP\n\nhttps://library.fangraphs.com/pitching/fip/\n\n\n\n\n\n\n\n\n\n\nChallenge\n\n\nCalculate the year-to-year autocorrelation for FIP"
  },
  {
    "objectID": "slides/06_dips.html#what-about-batters",
    "href": "slides/06_dips.html#what-about-batters",
    "title": "DIPS",
    "section": "What about batters?",
    "text": "What about batters?\n\n\n\n\n\nstat\nKr.y\nWr.y\nHRr.y\nBABIP.y\n\n\n\n\nKr.x\n0.88\n0.22\n0.48\n0.12\n\n\nWr.x\n0.21\n0.77\n0.34\n-0.01\n\n\nHRr.x\n0.49\n0.37\n0.76\n-0.05\n\n\nBABIP.x\n0.11\n0.02\n-0.01\n0.46"
  },
  {
    "objectID": "slides/03_linear_weights.html#watch",
    "href": "slides/03_linear_weights.html#watch",
    "title": "Linear Weights",
    "section": "Watch",
    "text": "Watch"
  },
  {
    "objectID": "slides/03_linear_weights.html#what-happened",
    "href": "slides/03_linear_weights.html#what-happened",
    "title": "Linear Weights",
    "section": "What happened?",
    "text": "What happened?\n\n1st and 3rd, nobody out\nJoey Votto singles\nBilly Hamilton scores from first!\nerror allows Votto to advance to 2nd\ntwo actual runs scored"
  },
  {
    "objectID": "slides/03_linear_weights.html#retrosheet-data",
    "href": "slides/03_linear_weights.html#retrosheet-data",
    "title": "Linear Weights",
    "section": "Retrosheet data",
    "text": "Retrosheet data\n\nlibrary(tidyverse)\nlibrary(retrosheet)\ncin2016 &lt;- get_retrosheet(\"play\", 2016, \"CIN\")\ncin2016[[19]] |&gt;\n  pluck(\"play\") |&gt;\n  filter(retroID == \"vottj001\")\n\n   inning team  retroID count      pitches                      play\n1       1    1 vottj001     0         11&gt;C                       SB2\n2       1    1 vottj001    22 11&gt;C.SB2&gt;FBC                         K\n3       3    1 vottj001    32       BBBCFC                         K\n4       5    1 vottj001     0       1311&gt;X S8/G6+.3-H;1-H;B-2(E5/TH)\n5       7    1 vottj001    22        CBBCX                63/G6M.2-3\n6      10    1 vottj001     0         &lt;NA&gt;                        NP\n7      10    1 vottj001     0         &lt;NA&gt;                        NP\n8      10    1 vottj001     0         &lt;NA&gt;                        NP\n9      10    1 vottj001     0         &lt;NA&gt;                        NP\n10     10    1 vottj001    32  ....BCFFBBC                         K"
  },
  {
    "objectID": "slides/03_linear_weights.html#how-valuable-is-a-single",
    "href": "slides/03_linear_weights.html#how-valuable-is-a-single",
    "title": "Linear Weights",
    "section": "How valuable is a single?",
    "text": "How valuable is a single?\n\nIn this case, 2 runs scored, 2 RBI\nBut in general…"
  },
  {
    "objectID": "slides/03_linear_weights.html#prepare-a-data-set",
    "href": "slides/03_linear_weights.html#prepare-a-data-set",
    "title": "Linear Weights",
    "section": "Prepare a data set",
    "text": "Prepare a data set\n\nlibrary(Lahman)\nteams54 &lt;- Teams |&gt;\n  filter(yearID &gt;= 1954) |&gt;\n  mutate(\n    X1B = H - X2B - X3B - HR,\n    OUTS = AB - H,\n    WK = ifelse(is.na(HBP), 0, HBP) + BB\n  )"
  },
  {
    "objectID": "slides/03_linear_weights.html#convert-to-per-game-averages",
    "href": "slides/03_linear_weights.html#convert-to-per-game-averages",
    "title": "Linear Weights",
    "section": "Convert to per game averages",
    "text": "Convert to per game averages\n\nteams54rg &lt;- teams54 |&gt;\n  mutate(\n    across(c(R, X1B, X2B, X3B, HR, WK, OUTS, SF, SB, CS), \\(x) x/G\n  ))"
  },
  {
    "objectID": "slides/03_linear_weights.html#set-up-our-basic-plot",
    "href": "slides/03_linear_weights.html#set-up-our-basic-plot",
    "title": "Linear Weights",
    "section": "Set up our basic plot",
    "text": "Set up our basic plot\n\nrplot &lt;- ggplot(teams54rg, aes(y = R, x = HR)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", se = FALSE) +\n  scale_y_continuous(\"Runs Scored\")\nrplot"
  },
  {
    "objectID": "slides/03_linear_weights.html#regression-model-for-home-runs",
    "href": "slides/03_linear_weights.html#regression-model-for-home-runs",
    "title": "Linear Weights",
    "section": "Regression model for home runs",
    "text": "Regression model for home runs\n\nlm(R ~ HR, data = teams54rg)\n\n\nCall:\nlm(formula = R ~ HR, data = teams54rg)\n\nCoefficients:\n(Intercept)           HR  \n      3.004        1.498"
  },
  {
    "objectID": "slides/03_linear_weights.html#singles",
    "href": "slides/03_linear_weights.html#singles",
    "title": "Linear Weights",
    "section": "Singles",
    "text": "Singles\n\nrplot + \n  aes(x = X1B)"
  },
  {
    "objectID": "slides/03_linear_weights.html#regression-model-for-singles",
    "href": "slides/03_linear_weights.html#regression-model-for-singles",
    "title": "Linear Weights",
    "section": "Regression model for singles",
    "text": "Regression model for singles\n\nlm(R ~ X1B, data = teams54rg)\n\n\nCall:\nlm(formula = R ~ X1B, data = teams54rg)\n\nCoefficients:\n(Intercept)          X1B  \n     3.3636       0.1753"
  },
  {
    "objectID": "slides/03_linear_weights.html#stolen-bases",
    "href": "slides/03_linear_weights.html#stolen-bases",
    "title": "Linear Weights",
    "section": "Stolen bases",
    "text": "Stolen bases\n\nrplot + \n  aes(x = SB)"
  },
  {
    "objectID": "slides/03_linear_weights.html#caught-stealings",
    "href": "slides/03_linear_weights.html#caught-stealings",
    "title": "Linear Weights",
    "section": "Caught stealings",
    "text": "Caught stealings\n\nrplot + \n  aes(x = CS)"
  },
  {
    "objectID": "slides/03_linear_weights.html#basic-regression-model",
    "href": "slides/03_linear_weights.html#basic-regression-model",
    "title": "Linear Weights",
    "section": "Basic regression model",
    "text": "Basic regression model\n\n# Curveball, pg. 180\nteams54rg |&gt;\n  filter(yearID &lt; 2000) |&gt;\n  lm(R ~ X1B + X2B + X3B + HR + WK + SB, data = _) |&gt;\n  summary()\n\n\nCall:\nlm(formula = R ~ X1B + X2B + X3B + HR + WK + SB, data = filter(teams54rg, \n    yearID &lt; 2000))\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.43719 -0.09737  0.00028  0.09707  0.47134 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) -2.62043    0.08343 -31.410  &lt; 2e-16 ***\nX1B          0.51316    0.01261  40.703  &lt; 2e-16 ***\nX2B          0.61460    0.02399  25.623  &lt; 2e-16 ***\nX3B          1.29969    0.07083  18.351  &lt; 2e-16 ***\nHR           1.52896    0.02420  63.192  &lt; 2e-16 ***\nWK           0.34013    0.01074  31.659  &lt; 2e-16 ***\nSB           0.12645    0.01738   7.277 6.58e-13 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.1488 on 1071 degrees of freedom\nMultiple R-squared:  0.9306,    Adjusted R-squared:  0.9302 \nF-statistic:  2394 on 6 and 1071 DF,  p-value: &lt; 2.2e-16"
  },
  {
    "objectID": "slides/03_linear_weights.html#full-regression-model",
    "href": "slides/03_linear_weights.html#full-regression-model",
    "title": "Linear Weights",
    "section": "Full regression model",
    "text": "Full regression model\n\nlm(R ~ X1B + X2B + X3B + HR + WK + SF + SB + CS + OUTS, data = teams54rg)\n\n\nCall:\nlm(formula = R ~ X1B + X2B + X3B + HR + WK + SF + SB + CS + OUTS, \n    data = teams54rg)\n\nCoefficients:\n(Intercept)          X1B          X2B          X3B           HR           WK  \n     0.5564       0.4407       0.5919       1.0394       1.4725       0.3143  \n         SF           SB           CS         OUTS  \n     0.8012       0.1998      -0.2118      -0.1084"
  },
  {
    "objectID": "slides/03_linear_weights.html#iterate-over-eras",
    "href": "slides/03_linear_weights.html#iterate-over-eras",
    "title": "Linear Weights",
    "section": "Iterate over eras",
    "text": "Iterate over eras\n\nlwts &lt;- function(d) {\n  lm(R ~ X1B + X2B + X3B + HR + WK + SB + CS + OUTS, data = d) |&gt;\n    coef() |&gt;\n    t() |&gt;\n    as_tibble()\n}\n\nlwts(teams54rg)\n\n# A tibble: 1 × 9\n  `(Intercept)`   X1B   X2B   X3B    HR    WK    SB     CS   OUTS\n          &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n1          1.05 0.483 0.556  1.25  1.49 0.325 0.189 -0.267 -0.129\n\nteams54rg |&gt;\n  mutate(score = floor(yearID %/% 20) * 20) |&gt;\n  group_split(score) |&gt;\n  map(lwts) |&gt;\n  bind_rows()\n\n# A tibble: 5 × 9\n  `(Intercept)`   X1B   X2B   X3B    HR    WK    SB      CS    OUTS\n          &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;\n1       -0.245  0.541 0.491 0.845  1.63 0.374 0.299  0.0611 -0.0996\n2        0.873  0.472 0.615 1.42   1.52 0.291 0.219 -0.363  -0.119 \n3       -0.320  0.505 0.679 1.02   1.46 0.336 0.208 -0.175  -0.0885\n4        0.0815 0.503 0.770 1.09   1.50 0.312 0.168 -0.227  -0.110 \n5        1.60   0.365 0.777 1.63   1.40 0.298 0.211 -0.474  -0.130"
  },
  {
    "objectID": "slides/03_linear_weights.html#common-run-estimators",
    "href": "slides/03_linear_weights.html#common-run-estimators",
    "title": "Linear Weights",
    "section": "Common run estimators",
    "text": "Common run estimators\n\nteams54 &lt;- teams54 |&gt;\n  mutate(\n    R = R/G,\n    BAVG = H / AB,\n    OBP = (H + WK) / (AB + WK + ifelse(is.na(SF), 0, SF)),\n    SLG = (X1B + 2*X2B + 3*X3B + 4*HR) / AB,\n    OPS = OBP + SLG,\n    LWTS = 0.46*X1B + 0.8*X2B + 1.02*X3B + 1.4*HR + 0.33*WK + 0.3*SB - 0.6*CS - 0.25*(OUTS),\n    XR = (0.5*X1B + 0.72*X2B + 1.04*X3B + 1.44*HR + 0.33*WK + 0.18*SB -0.32*CS - 0.098*OUTS) / G,\n    RC = OBP * SLG\n  )"
  },
  {
    "objectID": "slides/03_linear_weights.html#batting-average",
    "href": "slides/03_linear_weights.html#batting-average",
    "title": "Linear Weights",
    "section": "Batting average",
    "text": "Batting average\n\nrplot &lt;- rplot %+% teams54\nrplot +\n  aes(x = BAVG)"
  },
  {
    "objectID": "slides/03_linear_weights.html#on-base-percentage",
    "href": "slides/03_linear_weights.html#on-base-percentage",
    "title": "Linear Weights",
    "section": "On-base percentage",
    "text": "On-base percentage\n\nrplot +\n  aes(x = OBP)"
  },
  {
    "objectID": "slides/03_linear_weights.html#slugging-percentage",
    "href": "slides/03_linear_weights.html#slugging-percentage",
    "title": "Linear Weights",
    "section": "Slugging percentage",
    "text": "Slugging percentage\n\nrplot +\n  aes(x = SLG)"
  },
  {
    "objectID": "slides/03_linear_weights.html#ops",
    "href": "slides/03_linear_weights.html#ops",
    "title": "Linear Weights",
    "section": "OPS",
    "text": "OPS\n\nrplot +\n  aes(x = OPS)"
  },
  {
    "objectID": "slides/03_linear_weights.html#extrapolated-runs",
    "href": "slides/03_linear_weights.html#extrapolated-runs",
    "title": "Linear Weights",
    "section": "eXtrapolated Runs",
    "text": "eXtrapolated Runs\n\nrplot +\n  aes(x = XR)"
  },
  {
    "objectID": "slides/03_linear_weights.html#runs-created",
    "href": "slides/03_linear_weights.html#runs-created",
    "title": "Linear Weights",
    "section": "Runs Created",
    "text": "Runs Created\n\nrplot +\n  aes(x = RC)"
  },
  {
    "objectID": "slides/03_linear_weights.html#correlation",
    "href": "slides/03_linear_weights.html#correlation",
    "title": "Linear Weights",
    "section": "Correlation",
    "text": "Correlation\n\nteams54 |&gt;\n  select(R, BAVG, OBP, SLG, OPS, LWTS, XR, RC) |&gt;\n  cor()\n\n             R      BAVG       OBP       SLG       OPS      LWTS        XR\nR    1.0000000 0.7452374 0.8595853 0.9098903 0.9527274 0.9446182 0.9600107\nBAVG 0.7452374 1.0000000 0.8414923 0.6821185 0.7812527 0.7709039 0.7790329\nOBP  0.8595853 0.8414923 1.0000000 0.7242935 0.8657659 0.8839206 0.8904464\nSLG  0.9098903 0.6821185 0.7242935 1.0000000 0.9721242 0.9355944 0.9483656\nOPS  0.9527274 0.7812527 0.8657659 0.9721242 1.0000000 0.9796594 0.9911482\nLWTS 0.9446182 0.7709039 0.8839206 0.9355944 0.9796594 1.0000000 0.9872646\nXR   0.9600107 0.7790329 0.8904464 0.9483656 0.9911482 0.9872646 1.0000000\nRC   0.9550842 0.7916800 0.8827493 0.9621475 0.9985340 0.9810157 0.9927272\n            RC\nR    0.9550842\nBAVG 0.7916800\nOBP  0.8827493\nSLG  0.9621475\nOPS  0.9985340\nLWTS 0.9810157\nXR   0.9927272\nRC   1.0000000"
  },
  {
    "objectID": "slides/01_expected_wpct.html#trade-deadline",
    "href": "slides/01_expected_wpct.html#trade-deadline",
    "title": "Expected Winning Percentage",
    "section": "2004 trade deadline",
    "text": "2004 trade deadline"
  },
  {
    "objectID": "slides/01_expected_wpct.html#limitations-of-won-loss-record",
    "href": "slides/01_expected_wpct.html#limitations-of-won-loss-record",
    "title": "Expected Winning Percentage",
    "section": "Limitations of Won-Loss Record",
    "text": "Limitations of Won-Loss Record\n\nBinary outcomes are “noisy”\nChance / randomness / luck\nShort seasons\nPersonnel changes\n\nInjuries\nTrades\n\nStrength of schedule"
  },
  {
    "objectID": "slides/01_expected_wpct.html#generic-model-for-team-strength",
    "href": "slides/01_expected_wpct.html#generic-model-for-team-strength",
    "title": "Expected Winning Percentage",
    "section": "Generic model for team strength",
    "text": "Generic model for team strength\n\\[\n  \\text{Team Strength} = f(X) + \\epsilon\n\\]\n\nWhat are some variables in \\(X\\)?\n\nplayer quality?\ncoach/manager quality?\nscoring ability?\ndefensive ability?"
  },
  {
    "objectID": "slides/01_expected_wpct.html#winning-percentage",
    "href": "slides/01_expected_wpct.html#winning-percentage",
    "title": "Expected Winning Percentage",
    "section": "Winning percentage",
    "text": "Winning percentage\n\\[\n  wpct = \\frac{W}{G} = \\frac{W}{W + L}\n\\]\n\nIf \\(wpct\\) is noisy, how can we predict future \\(wpct\\)?"
  },
  {
    "objectID": "slides/01_expected_wpct.html#run-differential",
    "href": "slides/01_expected_wpct.html#run-differential",
    "title": "Expected Winning Percentage",
    "section": "Run differential",
    "text": "Run differential\n\n\\(RS\\): runs scored (by a team)\n\\(RA\\): runs allowed (by that same team)\n\n\nIf \\(RS &gt; RA\\), what should happen to \\(wpct\\)?\nIf \\(RS &lt; RA\\), what should happen to \\(wpct\\)?\nIf \\(RS = RA\\), what should happen to \\(wpct\\)?"
  },
  {
    "objectID": "slides/01_expected_wpct.html#computing-run-differential",
    "href": "slides/01_expected_wpct.html#computing-run-differential",
    "title": "Expected Winning Percentage",
    "section": "Computing run differential",
    "text": "Computing run differential\n\nlibrary(tidyverse)\nlibrary(Lahman)\n\nteam_runs &lt;- Teams |&gt; \n  filter(yearID &gt;= 1954) |&gt;\n  rename(RS = R) |&gt; \n  mutate(wpct = W / (W + L), RD = RS - RA) |&gt;\n  select(yearID, teamID, lgID, wpct, RS, RA, RD)\n\nteam_runs\n\n     yearID teamID lgID      wpct   RS   RA   RD\n1      1961    LAA   AL 0.4347826  744  784  -40\n2      1962    LAA   AL 0.5308642  718  706   12\n3      1963    LAA   AL 0.4347826  597  660  -63\n4      1964    LAA   AL 0.5061728  544  551   -7\n5      1965    CAL   AL 0.4629630  527  569  -42\n6      1966    CAL   AL 0.4938272  604  643  -39\n7      1967    CAL   AL 0.5217391  567  587  -20\n8      1968    CAL   AL 0.4135802  498  615 -117\n9      1969    CAL   AL 0.4382716  528  652 -124\n10     1970    CAL   AL 0.5308642  631  630    1\n11     1971    CAL   AL 0.4691358  511  576  -65\n12     1972    CAL   AL 0.4838710  454  533  -79\n13     1973    CAL   AL 0.4876543  629  657  -28\n14     1974    CAL   AL 0.4197531  618  657  -39\n15     1975    CAL   AL 0.4472050  628  723  -95\n16     1976    CAL   AL 0.4691358  550  631  -81\n17     1977    CAL   AL 0.4567901  675  695  -20\n18     1978    CAL   AL 0.5370370  691  666   25\n19     1979    CAL   AL 0.5432099  866  768   98\n20     1980    CAL   AL 0.4062500  698  797  -99\n21     1981    CAL   AL 0.4636364  476  453   23\n22     1982    CAL   AL 0.5740741  814  670  144\n23     1983    CAL   AL 0.4320988  722  779  -57\n24     1984    CAL   AL 0.5000000  696  697   -1\n25     1985    CAL   AL 0.5555556  732  703   29\n26     1986    CAL   AL 0.5679012  786  684  102\n27     1987    CAL   AL 0.4629630  770  803  -33\n28     1988    CAL   AL 0.4629630  714  771  -57\n29     1989    CAL   AL 0.5617284  669  578   91\n30     1990    CAL   AL 0.4938272  690  706  -16\n31     1991    CAL   AL 0.5000000  653  649    4\n32     1992    CAL   AL 0.4444444  579  671  -92\n33     1993    CAL   AL 0.4382716  684  770  -86\n34     1994    CAL   AL 0.4086957  543  660 -117\n35     1995    CAL   AL 0.5379310  801  697  104\n36     1996    CAL   AL 0.4347826  762  943 -181\n37     1997    ANA   AL 0.5185185  829  794   35\n38     1998    ANA   AL 0.5246914  787  783    4\n39     1999    ANA   AL 0.4320988  711  826 -115\n40     2000    ANA   AL 0.5061728  864  869   -5\n41     2001    ANA   AL 0.4629630  691  730  -39\n42     2002    ANA   AL 0.6111111  851  644  207\n43     2003    ANA   AL 0.4753086  736  743   -7\n44     2004    ANA   AL 0.5679012  836  734  102\n45     2005    LAA   AL 0.5864198  761  643  118\n46     2006    LAA   AL 0.5493827  766  732   34\n47     2007    LAA   AL 0.5802469  822  731   91\n48     2008    LAA   AL 0.6172840  765  697   68\n49     2009    LAA   AL 0.5987654  883  761  122\n50     2010    LAA   AL 0.4938272  681  702  -21\n51     2011    LAA   AL 0.5308642  667  633   34\n52     2012    LAA   AL 0.5493827  767  699   68\n53     2013    LAA   AL 0.4814815  733  737   -4\n54     2014    LAA   AL 0.6049383  773  630  143\n55     2015    LAA   AL 0.5246914  661  675  -14\n56     2016    LAA   AL 0.4567901  717  727  -10\n57     2017    LAA   AL 0.4938272  710  709    1\n58     2018    LAA   AL 0.4938272  721  722   -1\n59     2019    LAA   AL 0.4444444  769  868  -99\n60     2020    LAA   AL 0.4333333  294  321  -27\n61     2021    LAA   AL 0.4753086  723  804  -81\n62     2022    LAA   AL 0.4506173  623  668  -45\n63     2023    LAA   AL 0.4506173  739  829  -90\n64     2024    LAA   AL 0.3888889  635  797 -162\n65     1998    ARI   NL 0.4012346  665  812 -147\n66     1999    ARI   NL 0.6172840  908  676  232\n67     2000    ARI   NL 0.5246914  792  754   38\n68     2001    ARI   NL 0.5679012  818  677  141\n69     2002    ARI   NL 0.6049383  819  674  145\n70     2003    ARI   NL 0.5185185  717  685   32\n71     2004    ARI   NL 0.3148148  615  899 -284\n72     2005    ARI   NL 0.4753086  696  856 -160\n73     2006    ARI   NL 0.4691358  773  788  -15\n74     2007    ARI   NL 0.5555556  712  732  -20\n75     2008    ARI   NL 0.5061728  720  706   14\n76     2009    ARI   NL 0.4320988  720  782  -62\n77     2010    ARI   NL 0.4012346  713  836 -123\n78     2011    ARI   NL 0.5802469  731  662   69\n79     2012    ARI   NL 0.5000000  734  688   46\n80     2013    ARI   NL 0.5000000  685  695  -10\n81     2014    ARI   NL 0.3950617  615  742 -127\n82     2015    ARI   NL 0.4876543  720  713    7\n83     2016    ARI   NL 0.4259259  752  890 -138\n84     2017    ARI   NL 0.5740741  812  659  153\n85     2018    ARI   NL 0.5061728  693  644   49\n86     2019    ARI   NL 0.5246914  813  743   70\n87     2020    ARI   NL 0.4166667  269  295  -26\n88     2021    ARI   NL 0.3209877  679  893 -214\n89     2022    ARI   NL 0.4567901  702  740  -38\n90     2023    ARI   NL 0.5185185  746  761  -15\n91     2024    ARI   NL 0.5493827  886  788   98\n92     1954    ML1   NL 0.5779221  670  556  114\n93     1955    ML1   NL 0.5519481  743  668   75\n94     1956    ML1   NL 0.5974026  709  569  140\n95     1957    ML1   NL 0.6168831  772  613  159\n96     1958    ML1   NL 0.5974026  675  541  134\n97     1959    ML1   NL 0.5512821  724  623  101\n98     1960    ML1   NL 0.5714286  724  658   66\n99     1961    ML1   NL 0.5389610  712  656   56\n100    1962    ML1   NL 0.5308642  730  665   65\n101    1963    ML1   NL 0.5185185  677  603   74\n102    1964    ML1   NL 0.5432099  803  744   59\n103    1965    ML1   NL 0.5308642  708  633   75\n104    1966    ATL   NL 0.5246914  782  683   99\n105    1967    ATL   NL 0.4753086  631  640   -9\n106    1968    ATL   NL 0.5000000  514  549  -35\n107    1969    ATL   NL 0.5740741  691  631   60\n108    1970    ATL   NL 0.4691358  736  772  -36\n109    1971    ATL   NL 0.5061728  643  699  -56\n110    1972    ATL   NL 0.4545455  628  730 -102\n111    1973    ATL   NL 0.4720497  799  774   25\n112    1974    ATL   NL 0.5432099  661  563   98\n113    1975    ATL   NL 0.4161491  583  739 -156\n114    1976    ATL   NL 0.4320988  620  700  -80\n115    1977    ATL   NL 0.3765432  678  895 -217\n116    1978    ATL   NL 0.4259259  600  750 -150\n117    1979    ATL   NL 0.4125000  669  763  -94\n118    1980    ATL   NL 0.5031056  630  660  -30\n119    1981    ATL   NL 0.4716981  395  416  -21\n120    1982    ATL   NL 0.5493827  739  702   37\n121    1983    ATL   NL 0.5432099  746  640  106\n122    1984    ATL   NL 0.4938272  632  655  -23\n123    1985    ATL   NL 0.4074074  632  781 -149\n124    1986    ATL   NL 0.4472050  615  719 -104\n125    1987    ATL   NL 0.4285714  747  829  -82\n126    1988    ATL   NL 0.3375000  555  741 -186\n127    1989    ATL   NL 0.3937500  584  680  -96\n128    1990    ATL   NL 0.4012346  682  821 -139\n129    1991    ATL   NL 0.5802469  749  644  105\n130    1992    ATL   NL 0.6049383  682  569  113\n131    1993    ATL   NL 0.6419753  767  559  208\n132    1994    ATL   NL 0.5964912  542  448   94\n133    1995    ATL   NL 0.6250000  645  540  105\n134    1996    ATL   NL 0.5925926  773  648  125\n135    1997    ATL   NL 0.6234568  791  581  210\n136    1998    ATL   NL 0.6543210  826  581  245\n137    1999    ATL   NL 0.6358025  840  661  179\n138    2000    ATL   NL 0.5864198  810  714   96\n139    2001    ATL   NL 0.5432099  729  643   86\n140    2002    ATL   NL 0.6312500  708  565  143\n141    2003    ATL   NL 0.6234568  907  740  167\n142    2004    ATL   NL 0.5925926  803  668  135\n143    2005    ATL   NL 0.5555556  769  674   95\n144    2006    ATL   NL 0.4876543  849  805   44\n145    2007    ATL   NL 0.5185185  810  733   77\n146    2008    ATL   NL 0.4444444  753  778  -25\n147    2009    ATL   NL 0.5308642  735  641   94\n148    2010    ATL   NL 0.5617284  738  629  109\n149    2011    ATL   NL 0.5493827  641  605   36\n150    2012    ATL   NL 0.5802469  700  600  100\n151    2013    ATL   NL 0.5925926  688  548  140\n152    2014    ATL   NL 0.4876543  573  597  -24\n153    2015    ATL   NL 0.4135802  573  760 -187\n154    2016    ATL   NL 0.4223602  649  779 -130\n155    2017    ATL   NL 0.4444444  732  821  -89\n156    2018    ATL   NL 0.5555556  759  657  102\n157    2019    ATL   NL 0.5987654  855  743  112\n158    2020    ATL   NL 0.5833333  348  288   60\n159    2021    ATL   NL 0.5465839  790  656  134\n160    2022    ATL   NL 0.6234568  789  609  180\n161    2023    ATL   NL 0.6419753  947  716  231\n162    2024    ATL   NL 0.5493827  704  607   97\n163    1954    BAL   AL 0.3506494  483  668 -185\n164    1955    BAL   AL 0.3701299  540  754 -214\n165    1956    BAL   AL 0.4480519  571  705 -134\n166    1957    BAL   AL 0.5000000  597  588    9\n167    1958    BAL   AL 0.4836601  521  575  -54\n168    1959    BAL   AL 0.4805195  551  621  -70\n169    1960    BAL   AL 0.5779221  682  606   76\n170    1961    BAL   AL 0.5864198  691  588  103\n171    1962    BAL   AL 0.4753086  652  680  -28\n172    1963    BAL   AL 0.5308642  644  621   23\n173    1964    BAL   AL 0.5987654  679  567  112\n174    1965    BAL   AL 0.5802469  641  578   63\n175    1966    BAL   AL 0.6062500  755  601  154\n176    1967    BAL   AL 0.4720497  654  592   62\n177    1968    BAL   AL 0.5617284  579  497   82\n178    1969    BAL   AL 0.6728395  779  517  262\n179    1970    BAL   AL 0.6666667  792  574  218\n180    1971    BAL   AL 0.6392405  742  530  212\n181    1972    BAL   AL 0.5194805  519  430   89\n182    1973    BAL   AL 0.5987654  754  561  193\n183    1974    BAL   AL 0.5617284  659  612   47\n184    1975    BAL   AL 0.5660377  682  553  129\n185    1976    BAL   AL 0.5432099  619  598   21\n186    1977    BAL   AL 0.6024845  719  653   66\n187    1978    BAL   AL 0.5590062  659  633   26\n188    1979    BAL   AL 0.6415094  757  582  175\n189    1980    BAL   AL 0.6172840  805  640  165\n190    1981    BAL   AL 0.5619048  429  437   -8\n191    1982    BAL   AL 0.5802469  774  687   87\n192    1983    BAL   AL 0.6049383  799  652  147\n193    1984    BAL   AL 0.5246914  681  667   14\n194    1985    BAL   AL 0.5155280  818  764   54\n195    1986    BAL   AL 0.4506173  708  760  -52\n196    1987    BAL   AL 0.4135802  729  880 -151\n197    1988    BAL   AL 0.3354037  550  789 -239\n198    1989    BAL   AL 0.5370370  708  686   22\n199    1990    BAL   AL 0.4720497  669  698  -29\n200    1991    BAL   AL 0.4135802  686  796 -110\n201    1992    BAL   AL 0.5493827  705  656   49\n202    1993    BAL   AL 0.5246914  786  745   41\n203    1994    BAL   AL 0.5625000  589  497   92\n204    1995    BAL   AL 0.4930556  704  640   64\n205    1996    BAL   AL 0.5432099  949  903   46\n206    1997    BAL   AL 0.6049383  812  681  131\n207    1998    BAL   AL 0.4876543  817  785   32\n208    1999    BAL   AL 0.4814815  851  815   36\n209    2000    BAL   AL 0.4567901  794  913 -119\n210    2001    BAL   AL 0.3913043  687  829 -142\n211    2002    BAL   AL 0.4135802  667  773 -106\n212    2003    BAL   AL 0.4382716  743  820  -77\n213    2004    BAL   AL 0.4814815  842  830   12\n214    2005    BAL   AL 0.4567901  729  800  -71\n215    2006    BAL   AL 0.4320988  768  899 -131\n216    2007    BAL   AL 0.4259259  756  868 -112\n217    2008    BAL   AL 0.4223602  782  869  -87\n218    2009    BAL   AL 0.3950617  741  876 -135\n219    2010    BAL   AL 0.4074074  613  785 -172\n220    2011    BAL   AL 0.4259259  708  860 -152\n221    2012    BAL   AL 0.5740741  712  705    7\n222    2013    BAL   AL 0.5246914  745  709   36\n223    2014    BAL   AL 0.5925926  705  593  112\n224    2015    BAL   AL 0.5000000  713  693   20\n225    2016    BAL   AL 0.5493827  744  715   29\n226    2017    BAL   AL 0.4629630  743  841  -98\n227    2018    BAL   AL 0.2901235  622  892 -270\n228    2019    BAL   AL 0.3333333  729  981 -252\n229    2020    BAL   AL 0.4166667  274  294  -20\n230    2021    BAL   AL 0.3209877  659  956 -297\n231    2022    BAL   AL 0.5123457  674  688  -14\n232    2023    BAL   AL 0.6234568  807  678  129\n233    2024    BAL   AL 0.5617284  786  699   87\n234    1954    BOS   AL 0.4480519  700  728  -28\n235    1955    BOS   AL 0.5454545  755  652  103\n236    1956    BOS   AL 0.5454545  780  751   29\n237    1957    BOS   AL 0.5324675  721  668   53\n238    1958    BOS   AL 0.5129870  697  691    6\n239    1959    BOS   AL 0.4870130  726  696   30\n240    1960    BOS   AL 0.4220779  658  775 -117\n241    1961    BOS   AL 0.4691358  729  792  -63\n242    1962    BOS   AL 0.4750000  707  756  -49\n243    1963    BOS   AL 0.4720497  666  704  -38\n244    1964    BOS   AL 0.4444444  688  793 -105\n245    1965    BOS   AL 0.3827160  669  791 -122\n246    1966    BOS   AL 0.4444444  655  731  -76\n247    1967    BOS   AL 0.5679012  722  614  108\n248    1968    BOS   AL 0.5308642  614  611    3\n249    1969    BOS   AL 0.5370370  743  736    7\n250    1970    BOS   AL 0.5370370  786  722   64\n251    1971    BOS   AL 0.5246914  691  667   24\n252    1972    BOS   AL 0.5483871  640  620   20\n253    1973    BOS   AL 0.5493827  738  647   91\n254    1974    BOS   AL 0.5185185  696  661   35\n255    1975    BOS   AL 0.5937500  796  709   87\n256    1976    BOS   AL 0.5123457  716  660   56\n257    1977    BOS   AL 0.6024845  859  712  147\n258    1978    BOS   AL 0.6073620  796  657  139\n259    1979    BOS   AL 0.5687500  841  711  130\n260    1980    BOS   AL 0.5187500  757  767  -10\n261    1981    BOS   AL 0.5462963  519  481   38\n262    1982    BOS   AL 0.5493827  753  713   40\n263    1983    BOS   AL 0.4814815  724  775  -51\n264    1984    BOS   AL 0.5308642  810  764   46\n265    1985    BOS   AL 0.5000000  800  720   80\n266    1986    BOS   AL 0.5900621  794  696   98\n267    1987    BOS   AL 0.4814815  842  825   17\n268    1988    BOS   AL 0.5493827  813  689  124\n269    1989    BOS   AL 0.5123457  774  735   39\n270    1990    BOS   AL 0.5432099  699  664   35\n271    1991    BOS   AL 0.5185185  731  712   19\n272    1992    BOS   AL 0.4506173  599  669  -70\n273    1993    BOS   AL 0.4938272  686  698  -12\n274    1994    BOS   AL 0.4695652  552  621  -69\n275    1995    BOS   AL 0.5972222  791  698   93\n276    1996    BOS   AL 0.5246914  928  921    7\n277    1997    BOS   AL 0.4814815  851  857   -6\n278    1998    BOS   AL 0.5679012  876  729  147\n279    1999    BOS   AL 0.5802469  836  718  118\n280    2000    BOS   AL 0.5246914  792  745   47\n281    2001    BOS   AL 0.5093168  772  745   27\n282    2002    BOS   AL 0.5740741  859  665  194\n283    2003    BOS   AL 0.5864198  961  809  152\n284    2004    BOS   AL 0.6049383  949  768  181\n285    2005    BOS   AL 0.5864198  910  805  105\n286    2006    BOS   AL 0.5308642  820  825   -5\n287    2007    BOS   AL 0.5925926  867  657  210\n288    2008    BOS   AL 0.5864198  845  694  151\n289    2009    BOS   AL 0.5864198  872  736  136\n290    2010    BOS   AL 0.5493827  818  744   74\n291    2011    BOS   AL 0.5555556  875  737  138\n292    2012    BOS   AL 0.4259259  734  806  -72\n293    2013    BOS   AL 0.5987654  853  656  197\n294    2014    BOS   AL 0.4382716  634  715  -81\n295    2015    BOS   AL 0.4814815  748  753   -5\n296    2016    BOS   AL 0.5740741  878  694  184\n297    2017    BOS   AL 0.5740741  785  668  117\n298    2018    BOS   AL 0.6666667  876  647  229\n299    2019    BOS   AL 0.5185185  901  828   73\n300    2020    BOS   AL 0.4000000  292  351  -59\n301    2021    BOS   AL 0.5679012  829  749   80\n302    2022    BOS   AL 0.4814815  735  787  -52\n303    2023    BOS   AL 0.4814815  772  776   -4\n304    2024    BOS   AL 0.5000000  751  747    4\n305    1954    CHN   NL 0.4155844  700  766  -66\n306    1955    CHN   NL 0.4705882  626  713  -87\n307    1956    CHN   NL 0.3896104  597  708 -111\n308    1957    CHN   NL 0.4025974  628  722  -94\n309    1958    CHN   NL 0.4675325  709  725  -16\n310    1959    CHN   NL 0.4805195  673  688  -15\n311    1960    CHN   NL 0.3896104  634  776 -142\n312    1961    CHN   NL 0.4155844  689  800 -111\n313    1962    CHN   NL 0.3641975  632  827 -195\n314    1963    CHN   NL 0.5061728  570  578   -8\n315    1964    CHN   NL 0.4691358  649  724  -75\n316    1965    CHN   NL 0.4444444  635  723  -88\n317    1966    CHN   NL 0.3641975  644  809 -165\n318    1967    CHN   NL 0.5403727  702  624   78\n319    1968    CHN   NL 0.5185185  612  611    1\n320    1969    CHN   NL 0.5679012  720  611  109\n321    1970    CHN   NL 0.5185185  806  679  127\n322    1971    CHN   NL 0.5123457  637  648  -11\n323    1972    CHN   NL 0.5483871  685  567  118\n324    1973    CHN   NL 0.4782609  614  655  -41\n325    1974    CHN   NL 0.4074074  669  826 -157\n326    1975    CHN   NL 0.4629630  712  827 -115\n327    1976    CHN   NL 0.4629630  611  728 -117\n328    1977    CHN   NL 0.5000000  692  739  -47\n329    1978    CHN   NL 0.4876543  664  724  -60\n330    1979    CHN   NL 0.4938272  706  707   -1\n331    1980    CHN   NL 0.3950617  614  728 -114\n332    1981    CHN   NL 0.3689320  370  483 -113\n333    1982    CHN   NL 0.4506173  676  709  -33\n334    1983    CHN   NL 0.4382716  701  719  -18\n335    1984    CHN   NL 0.5962733  762  658  104\n336    1985    CHN   NL 0.4782609  686  729  -43\n337    1986    CHN   NL 0.4375000  680  781 -101\n338    1987    CHN   NL 0.4720497  720  801  -81\n339    1988    CHN   NL 0.4753086  660  694  -34\n340    1989    CHN   NL 0.5740741  702  623   79\n341    1990    CHN   NL 0.4753086  690  774  -84\n342    1991    CHN   NL 0.4812500  695  734  -39\n343    1992    CHN   NL 0.4814815  593  624  -31\n344    1993    CHN   NL 0.5185185  738  739   -1\n345    1994    CHN   NL 0.4336283  500  549  -49\n346    1995    CHN   NL 0.5069444  693  671   22\n347    1996    CHN   NL 0.4691358  772  771    1\n348    1997    CHN   NL 0.4197531  687  759  -72\n349    1998    CHN   NL 0.5521472  831  792   39\n350    1999    CHN   NL 0.4135802  747  920 -173\n351    2000    CHN   NL 0.4012346  764  904 -140\n352    2001    CHN   NL 0.5432099  777  701   76\n353    2002    CHN   NL 0.4135802  706  759  -53\n354    2003    CHN   NL 0.5432099  724  683   41\n355    2004    CHN   NL 0.5493827  789  665  124\n356    2005    CHN   NL 0.4876543  703  714  -11\n357    2006    CHN   NL 0.4074074  716  834 -118\n358    2007    CHN   NL 0.5246914  752  690   62\n359    2008    CHN   NL 0.6024845  855  671  184\n360    2009    CHN   NL 0.5155280  707  672   35\n361    2010    CHN   NL 0.4629630  685  767  -82\n362    2011    CHN   NL 0.4382716  654  756 -102\n363    2012    CHN   NL 0.3765432  613  759 -146\n364    2013    CHN   NL 0.4074074  602  689  -87\n365    2014    CHN   NL 0.4506173  614  707  -93\n366    2015    CHN   NL 0.5987654  689  608   81\n367    2016    CHN   NL 0.6397516  808  556  252\n368    2017    CHN   NL 0.5679012  822  695  127\n369    2018    CHN   NL 0.5828221  761  645  116\n370    2019    CHN   NL 0.5185185  814  717   97\n371    2020    CHN   NL 0.5666667  265  240   25\n372    2021    CHN   NL 0.4382716  705  839 -134\n373    2022    CHN   NL 0.4567901  657  731  -74\n374    2023    CHN   NL 0.5123457  819  723   96\n375    2024    CHN   NL 0.5123457  736  669   67\n376    1954    CHA   AL 0.6103896  711  521  190\n377    1955    CHA   AL 0.5909091  725  557  168\n378    1956    CHA   AL 0.5519481  776  634  142\n379    1957    CHA   AL 0.5844156  707  566  141\n380    1958    CHA   AL 0.5324675  634  615   19\n381    1959    CHA   AL 0.6103896  669  588   81\n382    1960    CHA   AL 0.5649351  741  617  124\n383    1961    CHA   AL 0.5308642  765  726   39\n384    1962    CHA   AL 0.5246914  707  658   49\n385    1963    CHA   AL 0.5802469  683  544  139\n386    1964    CHA   AL 0.6049383  642  501  141\n387    1965    CHA   AL 0.5864198  647  555   92\n388    1966    CHA   AL 0.5123457  574  517   57\n389    1967    CHA   AL 0.5493827  531  491   40\n390    1968    CHA   AL 0.4135802  463  527  -64\n391    1969    CHA   AL 0.4197531  625  723  -98\n392    1970    CHA   AL 0.3456790  633  822 -189\n393    1971    CHA   AL 0.4876543  617  597   20\n394    1972    CHA   AL 0.5649351  566  538   28\n395    1973    CHA   AL 0.4753086  652  705  -53\n396    1974    CHA   AL 0.5000000  684  721  -37\n397    1975    CHA   AL 0.4658385  655  703  -48\n398    1976    CHA   AL 0.3975155  586  745 -159\n399    1977    CHA   AL 0.5555556  844  771   73\n400    1978    CHA   AL 0.4409938  634  731  -97\n401    1979    CHA   AL 0.4562500  730  748  -18\n402    1980    CHA   AL 0.4375000  587  722 -135\n403    1981    CHA   AL 0.5094340  476  423   53\n404    1982    CHA   AL 0.5370370  786  710   76\n405    1983    CHA   AL 0.6111111  800  650  150\n406    1984    CHA   AL 0.4567901  679  736  -57\n407    1985    CHA   AL 0.5246914  736  720   16\n408    1986    CHA   AL 0.4444444  644  699  -55\n409    1987    CHA   AL 0.4753086  748  746    2\n410    1988    CHA   AL 0.4409938  631  757 -126\n411    1989    CHA   AL 0.4285714  693  750  -57\n412    1990    CHA   AL 0.5802469  682  633   49\n413    1991    CHA   AL 0.5370370  758  681   77\n414    1992    CHA   AL 0.5308642  738  690   48\n415    1993    CHA   AL 0.5802469  776  664  112\n416    1994    CHA   AL 0.5929204  633  498  135\n417    1995    CHA   AL 0.4722222  755  758   -3\n418    1996    CHA   AL 0.5246914  898  794  104\n419    1997    CHA   AL 0.4968944  779  833  -54\n420    1998    CHA   AL 0.4938272  861  931  -70\n421    1999    CHA   AL 0.4658385  777  870  -93\n422    2000    CHA   AL 0.5864198  978  839  139\n423    2001    CHA   AL 0.5123457  798  795    3\n424    2002    CHA   AL 0.5000000  856  798   58\n425    2003    CHA   AL 0.5308642  791  715   76\n426    2004    CHA   AL 0.5123457  865  831   34\n427    2005    CHA   AL 0.6111111  741  645   96\n428    2006    CHA   AL 0.5555556  868  794   74\n429    2007    CHA   AL 0.4444444  693  839 -146\n430    2008    CHA   AL 0.5460123  811  729   82\n431    2009    CHA   AL 0.4876543  724  732   -8\n432    2010    CHA   AL 0.5432099  752  704   48\n433    2011    CHA   AL 0.4876543  654  706  -52\n434    2012    CHA   AL 0.5246914  748  676   72\n435    2013    CHA   AL 0.3888889  598  723 -125\n436    2014    CHA   AL 0.4506173  660  758  -98\n437    2015    CHA   AL 0.4691358  622  701  -79\n438    2016    CHA   AL 0.4814815  686  715  -29\n439    2017    CHA   AL 0.4135802  706  820 -114\n440    2018    CHA   AL 0.3827160  656  848 -192\n441    2019    CHA   AL 0.4472050  708  832 -124\n442    2020    CHA   AL 0.5833333  306  246   60\n443    2021    CHA   AL 0.5740741  796  636  160\n444    2022    CHA   AL 0.5000000  686  717  -31\n445    2023    CHA   AL 0.3765432  641  841 -200\n446    2024    CHA   AL 0.2530864  507  813 -306\n447    1954    CIN   NL 0.4805195  729  763  -34\n448    1955    CIN   NL 0.4870130  761  684   77\n449    1956    CIN   NL 0.5909091  775  658  117\n450    1957    CIN   NL 0.5194805  747  781  -34\n451    1958    CIN   NL 0.4935065  695  621   74\n452    1959    CIN   NL 0.4805195  764  738   26\n453    1960    CIN   NL 0.4350649  640  692  -52\n454    1961    CIN   NL 0.6038961  710  653   57\n455    1962    CIN   NL 0.6049383  802  685  117\n456    1963    CIN   NL 0.5308642  648  594   54\n457    1964    CIN   NL 0.5679012  660  566   94\n458    1965    CIN   NL 0.5493827  825  704  121\n459    1966    CIN   NL 0.4750000  692  702  -10\n460    1967    CIN   NL 0.5370370  604  563   41\n461    1968    CIN   NL 0.5123457  690  673   17\n462    1969    CIN   NL 0.5493827  798  768   30\n463    1970    CIN   NL 0.6296296  775  681   94\n464    1971    CIN   NL 0.4876543  586  581    5\n465    1972    CIN   NL 0.6168831  707  557  150\n466    1973    CIN   NL 0.6111111  741  621  120\n467    1974    CIN   NL 0.6049383  776  631  145\n468    1975    CIN   NL 0.6666667  840  586  254\n469    1976    CIN   NL 0.6296296  857  633  224\n470    1977    CIN   NL 0.5432099  802  725   77\n471    1978    CIN   NL 0.5714286  710  688   22\n472    1979    CIN   NL 0.5590062  731  644   87\n473    1980    CIN   NL 0.5493827  707  670   37\n474    1981    CIN   NL 0.6111111  464  440   24\n475    1982    CIN   NL 0.3765432  545  661 -116\n476    1983    CIN   NL 0.4567901  623  710  -87\n477    1984    CIN   NL 0.4320988  627  747 -120\n478    1985    CIN   NL 0.5527950  677  666   11\n479    1986    CIN   NL 0.5308642  732  717   15\n480    1987    CIN   NL 0.5185185  783  752   31\n481    1988    CIN   NL 0.5403727  641  596   45\n482    1989    CIN   NL 0.4629630  632  691  -59\n483    1990    CIN   NL 0.5617284  693  597   96\n484    1991    CIN   NL 0.4567901  689  691   -2\n485    1992    CIN   NL 0.5555556  660  609   51\n486    1993    CIN   NL 0.4506173  722  785  -63\n487    1994    CIN   NL 0.5789474  609  490  119\n488    1995    CIN   NL 0.5902778  747  623  124\n489    1996    CIN   NL 0.5000000  778  773    5\n490    1997    CIN   NL 0.4691358  651  764 -113\n491    1998    CIN   NL 0.4753086  750  760  -10\n492    1999    CIN   NL 0.5889571  865  711  154\n493    2000    CIN   NL 0.5246914  825  765   60\n494    2001    CIN   NL 0.4074074  735  850 -115\n495    2002    CIN   NL 0.4814815  709  774  -65\n496    2003    CIN   NL 0.4259259  694  886 -192\n497    2004    CIN   NL 0.4691358  750  907 -157\n498    2005    CIN   NL 0.4506173  820  889  -69\n499    2006    CIN   NL 0.4938272  749  801  -52\n500    2007    CIN   NL 0.4444444  783  853  -70\n501    2008    CIN   NL 0.4567901  704  800  -96\n502    2009    CIN   NL 0.4814815  673  723  -50\n503    2010    CIN   NL 0.5617284  790  685  105\n504    2011    CIN   NL 0.4876543  735  720   15\n505    2012    CIN   NL 0.5987654  669  588   81\n506    2013    CIN   NL 0.5555556  698  589  109\n507    2014    CIN   NL 0.4691358  595  612  -17\n508    2015    CIN   NL 0.3950617  640  754 -114\n509    2016    CIN   NL 0.4197531  716  854 -138\n510    2017    CIN   NL 0.4197531  753  869 -116\n511    2018    CIN   NL 0.4135802  696  819 -123\n512    2019    CIN   NL 0.4629630  701  711  -10\n513    2020    CIN   NL 0.5166667  243  243    0\n514    2021    CIN   NL 0.5123457  786  760   26\n515    2022    CIN   NL 0.3827160  648  815 -167\n516    2023    CIN   NL 0.5061728  783  821  -38\n517    2024    CIN   NL 0.4753086  699  694    5\n518    1954    CLE   AL 0.7207792  746  504  242\n519    1955    CLE   AL 0.6038961  698  601   97\n520    1956    CLE   AL 0.5714286  712  581  131\n521    1957    CLE   AL 0.4967320  682  722  -40\n522    1958    CLE   AL 0.5032680  694  635   59\n523    1959    CLE   AL 0.5779221  745  646   99\n524    1960    CLE   AL 0.4935065  667  693  -26\n525    1961    CLE   AL 0.4844720  737  752  -15\n526    1962    CLE   AL 0.4938272  682  745  -63\n527    1963    CLE   AL 0.4876543  635  702  -67\n528    1964    CLE   AL 0.4876543  689  693   -4\n529    1965    CLE   AL 0.5370370  663  613   50\n530    1966    CLE   AL 0.5000000  574  586  -12\n531    1967    CLE   AL 0.4629630  559  613  -54\n532    1968    CLE   AL 0.5341615  516  504   12\n533    1969    CLE   AL 0.3850932  573  717 -144\n534    1970    CLE   AL 0.4691358  649  675  -26\n535    1971    CLE   AL 0.3703704  543  747 -204\n536    1972    CLE   AL 0.4615385  472  519  -47\n537    1973    CLE   AL 0.4382716  680  826 -146\n538    1974    CLE   AL 0.4753086  662  694  -32\n539    1975    CLE   AL 0.4968553  688  703  -15\n540    1976    CLE   AL 0.5094340  615  615    0\n541    1977    CLE   AL 0.4409938  676  739  -63\n542    1978    CLE   AL 0.4339623  639  694  -55\n543    1979    CLE   AL 0.5031056  760  805  -45\n544    1980    CLE   AL 0.4937500  738  807  -69\n545    1981    CLE   AL 0.5048544  431  442  -11\n546    1982    CLE   AL 0.4814815  683  748  -65\n547    1983    CLE   AL 0.4320988  704  785  -81\n548    1984    CLE   AL 0.4629630  761  766   -5\n549    1985    CLE   AL 0.3703704  729  861 -132\n550    1986    CLE   AL 0.5185185  831  841  -10\n551    1987    CLE   AL 0.3765432  742  957 -215\n552    1988    CLE   AL 0.4814815  666  731  -65\n553    1989    CLE   AL 0.4506173  604  654  -50\n554    1990    CLE   AL 0.4753086  732  737   -5\n555    1991    CLE   AL 0.3518519  576  759 -183\n556    1992    CLE   AL 0.4691358  674  746  -72\n557    1993    CLE   AL 0.4691358  790  813  -23\n558    1994    CLE   AL 0.5840708  679  562  117\n559    1995    CLE   AL 0.6944444  840  607  233\n560    1996    CLE   AL 0.6149068  952  769  183\n561    1997    CLE   AL 0.5341615  868  815   53\n562    1998    CLE   AL 0.5493827  850  779   71\n563    1999    CLE   AL 0.5987654 1009  860  149\n564    2000    CLE   AL 0.5555556  950  816  134\n565    2001    CLE   AL 0.5617284  897  821   76\n566    2002    CLE   AL 0.4567901  739  837  -98\n567    2003    CLE   AL 0.4197531  699  778  -79\n568    2004    CLE   AL 0.4938272  858  857    1\n569    2005    CLE   AL 0.5740741  790  642  148\n570    2006    CLE   AL 0.4814815  870  782   88\n571    2007    CLE   AL 0.5925926  811  704  107\n572    2008    CLE   AL 0.5000000  805  761   44\n573    2009    CLE   AL 0.4012346  773  865  -92\n574    2010    CLE   AL 0.4259259  646  752 -106\n575    2011    CLE   AL 0.4938272  704  760  -56\n576    2012    CLE   AL 0.4197531  667  845 -178\n577    2013    CLE   AL 0.5679012  745  662   83\n578    2014    CLE   AL 0.5246914  669  653   16\n579    2015    CLE   AL 0.5031056  669  640   29\n580    2016    CLE   AL 0.5838509  777  676  101\n581    2017    CLE   AL 0.6296296  818  564  254\n582    2018    CLE   AL 0.5617284  818  648  170\n583    2019    CLE   AL 0.5740741  769  657  112\n584    2020    CLE   AL 0.5833333  248  209   39\n585    2021    CLE   AL 0.4938272  717  727  -10\n586    2022    CLE   AL 0.5679012  698  634   64\n587    2023    CLE   AL 0.4691358  662  697  -35\n588    2024    CLE   AL 0.5714286  708  621   87\n589    1993    COL   NL 0.4135802  758  967 -209\n590    1994    COL   NL 0.4529915  573  638  -65\n591    1995    COL   NL 0.5347222  785  783    2\n592    1996    COL   NL 0.5123457  961  964   -3\n593    1997    COL   NL 0.5123457  923  908   15\n594    1998    COL   NL 0.4753086  826  855  -29\n595    1999    COL   NL 0.4444444  906 1028 -122\n596    2000    COL   NL 0.5061728  968  897   71\n597    2001    COL   NL 0.4506173  923  906   17\n598    2002    COL   NL 0.4506173  778  898 -120\n599    2003    COL   NL 0.4567901  853  892  -39\n600    2004    COL   NL 0.4197531  833  923  -90\n601    2005    COL   NL 0.4135802  740  862 -122\n602    2006    COL   NL 0.4691358  813  812    1\n603    2007    COL   NL 0.5521472  860  758  102\n604    2008    COL   NL 0.4567901  747  822  -75\n605    2009    COL   NL 0.5679012  804  715   89\n606    2010    COL   NL 0.5123457  770  717   53\n607    2011    COL   NL 0.4506173  735  774  -39\n608    2012    COL   NL 0.3950617  758  890 -132\n609    2013    COL   NL 0.4567901  706  760  -54\n610    2014    COL   NL 0.4074074  755  818  -63\n611    2015    COL   NL 0.4197531  737  844 -107\n612    2016    COL   NL 0.4629630  845  860  -15\n613    2017    COL   NL 0.5370370  824  757   67\n614    2018    COL   NL 0.5582822  780  745   35\n615    2019    COL   NL 0.4382716  835  958 -123\n616    2020    COL   NL 0.4333333  275  353  -78\n617    2021    COL   NL 0.4596273  739  796  -57\n618    2022    COL   NL 0.4197531  698  873 -175\n619    2023    COL   NL 0.3641975  721  957 -236\n620    2024    COL   NL 0.3765432  682  929 -247\n621    1954    DET   AL 0.4415584  584  664  -80\n622    1955    DET   AL 0.5129870  775  658  117\n623    1956    DET   AL 0.5324675  789  699   90\n624    1957    DET   AL 0.5064935  614  614    0\n625    1958    DET   AL 0.5000000  659  606   53\n626    1959    DET   AL 0.4935065  713  732  -19\n627    1960    DET   AL 0.4610390  633  644  -11\n628    1961    DET   AL 0.6234568  841  671  170\n629    1962    DET   AL 0.5279503  758  692   66\n630    1963    DET   AL 0.4876543  700  703   -3\n631    1964    DET   AL 0.5246914  699  678   21\n632    1965    DET   AL 0.5493827  680  602   78\n633    1966    DET   AL 0.5432099  719  698   21\n634    1967    DET   AL 0.5617284  683  587   96\n635    1968    DET   AL 0.6358025  671  492  179\n636    1969    DET   AL 0.5555556  701  601  100\n637    1970    DET   AL 0.4876543  666  731  -65\n638    1971    DET   AL 0.5617284  701  645   56\n639    1972    DET   AL 0.5512821  558  514   44\n640    1973    DET   AL 0.5246914  642  674  -32\n641    1974    DET   AL 0.4444444  620  768 -148\n642    1975    DET   AL 0.3584906  570  786 -216\n643    1976    DET   AL 0.4596273  609  709 -100\n644    1977    DET   AL 0.4567901  714  751  -37\n645    1978    DET   AL 0.5308642  714  653   61\n646    1979    DET   AL 0.5279503  770  738   32\n647    1980    DET   AL 0.5185185  830  757   73\n648    1981    DET   AL 0.5504587  427  404   23\n649    1982    DET   AL 0.5123457  729  685   44\n650    1983    DET   AL 0.5679012  789  679  110\n651    1984    DET   AL 0.6419753  829  643  186\n652    1985    DET   AL 0.5217391  729  688   41\n653    1986    DET   AL 0.5370370  798  714   84\n654    1987    DET   AL 0.6049383  896  735  161\n655    1988    DET   AL 0.5432099  703  658   45\n656    1989    DET   AL 0.3641975  617  816 -199\n657    1990    DET   AL 0.4876543  750  754   -4\n658    1991    DET   AL 0.5185185  817  794   23\n659    1992    DET   AL 0.4629630  791  794   -3\n660    1993    DET   AL 0.5246914  899  837   62\n661    1994    DET   AL 0.4608696  652  671  -19\n662    1995    DET   AL 0.4166667  654  844 -190\n663    1996    DET   AL 0.3271605  783 1103 -320\n664    1997    DET   AL 0.4876543  784  790   -6\n665    1998    DET   AL 0.4012346  722  863 -141\n666    1999    DET   AL 0.4285714  747  882 -135\n667    2000    DET   AL 0.4876543  823  827   -4\n668    2001    DET   AL 0.4074074  724  876 -152\n669    2002    DET   AL 0.3416149  575  864 -289\n670    2003    DET   AL 0.2654321  591  928 -337\n671    2004    DET   AL 0.4444444  827  844  -17\n672    2005    DET   AL 0.4382716  723  787  -64\n673    2006    DET   AL 0.5864198  822  675  147\n674    2007    DET   AL 0.5432099  887  797   90\n675    2008    DET   AL 0.4567901  821  857  -36\n676    2009    DET   AL 0.5276074  743  745   -2\n677    2010    DET   AL 0.5000000  751  743    8\n678    2011    DET   AL 0.5864198  787  711   76\n679    2012    DET   AL 0.5432099  726  670   56\n680    2013    DET   AL 0.5740741  796  624  172\n681    2014    DET   AL 0.5555556  757  705   52\n682    2015    DET   AL 0.4596273  689  803 -114\n683    2016    DET   AL 0.5341615  750  721   29\n684    2017    DET   AL 0.3950617  735  894 -159\n685    2018    DET   AL 0.3950617  630  796 -166\n686    2019    DET   AL 0.2919255  582  915 -333\n687    2020    DET   AL 0.3965517  249  318  -69\n688    2021    DET   AL 0.4753086  697  756  -59\n689    2022    DET   AL 0.4074074  557  713 -156\n690    2023    DET   AL 0.4814815  661  740  -79\n691    2024    DET   AL 0.5308642  682  642   40\n692    1993    FLO   NL 0.3950617  581  724 -143\n693    1994    FLO   NL 0.4434783  468  576 -108\n694    1995    FLO   NL 0.4685315  673  673    0\n695    1996    FLO   NL 0.4938272  688  703  -15\n696    1997    FLO   NL 0.5679012  740  669   71\n697    1998    FLO   NL 0.3333333  667  923 -256\n698    1999    FLO   NL 0.3950617  691  852 -161\n699    2000    FLO   NL 0.4906832  731  797  -66\n700    2001    FLO   NL 0.4691358  742  744   -2\n701    2002    FLO   NL 0.4876543  699  763  -64\n702    2003    FLO   NL 0.5617284  751  692   59\n703    2004    FLO   NL 0.5123457  718  700   18\n704    2005    FLO   NL 0.5123457  717  732  -15\n705    2006    FLO   NL 0.4814815  758  772  -14\n706    2007    FLO   NL 0.4382716  790  891 -101\n707    2008    FLO   NL 0.5217391  770  767    3\n708    2009    FLO   NL 0.5370370  772  766    6\n709    2010    FLO   NL 0.4938272  719  717    2\n710    2011    FLO   NL 0.4444444  625  702  -77\n711    2012    MIA   NL 0.4259259  609  724 -115\n712    2013    MIA   NL 0.3827160  513  646 -133\n713    2014    MIA   NL 0.4753086  645  674  -29\n714    2015    MIA   NL 0.4382716  613  678  -65\n715    2016    MIA   NL 0.4906832  655  682  -27\n716    2017    MIA   NL 0.4753086  778  822  -44\n717    2018    MIA   NL 0.3913043  589  809 -220\n718    2019    MIA   NL 0.3518519  615  808 -193\n719    2020    MIA   NL 0.5166667  263  304  -41\n720    2021    MIA   NL 0.4135802  623  701  -78\n721    2022    MIA   NL 0.4259259  586  676  -90\n722    2023    MIA   NL 0.5185185  666  723  -57\n723    2024    MIA   NL 0.3827160  637  841 -204\n724    1962    HOU   NL 0.4000000  592  717 -125\n725    1963    HOU   NL 0.4074074  464  640 -176\n726    1964    HOU   NL 0.4074074  495  628 -133\n727    1965    HOU   NL 0.4012346  569  711 -142\n728    1966    HOU   NL 0.4444444  612  695  -83\n729    1967    HOU   NL 0.4259259  626  742 -116\n730    1968    HOU   NL 0.4444444  510  588  -78\n731    1969    HOU   NL 0.5000000  676  668    8\n732    1970    HOU   NL 0.4876543  744  763  -19\n733    1971    HOU   NL 0.4876543  585  567   18\n734    1972    HOU   NL 0.5490196  708  636   72\n735    1973    HOU   NL 0.5061728  681  672    9\n736    1974    HOU   NL 0.5000000  653  632   21\n737    1975    HOU   NL 0.3975155  664  711  -47\n738    1976    HOU   NL 0.4938272  625  657  -32\n739    1977    HOU   NL 0.5000000  680  650   30\n740    1978    HOU   NL 0.4567901  605  634  -29\n741    1979    HOU   NL 0.5493827  583  582    1\n742    1980    HOU   NL 0.5705521  637  589   48\n743    1981    HOU   NL 0.5545455  394  331   63\n744    1982    HOU   NL 0.4753086  569  620  -51\n745    1983    HOU   NL 0.5246914  643  646   -3\n746    1984    HOU   NL 0.4938272  693  630   63\n747    1985    HOU   NL 0.5123457  706  691   15\n748    1986    HOU   NL 0.5925926  654  569   85\n749    1987    HOU   NL 0.4691358  648  678  -30\n750    1988    HOU   NL 0.5061728  617  631  -14\n751    1989    HOU   NL 0.5308642  647  669  -22\n752    1990    HOU   NL 0.4629630  573  656  -83\n753    1991    HOU   NL 0.4012346  605  717 -112\n754    1992    HOU   NL 0.5000000  608  668  -60\n755    1993    HOU   NL 0.5246914  716  630   86\n756    1994    HOU   NL 0.5739130  602  503   99\n757    1995    HOU   NL 0.5277778  747  674   73\n758    1996    HOU   NL 0.5061728  753  792  -39\n759    1997    HOU   NL 0.5185185  777  660  117\n760    1998    HOU   NL 0.6296296  874  620  254\n761    1999    HOU   NL 0.5987654  823  675  148\n762    2000    HOU   NL 0.4444444  938  944   -6\n763    2001    HOU   NL 0.5740741  847  769   78\n764    2002    HOU   NL 0.5185185  749  695   54\n765    2003    HOU   NL 0.5370370  805  677  128\n766    2004    HOU   NL 0.5679012  803  698  105\n767    2005    HOU   NL 0.5493827  693  609   84\n768    2006    HOU   NL 0.5061728  735  719   16\n769    2007    HOU   NL 0.4506173  723  813  -90\n770    2008    HOU   NL 0.5341615  712  743  -31\n771    2009    HOU   NL 0.4567901  643  770 -127\n772    2010    HOU   NL 0.4691358  611  729 -118\n773    2011    HOU   NL 0.3456790  615  796 -181\n774    2012    HOU   NL 0.3395062  583  794 -211\n775    2013    HOU   AL 0.3148148  610  848 -238\n776    2014    HOU   AL 0.4320988  629  723  -94\n777    2015    HOU   AL 0.5308642  729  618  111\n778    2016    HOU   AL 0.5185185  724  701   23\n779    2017    HOU   AL 0.6234568  896  700  196\n780    2018    HOU   AL 0.6358025  797  534  263\n781    2019    HOU   AL 0.6604938  920  640  280\n782    2020    HOU   AL 0.4833333  279  275    4\n783    2021    HOU   AL 0.5864198  863  658  205\n784    2022    HOU   AL 0.6543210  737  518  219\n785    2023    HOU   AL 0.5555556  827  698  129\n786    2024    HOU   AL 0.5465839  740  649   91\n787    1969    KCA   AL 0.4259259  586  688 -102\n788    1970    KCA   AL 0.4012346  611  705  -94\n789    1971    KCA   AL 0.5279503  603  566   37\n790    1972    KCA   AL 0.4935065  580  545   35\n791    1973    KCA   AL 0.5432099  755  752    3\n792    1974    KCA   AL 0.4753086  667  662    5\n793    1975    KCA   AL 0.5617284  710  649   61\n794    1976    KCA   AL 0.5555556  713  611  102\n795    1977    KCA   AL 0.6296296  822  651  171\n796    1978    KCA   AL 0.5679012  743  634  109\n797    1979    KCA   AL 0.5246914  851  816   35\n798    1980    KCA   AL 0.5987654  809  694  115\n799    1981    KCA   AL 0.4854369  397  405   -8\n800    1982    KCA   AL 0.5555556  784  717   67\n801    1983    KCA   AL 0.4876543  696  767  -71\n802    1984    KCA   AL 0.5185185  673  686  -13\n803    1985    KCA   AL 0.5617284  687  639   48\n804    1986    KCA   AL 0.4691358  654  673  -19\n805    1987    KCA   AL 0.5123457  715  691   24\n806    1988    KCA   AL 0.5217391  704  648   56\n807    1989    KCA   AL 0.5679012  690  635   55\n808    1990    KCA   AL 0.4658385  707  709   -2\n809    1991    KCA   AL 0.5061728  727  722    5\n810    1992    KCA   AL 0.4444444  610  667  -57\n811    1993    KCA   AL 0.5185185  675  694  -19\n812    1994    KCA   AL 0.5565217  574  532   42\n813    1995    KCA   AL 0.4861111  629  691  -62\n814    1996    KCA   AL 0.4658385  746  786  -40\n815    1997    KCA   AL 0.4161491  747  820  -73\n816    1998    KCA   AL 0.4472050  714  899 -185\n817    1999    KCA   AL 0.3975155  856  921  -65\n818    2000    KCA   AL 0.4753086  879  930  -51\n819    2001    KCA   AL 0.4012346  729  858 -129\n820    2002    KCA   AL 0.3827160  737  891 -154\n821    2003    KCA   AL 0.5123457  836  867  -31\n822    2004    KCA   AL 0.3580247  720  905 -185\n823    2005    KCA   AL 0.3456790  701  935 -234\n824    2006    KCA   AL 0.3827160  757  971 -214\n825    2007    KCA   AL 0.4259259  706  778  -72\n826    2008    KCA   AL 0.4629630  691  781  -90\n827    2009    KCA   AL 0.4012346  686  842 -156\n828    2010    KCA   AL 0.4135802  676  845 -169\n829    2011    KCA   AL 0.4382716  730  762  -32\n830    2012    KCA   AL 0.4444444  676  746  -70\n831    2013    KCA   AL 0.5308642  648  601   47\n832    2014    KCA   AL 0.5493827  651  624   27\n833    2015    KCA   AL 0.5864198  724  641   83\n834    2016    KCA   AL 0.5000000  675  712  -37\n835    2017    KCA   AL 0.4938272  702  791  -89\n836    2018    KCA   AL 0.3580247  638  833 -195\n837    2019    KCA   AL 0.3641975  691  869 -178\n838    2020    KCA   AL 0.4333333  248  272  -24\n839    2021    KCA   AL 0.4567901  686  788 -102\n840    2022    KCA   AL 0.4012346  640  810 -170\n841    2023    KCA   AL 0.3456790  676  859 -183\n842    2024    KCA   AL 0.5308642  735  644   91\n843    1954    BRO   NL 0.5974026  778  740   38\n844    1955    BRO   NL 0.6405229  857  650  207\n845    1956    BRO   NL 0.6038961  720  601  119\n846    1957    BRO   NL 0.5454545  690  591   99\n847    1958    LAN   NL 0.4610390  668  761  -93\n848    1959    LAN   NL 0.5641026  705  670   35\n849    1960    LAN   NL 0.5324675  662  593   69\n850    1961    LAN   NL 0.5779221  735  697   38\n851    1962    LAN   NL 0.6181818  842  697  145\n852    1963    LAN   NL 0.6111111  640  550   90\n853    1964    LAN   NL 0.4938272  614  572   42\n854    1965    LAN   NL 0.5987654  608  521   87\n855    1966    LAN   NL 0.5864198  606  490  116\n856    1967    LAN   NL 0.4506173  519  595  -76\n857    1968    LAN   NL 0.4691358  470  509  -39\n858    1969    LAN   NL 0.5246914  645  561   84\n859    1970    LAN   NL 0.5403727  749  684   65\n860    1971    LAN   NL 0.5493827  663  587   76\n861    1972    LAN   NL 0.5483871  584  527   57\n862    1973    LAN   NL 0.5900621  675  565  110\n863    1974    LAN   NL 0.6296296  798  561  237\n864    1975    LAN   NL 0.5432099  648  534  114\n865    1976    LAN   NL 0.5679012  608  543   65\n866    1977    LAN   NL 0.6049383  769  582  187\n867    1978    LAN   NL 0.5864198  727  573  154\n868    1979    LAN   NL 0.4876543  739  717   22\n869    1980    LAN   NL 0.5644172  663  591   72\n870    1981    LAN   NL 0.5727273  450  356   94\n871    1982    LAN   NL 0.5432099  691  612   79\n872    1983    LAN   NL 0.5617284  654  609   45\n873    1984    LAN   NL 0.4876543  580  600  -20\n874    1985    LAN   NL 0.5864198  682  579  103\n875    1986    LAN   NL 0.4506173  638  679  -41\n876    1987    LAN   NL 0.4506173  635  675  -40\n877    1988    LAN   NL 0.5838509  628  544   84\n878    1989    LAN   NL 0.4812500  554  536   18\n879    1990    LAN   NL 0.5308642  728  685   43\n880    1991    LAN   NL 0.5740741  665  565  100\n881    1992    LAN   NL 0.3888889  548  636  -88\n882    1993    LAN   NL 0.5000000  675  662   13\n883    1994    LAN   NL 0.5087719  532  509   23\n884    1995    LAN   NL 0.5416667  634  609   25\n885    1996    LAN   NL 0.5555556  703  652   51\n886    1997    LAN   NL 0.5432099  742  645   97\n887    1998    LAN   NL 0.5123457  669  678   -9\n888    1999    LAN   NL 0.4753086  793  787    6\n889    2000    LAN   NL 0.5308642  798  729   69\n890    2001    LAN   NL 0.5308642  758  744   14\n891    2002    LAN   NL 0.5679012  713  643   70\n892    2003    LAN   NL 0.5246914  574  556   18\n893    2004    LAN   NL 0.5740741  761  684   77\n894    2005    LAN   NL 0.4382716  685  755  -70\n895    2006    LAN   NL 0.5432099  820  751   69\n896    2007    LAN   NL 0.5061728  735  727    8\n897    2008    LAN   NL 0.5185185  700  648   52\n898    2009    LAN   NL 0.5864198  780  611  169\n899    2010    LAN   NL 0.4938272  667  692  -25\n900    2011    LAN   NL 0.5093168  644  612   32\n901    2012    LAN   NL 0.5308642  637  597   40\n902    2013    LAN   NL 0.5679012  649  582   67\n903    2014    LAN   NL 0.5802469  718  617  101\n904    2015    LAN   NL 0.5679012  667  595   72\n905    2016    LAN   NL 0.5617284  725  638   87\n906    2017    LAN   NL 0.6419753  770  580  190\n907    2018    LAN   NL 0.5644172  804  610  194\n908    2019    LAN   NL 0.6543210  886  613  273\n909    2020    LAN   NL 0.7166667  349  213  136\n910    2021    LAN   NL 0.6543210  830  561  269\n911    2022    LAN   NL 0.6851852  847  513  334\n912    2023    LAN   NL 0.6172840  906  699  207\n913    2024    LAN   NL 0.6049383  842  686  156\n914    1969    SE1   AL 0.3950617  639  799 -160\n915    1970    ML4   AL 0.4012346  613  751 -138\n916    1971    ML4   AL 0.4285714  534  609  -75\n917    1972    ML4   AL 0.4166667  493  595 -102\n918    1973    ML4   AL 0.4567901  708  731  -23\n919    1974    ML4   AL 0.4691358  647  660  -13\n920    1975    ML4   AL 0.4197531  675  792 -117\n921    1976    ML4   AL 0.4099379  570  655  -85\n922    1977    ML4   AL 0.4135802  639  765 -126\n923    1978    ML4   AL 0.5740741  804  650  154\n924    1979    ML4   AL 0.5900621  807  722   85\n925    1980    ML4   AL 0.5308642  811  682  129\n926    1981    ML4   AL 0.5688073  493  459   34\n927    1982    ML4   AL 0.5864198  891  717  174\n928    1983    ML4   AL 0.5370370  764  708   56\n929    1984    ML4   AL 0.4161491  641  734  -93\n930    1985    ML4   AL 0.4409938  690  802 -112\n931    1986    ML4   AL 0.4782609  667  734  -67\n932    1987    ML4   AL 0.5617284  862  817   45\n933    1988    ML4   AL 0.5370370  682  616   66\n934    1989    ML4   AL 0.5000000  707  679   28\n935    1990    ML4   AL 0.4567901  732  760  -28\n936    1991    ML4   AL 0.5123457  799  744   55\n937    1992    ML4   AL 0.5679012  740  604  136\n938    1993    ML4   AL 0.4259259  733  792  -59\n939    1994    ML4   AL 0.4608696  547  586  -39\n940    1995    ML4   AL 0.4513889  740  747   -7\n941    1996    ML4   AL 0.4938272  894  899   -5\n942    1997    ML4   AL 0.4844720  681  742  -61\n943    1998    MIL   NL 0.4567901  707  812 -105\n944    1999    MIL   NL 0.4596273  815  886  -71\n945    2000    MIL   NL 0.4506173  740  826  -86\n946    2001    MIL   NL 0.4197531  740  806  -66\n947    2002    MIL   NL 0.3456790  627  821 -194\n948    2003    MIL   NL 0.4197531  714  873 -159\n949    2004    MIL   NL 0.4161491  634  757 -123\n950    2005    MIL   NL 0.5000000  726  697   29\n951    2006    MIL   NL 0.4629630  730  833 -103\n952    2007    MIL   NL 0.5123457  801  776   25\n953    2008    MIL   NL 0.5555556  750  689   61\n954    2009    MIL   NL 0.4938272  785  818  -33\n955    2010    MIL   NL 0.4753086  750  804  -54\n956    2011    MIL   NL 0.5925926  721  638   83\n957    2012    MIL   NL 0.5123457  776  733   43\n958    2013    MIL   NL 0.4567901  640  687  -47\n959    2014    MIL   NL 0.5061728  650  657   -7\n960    2015    MIL   NL 0.4197531  655  737  -82\n961    2016    MIL   NL 0.4506173  671  733  -62\n962    2017    MIL   NL 0.5308642  732  697   35\n963    2018    MIL   NL 0.5889571  754  659   95\n964    2019    MIL   NL 0.5493827  769  766    3\n965    2020    MIL   NL 0.4833333  247  264  -17\n966    2021    MIL   NL 0.5864198  738  623  115\n967    2022    MIL   NL 0.5308642  725  688   37\n968    2023    MIL   NL 0.5679012  728  647   81\n969    2024    MIL   NL 0.5740741  777  641  136\n970    1954    WS1   AL 0.4285714  632  680  -48\n971    1955    WS1   AL 0.3441558  598  789 -191\n972    1956    WS1   AL 0.3831169  652  924 -272\n973    1957    WS1   AL 0.3571429  603  808 -205\n974    1958    WS1   AL 0.3961039  553  747 -194\n975    1959    WS1   AL 0.4090909  619  701  -82\n976    1960    WS1   AL 0.4740260  672  696  -24\n977    1961    MIN   AL 0.4375000  707  778  -71\n978    1962    MIN   AL 0.5617284  798  713   85\n979    1963    MIN   AL 0.5652174  767  602  165\n980    1964    MIN   AL 0.4876543  737  678   59\n981    1965    MIN   AL 0.6296296  774  600  174\n982    1966    MIN   AL 0.5493827  663  581   82\n983    1967    MIN   AL 0.5617284  671  590   81\n984    1968    MIN   AL 0.4876543  562  546   16\n985    1969    MIN   AL 0.5987654  790  618  172\n986    1970    MIN   AL 0.6049383  744  605  139\n987    1971    MIN   AL 0.4625000  654  670  -16\n988    1972    MIN   AL 0.5000000  537  535    2\n989    1973    MIN   AL 0.5000000  738  692   46\n990    1974    MIN   AL 0.5061728  673  669    4\n991    1975    MIN   AL 0.4779874  724  736  -12\n992    1976    MIN   AL 0.5246914  743  704   39\n993    1977    MIN   AL 0.5217391  867  776   91\n994    1978    MIN   AL 0.4506173  666  678  -12\n995    1979    MIN   AL 0.5061728  764  725   39\n996    1980    MIN   AL 0.4782609  670  724  -54\n997    1981    MIN   AL 0.3761468  378  486 -108\n998    1982    MIN   AL 0.3703704  657  819 -162\n999    1983    MIN   AL 0.4320988  709  822 -113\n1000   1984    MIN   AL 0.5000000  673  675   -2\n1001   1985    MIN   AL 0.4753086  705  782  -77\n1002   1986    MIN   AL 0.4382716  741  839  -98\n1003   1987    MIN   AL 0.5246914  786  806  -20\n1004   1988    MIN   AL 0.5617284  759  672   87\n1005   1989    MIN   AL 0.4938272  740  738    2\n1006   1990    MIN   AL 0.4567901  666  729  -63\n1007   1991    MIN   AL 0.5864198  776  652  124\n1008   1992    MIN   AL 0.5555556  747  653   94\n1009   1993    MIN   AL 0.4382716  693  830 -137\n1010   1994    MIN   AL 0.4690265  594  688  -94\n1011   1995    MIN   AL 0.3888889  703  889 -186\n1012   1996    MIN   AL 0.4814815  877  900  -23\n1013   1997    MIN   AL 0.4197531  772  861  -89\n1014   1998    MIN   AL 0.4320988  734  818  -84\n1015   1999    MIN   AL 0.3937500  686  845 -159\n1016   2000    MIN   AL 0.4259259  748  880 -132\n1017   2001    MIN   AL 0.5246914  771  766    5\n1018   2002    MIN   AL 0.5838509  768  712   56\n1019   2003    MIN   AL 0.5555556  801  758   43\n1020   2004    MIN   AL 0.5679012  780  715   65\n1021   2005    MIN   AL 0.5123457  688  662   26\n1022   2006    MIN   AL 0.5925926  801  683  118\n1023   2007    MIN   AL 0.4876543  718  725   -7\n1024   2008    MIN   AL 0.5398773  829  745   84\n1025   2009    MIN   AL 0.5337423  817  765   52\n1026   2010    MIN   AL 0.5802469  781  671  110\n1027   2011    MIN   AL 0.3888889  619  804 -185\n1028   2012    MIN   AL 0.4074074  701  832 -131\n1029   2013    MIN   AL 0.4074074  614  788 -174\n1030   2014    MIN   AL 0.4320988  715  777  -62\n1031   2015    MIN   AL 0.5123457  696  700   -4\n1032   2016    MIN   AL 0.3641975  722  889 -167\n1033   2017    MIN   AL 0.5246914  815  788   27\n1034   2018    MIN   AL 0.4814815  738  775  -37\n1035   2019    MIN   AL 0.6234568  939  754  185\n1036   2020    MIN   AL 0.6000000  269  215   54\n1037   2021    MIN   AL 0.4506173  729  834 -105\n1038   2022    MIN   AL 0.4814815  696  684   12\n1039   2023    MIN   AL 0.5370370  778  659  119\n1040   2024    MIN   AL 0.5061728  742  735    7\n1041   1962    NYN   NL 0.2500000  617  948 -331\n1042   1963    NYN   NL 0.3148148  501  774 -273\n1043   1964    NYN   NL 0.3271605  569  776 -207\n1044   1965    NYN   NL 0.3086420  495  752 -257\n1045   1966    NYN   NL 0.4099379  587  761 -174\n1046   1967    NYN   NL 0.3765432  498  672 -174\n1047   1968    NYN   NL 0.4506173  473  499  -26\n1048   1969    NYN   NL 0.6172840  632  541   91\n1049   1970    NYN   NL 0.5123457  695  630   65\n1050   1971    NYN   NL 0.5123457  588  550   38\n1051   1972    NYN   NL 0.5320513  528  578  -50\n1052   1973    NYN   NL 0.5093168  608  588   20\n1053   1974    NYN   NL 0.4382716  572  646  -74\n1054   1975    NYN   NL 0.5061728  646  625   21\n1055   1976    NYN   NL 0.5308642  615  538   77\n1056   1977    NYN   NL 0.3950617  587  663  -76\n1057   1978    NYN   NL 0.4074074  607  690  -83\n1058   1979    NYN   NL 0.3888889  593  706 -113\n1059   1980    NYN   NL 0.4135802  611  702  -91\n1060   1981    NYN   NL 0.3980583  348  432  -84\n1061   1982    NYN   NL 0.4012346  609  723 -114\n1062   1983    NYN   NL 0.4197531  575  680 -105\n1063   1984    NYN   NL 0.5555556  652  676  -24\n1064   1985    NYN   NL 0.6049383  695  568  127\n1065   1986    NYN   NL 0.6666667  783  578  205\n1066   1987    NYN   NL 0.5679012  823  698  125\n1067   1988    NYN   NL 0.6250000  703  532  171\n1068   1989    NYN   NL 0.5370370  683  595   88\n1069   1990    NYN   NL 0.5617284  775  613  162\n1070   1991    NYN   NL 0.4782609  640  646   -6\n1071   1992    NYN   NL 0.4444444  599  653  -54\n1072   1993    NYN   NL 0.3641975  672  744  -72\n1073   1994    NYN   NL 0.4867257  506  526  -20\n1074   1995    NYN   NL 0.4791667  657  618   39\n1075   1996    NYN   NL 0.4382716  746  779  -33\n1076   1997    NYN   NL 0.5432099  777  709   68\n1077   1998    NYN   NL 0.5432099  706  645   61\n1078   1999    NYN   NL 0.5950920  853  711  142\n1079   2000    NYN   NL 0.5802469  807  738   69\n1080   2001    NYN   NL 0.5061728  642  713  -71\n1081   2002    NYN   NL 0.4658385  690  703  -13\n1082   2003    NYN   NL 0.4099379  642  754 -112\n1083   2004    NYN   NL 0.4382716  684  731  -47\n1084   2005    NYN   NL 0.5123457  722  648   74\n1085   2006    NYN   NL 0.5987654  834  731  103\n1086   2007    NYN   NL 0.5432099  804  750   54\n1087   2008    NYN   NL 0.5493827  799  715   84\n1088   2009    NYN   NL 0.4320988  671  757  -86\n1089   2010    NYN   NL 0.4876543  656  652    4\n1090   2011    NYN   NL 0.4753086  718  742  -24\n1091   2012    NYN   NL 0.4567901  650  709  -59\n1092   2013    NYN   NL 0.4567901  619  684  -65\n1093   2014    NYN   NL 0.4876543  629  618   11\n1094   2015    NYN   NL 0.5555556  683  613   70\n1095   2016    NYN   NL 0.5370370  671  617   54\n1096   2017    NYN   NL 0.4320988  735  863 -128\n1097   2018    NYN   NL 0.4753086  676  707  -31\n1098   2019    NYN   NL 0.5308642  791  737   54\n1099   2020    NYN   NL 0.4333333  286  308  -22\n1100   2021    NYN   NL 0.4753086  636  668  -32\n1101   2022    NYN   NL 0.6234568  772  606  166\n1102   2023    NYN   NL 0.4629630  717  729  -12\n1103   2024    NYN   NL 0.5493827  768  697   71\n1104   1954    NYA   AL 0.6688312  805  563  242\n1105   1955    NYA   AL 0.6233766  762  569  193\n1106   1956    NYA   AL 0.6298701  857  631  226\n1107   1957    NYA   AL 0.6363636  723  534  189\n1108   1958    NYA   AL 0.5974026  759  577  182\n1109   1959    NYA   AL 0.5129870  687  647   40\n1110   1960    NYA   AL 0.6298701  746  627  119\n1111   1961    NYA   AL 0.6728395  827  612  215\n1112   1962    NYA   AL 0.5925926  817  680  137\n1113   1963    NYA   AL 0.6459627  714  547  167\n1114   1964    NYA   AL 0.6111111  730  577  153\n1115   1965    NYA   AL 0.4753086  611  604    7\n1116   1966    NYA   AL 0.4402516  611  612   -1\n1117   1967    NYA   AL 0.4444444  522  621  -99\n1118   1968    NYA   AL 0.5123457  536  531    5\n1119   1969    NYA   AL 0.4968944  562  587  -25\n1120   1970    NYA   AL 0.5740741  680  612   68\n1121   1971    NYA   AL 0.5061728  648  641    7\n1122   1972    NYA   AL 0.5096774  557  527   30\n1123   1973    NYA   AL 0.4938272  641  610   31\n1124   1974    NYA   AL 0.5493827  671  623   48\n1125   1975    NYA   AL 0.5187500  681  588   93\n1126   1976    NYA   AL 0.6100629  730  575  155\n1127   1977    NYA   AL 0.6172840  831  651  180\n1128   1978    NYA   AL 0.6134969  735  582  153\n1129   1979    NYA   AL 0.5562500  734  672   62\n1130   1980    NYA   AL 0.6358025  820  662  158\n1131   1981    NYA   AL 0.5514019  421  343   78\n1132   1982    NYA   AL 0.4876543  709  716   -7\n1133   1983    NYA   AL 0.5617284  770  703   67\n1134   1984    NYA   AL 0.5370370  758  679   79\n1135   1985    NYA   AL 0.6024845  839  660  179\n1136   1986    NYA   AL 0.5555556  797  738   59\n1137   1987    NYA   AL 0.5493827  788  758   30\n1138   1988    NYA   AL 0.5279503  772  748   24\n1139   1989    NYA   AL 0.4596273  698  792  -94\n1140   1990    NYA   AL 0.4135802  603  749 -146\n1141   1991    NYA   AL 0.4382716  674  777 -103\n1142   1992    NYA   AL 0.4691358  733  746  -13\n1143   1993    NYA   AL 0.5432099  821  761   60\n1144   1994    NYA   AL 0.6194690  670  534  136\n1145   1995    NYA   AL 0.5486111  749  688   61\n1146   1996    NYA   AL 0.5679012  871  787   84\n1147   1997    NYA   AL 0.5925926  891  688  203\n1148   1998    NYA   AL 0.7037037  965  656  309\n1149   1999    NYA   AL 0.6049383  900  731  169\n1150   2000    NYA   AL 0.5403727  871  814   57\n1151   2001    NYA   AL 0.5937500  804  713   91\n1152   2002    NYA   AL 0.6397516  897  697  200\n1153   2003    NYA   AL 0.6234568  877  716  161\n1154   2004    NYA   AL 0.6234568  897  808   89\n1155   2005    NYA   AL 0.5864198  886  789   97\n1156   2006    NYA   AL 0.5987654  930  767  163\n1157   2007    NYA   AL 0.5802469  968  777  191\n1158   2008    NYA   AL 0.5493827  789  727   62\n1159   2009    NYA   AL 0.6358025  915  753  162\n1160   2010    NYA   AL 0.5864198  859  693  166\n1161   2011    NYA   AL 0.5987654  867  657  210\n1162   2012    NYA   AL 0.5864198  804  668  136\n1163   2013    NYA   AL 0.5246914  650  671  -21\n1164   2014    NYA   AL 0.5185185  633  664  -31\n1165   2015    NYA   AL 0.5370370  764  698   66\n1166   2016    NYA   AL 0.5185185  680  702  -22\n1167   2017    NYA   AL 0.5617284  858  660  198\n1168   2018    NYA   AL 0.6172840  851  669  182\n1169   2019    NYA   AL 0.6358025  943  739  204\n1170   2020    NYA   AL 0.5500000  315  270   45\n1171   2021    NYA   AL 0.5679012  711  669   42\n1172   2022    NYA   AL 0.6111111  807  567  240\n1173   2023    NYA   AL 0.5061728  673  698  -25\n1174   2024    NYA   AL 0.5802469  815  668  147\n1175   1954    PHA   AL 0.3311688  542  875 -333\n1176   1955    KC1   AL 0.4090909  638  911 -273\n1177   1956    KC1   AL 0.3376623  619  831 -212\n1178   1957    KC1   AL 0.3856209  563  710 -147\n1179   1958    KC1   AL 0.4740260  642  713  -71\n1180   1959    KC1   AL 0.4285714  681  760  -79\n1181   1960    KC1   AL 0.3766234  615  756 -141\n1182   1961    KC1   AL 0.3788820  683  863 -180\n1183   1962    KC1   AL 0.4444444  745  837  -92\n1184   1963    KC1   AL 0.4506173  615  704  -89\n1185   1964    KC1   AL 0.3518519  621  836 -215\n1186   1965    KC1   AL 0.3641975  585  755 -170\n1187   1966    KC1   AL 0.4625000  564  648  -84\n1188   1967    KC1   AL 0.3850932  533  660 -127\n1189   1968    OAK   AL 0.5061728  569  544   25\n1190   1969    OAK   AL 0.5432099  740  678   62\n1191   1970    OAK   AL 0.5493827  678  593   85\n1192   1971    OAK   AL 0.6273292  691  564  127\n1193   1972    OAK   AL 0.6000000  604  457  147\n1194   1973    OAK   AL 0.5802469  758  615  143\n1195   1974    OAK   AL 0.5555556  689  551  138\n1196   1975    OAK   AL 0.6049383  758  606  152\n1197   1976    OAK   AL 0.5403727  686  598   88\n1198   1977    OAK   AL 0.3913043  605  749 -144\n1199   1978    OAK   AL 0.4259259  532  690 -158\n1200   1979    OAK   AL 0.3333333  573  860 -287\n1201   1980    OAK   AL 0.5123457  686  642   44\n1202   1981    OAK   AL 0.5871560  458  403   55\n1203   1982    OAK   AL 0.4197531  691  819 -128\n1204   1983    OAK   AL 0.4567901  708  782  -74\n1205   1984    OAK   AL 0.4753086  738  796  -58\n1206   1985    OAK   AL 0.4753086  757  787  -30\n1207   1986    OAK   AL 0.4691358  731  760  -29\n1208   1987    OAK   AL 0.5000000  806  789   17\n1209   1988    OAK   AL 0.6419753  800  620  180\n1210   1989    OAK   AL 0.6111111  712  576  136\n1211   1990    OAK   AL 0.6358025  733  570  163\n1212   1991    OAK   AL 0.5185185  760  776  -16\n1213   1992    OAK   AL 0.5925926  745  672   73\n1214   1993    OAK   AL 0.4197531  715  846 -131\n1215   1994    OAK   AL 0.4473684  549  589  -40\n1216   1995    OAK   AL 0.4652778  730  761  -31\n1217   1996    OAK   AL 0.4814815  861  900  -39\n1218   1997    OAK   AL 0.4012346  764  946 -182\n1219   1998    OAK   AL 0.4567901  804  866  -62\n1220   1999    OAK   AL 0.5370370  893  846   47\n1221   2000    OAK   AL 0.5652174  947  813  134\n1222   2001    OAK   AL 0.6296296  884  645  239\n1223   2002    OAK   AL 0.6358025  800  654  146\n1224   2003    OAK   AL 0.5925926  768  643  125\n1225   2004    OAK   AL 0.5617284  793  742   51\n1226   2005    OAK   AL 0.5432099  772  658  114\n1227   2006    OAK   AL 0.5740741  771  727   44\n1228   2007    OAK   AL 0.4691358  741  758  -17\n1229   2008    OAK   AL 0.4658385  646  690  -44\n1230   2009    OAK   AL 0.4629630  759  761   -2\n1231   2010    OAK   AL 0.5000000  663  626   37\n1232   2011    OAK   AL 0.4567901  645  679  -34\n1233   2012    OAK   AL 0.5802469  713  614   99\n1234   2013    OAK   AL 0.5925926  767  625  142\n1235   2014    OAK   AL 0.5432099  729  572  157\n1236   2015    OAK   AL 0.4197531  694  729  -35\n1237   2016    OAK   AL 0.4259259  653  761 -108\n1238   2017    OAK   AL 0.4629630  739  826  -87\n1239   2018    OAK   AL 0.5987654  813  674  139\n1240   2019    OAK   AL 0.5987654  845  680  165\n1241   2020    OAK   AL 0.6000000  274  232   42\n1242   2021    OAK   AL 0.5308642  743  687   56\n1243   2022    OAK   AL 0.3703704  568  770 -202\n1244   2023    OAK   AL 0.3086420  585  924 -339\n1245   2024    OAK   AL 0.4259259  643  764 -121\n1246   1954    PHI   NL 0.4870130  659  614   45\n1247   1955    PHI   NL 0.5000000  675  666    9\n1248   1956    PHI   NL 0.4610390  668  738  -70\n1249   1957    PHI   NL 0.5000000  623  656  -33\n1250   1958    PHI   NL 0.4480519  664  762  -98\n1251   1959    PHI   NL 0.4155844  599  725 -126\n1252   1960    PHI   NL 0.3831169  546  691 -145\n1253   1961    PHI   NL 0.3051948  584  796 -212\n1254   1962    PHI   NL 0.5031056  705  759  -54\n1255   1963    PHI   NL 0.5370370  642  578   64\n1256   1964    PHI   NL 0.5679012  693  632   61\n1257   1965    PHI   NL 0.5279503  654  667  -13\n1258   1966    PHI   NL 0.5370370  696  640   56\n1259   1967    PHI   NL 0.5061728  612  581   31\n1260   1968    PHI   NL 0.4691358  543  615  -72\n1261   1969    PHI   NL 0.3888889  645  745 -100\n1262   1970    PHI   NL 0.4534161  594  730 -136\n1263   1971    PHI   NL 0.4135802  558  688 -130\n1264   1972    PHI   NL 0.3782051  503  635 -132\n1265   1973    PHI   NL 0.4382716  642  717  -75\n1266   1974    PHI   NL 0.4938272  676  701  -25\n1267   1975    PHI   NL 0.5308642  735  694   41\n1268   1976    PHI   NL 0.6234568  770  557  213\n1269   1977    PHI   NL 0.6234568  847  668  179\n1270   1978    PHI   NL 0.5555556  708  586  122\n1271   1979    PHI   NL 0.5185185  683  718  -35\n1272   1980    PHI   NL 0.5617284  728  639   89\n1273   1981    PHI   NL 0.5514019  491  472   19\n1274   1982    PHI   NL 0.5493827  664  654   10\n1275   1983    PHI   NL 0.5555556  696  635   61\n1276   1984    PHI   NL 0.5000000  720  690   30\n1277   1985    PHI   NL 0.4629630  667  673   -6\n1278   1986    PHI   NL 0.5341615  739  713   26\n1279   1987    PHI   NL 0.4938272  702  749  -47\n1280   1988    PHI   NL 0.4037267  597  734 -137\n1281   1989    PHI   NL 0.4135802  629  735 -106\n1282   1990    PHI   NL 0.4753086  646  729  -83\n1283   1991    PHI   NL 0.4814815  629  680  -51\n1284   1992    PHI   NL 0.4320988  686  717  -31\n1285   1993    PHI   NL 0.5987654  877  740  137\n1286   1994    PHI   NL 0.4695652  521  497   24\n1287   1995    PHI   NL 0.4791667  615  658  -43\n1288   1996    PHI   NL 0.4135802  650  790 -140\n1289   1997    PHI   NL 0.4197531  668  840 -172\n1290   1998    PHI   NL 0.4629630  713  808  -95\n1291   1999    PHI   NL 0.4753086  841  846   -5\n1292   2000    PHI   NL 0.4012346  708  830 -122\n1293   2001    PHI   NL 0.5308642  746  719   27\n1294   2002    PHI   NL 0.4968944  710  724  -14\n1295   2003    PHI   NL 0.5308642  791  697   94\n1296   2004    PHI   NL 0.5308642  840  781   59\n1297   2005    PHI   NL 0.5432099  807  726   81\n1298   2006    PHI   NL 0.5246914  865  812   53\n1299   2007    PHI   NL 0.5493827  892  821   71\n1300   2008    PHI   NL 0.5679012  799  680  119\n1301   2009    PHI   NL 0.5740741  820  709  111\n1302   2010    PHI   NL 0.5987654  772  640  132\n1303   2011    PHI   NL 0.6296296  713  529  184\n1304   2012    PHI   NL 0.5000000  684  680    4\n1305   2013    PHI   NL 0.4506173  610  749 -139\n1306   2014    PHI   NL 0.4506173  619  687  -68\n1307   2015    PHI   NL 0.3888889  626  809 -183\n1308   2016    PHI   NL 0.4382716  610  796 -186\n1309   2017    PHI   NL 0.4074074  690  782  -92\n1310   2018    PHI   NL 0.4938272  677  728  -51\n1311   2019    PHI   NL 0.5000000  774  794  -20\n1312   2020    PHI   NL 0.4666667  306  311   -5\n1313   2021    PHI   NL 0.5061728  734  745  -11\n1314   2022    PHI   NL 0.5370370  747  685   62\n1315   2023    PHI   NL 0.5555556  796  715   81\n1316   2024    PHI   NL 0.5864198  784  671  113\n1317   1954    PIT   NL 0.3441558  557  845 -288\n1318   1955    PIT   NL 0.3896104  560  767 -207\n1319   1956    PIT   NL 0.4285714  588  653  -65\n1320   1957    PIT   NL 0.4025974  586  696 -110\n1321   1958    PIT   NL 0.5454545  662  607   55\n1322   1959    PIT   NL 0.5064935  651  680  -29\n1323   1960    PIT   NL 0.6168831  734  593  141\n1324   1961    PIT   NL 0.4870130  694  675   19\n1325   1962    PIT   NL 0.5776398  706  626   80\n1326   1963    PIT   NL 0.4567901  567  595  -28\n1327   1964    PIT   NL 0.4938272  663  636   27\n1328   1965    PIT   NL 0.5555556  675  580   95\n1329   1966    PIT   NL 0.5679012  759  641  118\n1330   1967    PIT   NL 0.5000000  679  693  -14\n1331   1968    PIT   NL 0.4938272  583  532   51\n1332   1969    PIT   NL 0.5432099  725  652   73\n1333   1970    PIT   NL 0.5493827  729  664   65\n1334   1971    PIT   NL 0.5987654  788  599  189\n1335   1972    PIT   NL 0.6193548  691  512  179\n1336   1973    PIT   NL 0.4938272  704  693   11\n1337   1974    PIT   NL 0.5432099  751  657   94\n1338   1975    PIT   NL 0.5714286  712  565  147\n1339   1976    PIT   NL 0.5679012  708  630   78\n1340   1977    PIT   NL 0.5925926  734  665   69\n1341   1978    PIT   NL 0.5465839  684  637   47\n1342   1979    PIT   NL 0.6049383  775  643  132\n1343   1980    PIT   NL 0.5123457  666  646   20\n1344   1981    PIT   NL 0.4509804  407  425  -18\n1345   1982    PIT   NL 0.5185185  724  696   28\n1346   1983    PIT   NL 0.5185185  659  648   11\n1347   1984    PIT   NL 0.4629630  615  567   48\n1348   1985    PIT   NL 0.3540373  568  708 -140\n1349   1986    PIT   NL 0.3950617  663  700  -37\n1350   1987    PIT   NL 0.4938272  723  744  -21\n1351   1988    PIT   NL 0.5312500  651  616   35\n1352   1989    PIT   NL 0.4567901  637  680  -43\n1353   1990    PIT   NL 0.5864198  733  619  114\n1354   1991    PIT   NL 0.6049383  768  632  136\n1355   1992    PIT   NL 0.5925926  693  595   98\n1356   1993    PIT   NL 0.4629630  707  806  -99\n1357   1994    PIT   NL 0.4649123  466  580 -114\n1358   1995    PIT   NL 0.4027778  629  736 -107\n1359   1996    PIT   NL 0.4506173  776  833  -57\n1360   1997    PIT   NL 0.4876543  725  760  -35\n1361   1998    PIT   NL 0.4259259  650  718  -68\n1362   1999    PIT   NL 0.4844720  775  782   -7\n1363   2000    PIT   NL 0.4259259  793  888  -95\n1364   2001    PIT   NL 0.3827160  657  858 -201\n1365   2002    PIT   NL 0.4472050  641  730  -89\n1366   2003    PIT   NL 0.4629630  753  801  -48\n1367   2004    PIT   NL 0.4472050  680  744  -64\n1368   2005    PIT   NL 0.4135802  680  769  -89\n1369   2006    PIT   NL 0.4135802  691  797 -106\n1370   2007    PIT   NL 0.4197531  724  846 -122\n1371   2008    PIT   NL 0.4135802  735  884 -149\n1372   2009    PIT   NL 0.3850932  636  768 -132\n1373   2010    PIT   NL 0.3518519  587  866 -279\n1374   2011    PIT   NL 0.4444444  610  712 -102\n1375   2012    PIT   NL 0.4876543  651  674  -23\n1376   2013    PIT   NL 0.5802469  634  577   57\n1377   2014    PIT   NL 0.5432099  682  631   51\n1378   2015    PIT   NL 0.6049383  697  596  101\n1379   2016    PIT   NL 0.4844720  729  758  -29\n1380   2017    PIT   NL 0.4629630  668  731  -63\n1381   2018    PIT   NL 0.5093168  692  693   -1\n1382   2019    PIT   NL 0.4259259  758  911 -153\n1383   2020    PIT   NL 0.3166667  219  298  -79\n1384   2021    PIT   NL 0.3765432  609  833 -224\n1385   2022    PIT   NL 0.3827160  591  817 -226\n1386   2023    PIT   NL 0.4691358  692  790  -98\n1387   2024    PIT   NL 0.4691358  665  739  -74\n1388   1969    SDN   NL 0.3209877  468  746 -278\n1389   1970    SDN   NL 0.3888889  681  788 -107\n1390   1971    SDN   NL 0.3788820  486  610 -124\n1391   1972    SDN   NL 0.3790850  488  665 -177\n1392   1973    SDN   NL 0.3703704  548  770 -222\n1393   1974    SDN   NL 0.3703704  541  830 -289\n1394   1975    SDN   NL 0.4382716  552  683 -131\n1395   1976    SDN   NL 0.4506173  570  662  -92\n1396   1977    SDN   NL 0.4259259  692  834 -142\n1397   1978    SDN   NL 0.5185185  591  598   -7\n1398   1979    SDN   NL 0.4223602  603  681  -78\n1399   1980    SDN   NL 0.4506173  591  654  -63\n1400   1981    SDN   NL 0.3727273  382  455  -73\n1401   1982    SDN   NL 0.5000000  675  658   17\n1402   1983    SDN   NL 0.5000000  653  653    0\n1403   1984    SDN   NL 0.5679012  686  634   52\n1404   1985    SDN   NL 0.5123457  650  622   28\n1405   1986    SDN   NL 0.4567901  656  723  -67\n1406   1987    SDN   NL 0.4012346  668  763  -95\n1407   1988    SDN   NL 0.5155280  594  583   11\n1408   1989    SDN   NL 0.5493827  642  626   16\n1409   1990    SDN   NL 0.4629630  673  673    0\n1410   1991    SDN   NL 0.5185185  636  646  -10\n1411   1992    SDN   NL 0.5061728  617  636  -19\n1412   1993    SDN   NL 0.3765432  679  772  -93\n1413   1994    SDN   NL 0.4017094  479  531  -52\n1414   1995    SDN   NL 0.4861111  668  672   -4\n1415   1996    SDN   NL 0.5617284  771  682   89\n1416   1997    SDN   NL 0.4691358  795  891  -96\n1417   1998    SDN   NL 0.6049383  749  635  114\n1418   1999    SDN   NL 0.4567901  710  781  -71\n1419   2000    SDN   NL 0.4691358  752  815  -63\n1420   2001    SDN   NL 0.4876543  789  812  -23\n1421   2002    SDN   NL 0.4074074  662  815 -153\n1422   2003    SDN   NL 0.3950617  678  831 -153\n1423   2004    SDN   NL 0.5370370  768  705   63\n1424   2005    SDN   NL 0.5061728  684  726  -42\n1425   2006    SDN   NL 0.5432099  731  679   52\n1426   2007    SDN   NL 0.5460123  741  666   75\n1427   2008    SDN   NL 0.3888889  637  764 -127\n1428   2009    SDN   NL 0.4629630  638  769 -131\n1429   2010    SDN   NL 0.5555556  665  581   84\n1430   2011    SDN   NL 0.4382716  593  611  -18\n1431   2012    SDN   NL 0.4691358  651  710  -59\n1432   2013    SDN   NL 0.4691358  618  700  -82\n1433   2014    SDN   NL 0.4753086  535  577  -42\n1434   2015    SDN   NL 0.4567901  650  731  -81\n1435   2016    SDN   NL 0.4197531  686  770  -84\n1436   2017    SDN   NL 0.4382716  604  816 -212\n1437   2018    SDN   NL 0.4074074  617  767 -150\n1438   2019    SDN   NL 0.4320988  682  789 -107\n1439   2020    SDN   NL 0.6166667  325  241   84\n1440   2021    SDN   NL 0.4876543  729  708   21\n1441   2022    SDN   NL 0.5493827  705  660   45\n1442   2023    SDN   NL 0.5061728  752  648  104\n1443   2024    SDN   NL 0.5740741  760  669   91\n1444   1977    SEA   AL 0.3950617  624  855 -231\n1445   1978    SEA   AL 0.3500000  614  834 -220\n1446   1979    SEA   AL 0.4135802  711  820 -109\n1447   1980    SEA   AL 0.3641975  610  793 -183\n1448   1981    SEA   AL 0.4036697  426  521  -95\n1449   1982    SEA   AL 0.4691358  651  712  -61\n1450   1983    SEA   AL 0.3703704  558  740 -182\n1451   1984    SEA   AL 0.4567901  682  774  -92\n1452   1985    SEA   AL 0.4567901  719  818  -99\n1453   1986    SEA   AL 0.4135802  718  835 -117\n1454   1987    SEA   AL 0.4814815  760  801  -41\n1455   1988    SEA   AL 0.4223602  664  744  -80\n1456   1989    SEA   AL 0.4506173  694  728  -34\n1457   1990    SEA   AL 0.4753086  640  680  -40\n1458   1991    SEA   AL 0.5123457  702  674   28\n1459   1992    SEA   AL 0.3950617  679  799 -120\n1460   1993    SEA   AL 0.5061728  734  731    3\n1461   1994    SEA   AL 0.4375000  569  616  -47\n1462   1995    SEA   AL 0.5448276  796  708   88\n1463   1996    SEA   AL 0.5279503  993  895   98\n1464   1997    SEA   AL 0.5555556  925  833   92\n1465   1998    SEA   AL 0.4720497  859  855    4\n1466   1999    SEA   AL 0.4876543  859  905  -46\n1467   2000    SEA   AL 0.5617284  907  780  127\n1468   2001    SEA   AL 0.7160494  927  627  300\n1469   2002    SEA   AL 0.5740741  814  699  115\n1470   2003    SEA   AL 0.5740741  795  637  158\n1471   2004    SEA   AL 0.3888889  698  823 -125\n1472   2005    SEA   AL 0.4259259  699  751  -52\n1473   2006    SEA   AL 0.4814815  756  792  -36\n1474   2007    SEA   AL 0.5432099  794  813  -19\n1475   2008    SEA   AL 0.3765432  671  811 -140\n1476   2009    SEA   AL 0.5246914  640  692  -52\n1477   2010    SEA   AL 0.3765432  513  698 -185\n1478   2011    SEA   AL 0.4135802  556  675 -119\n1479   2012    SEA   AL 0.4629630  619  651  -32\n1480   2013    SEA   AL 0.4382716  624  754 -130\n1481   2014    SEA   AL 0.5370370  634  554   80\n1482   2015    SEA   AL 0.4691358  656  726  -70\n1483   2016    SEA   AL 0.5308642  768  707   61\n1484   2017    SEA   AL 0.4814815  750  772  -22\n1485   2018    SEA   AL 0.5493827  677  711  -34\n1486   2019    SEA   AL 0.4197531  758  893 -135\n1487   2020    SEA   AL 0.4500000  254  303  -49\n1488   2021    SEA   AL 0.5555556  697  748  -51\n1489   2022    SEA   AL 0.5555556  690  623   67\n1490   2023    SEA   AL 0.5432099  758  659   99\n1491   2024    SEA   AL 0.5246914  676  607   69\n1492   1954    NY1   NL 0.6298701  732  550  182\n1493   1955    NY1   NL 0.5194805  702  673   29\n1494   1956    NY1   NL 0.4350649  540  650 -110\n1495   1957    NY1   NL 0.4480519  643  701  -58\n1496   1958    SFN   NL 0.5194805  727  698   29\n1497   1959    SFN   NL 0.5389610  705  613   92\n1498   1960    SFN   NL 0.5129870  671  631   40\n1499   1961    SFN   NL 0.5519481  773  655  118\n1500   1962    SFN   NL 0.6242424  878  690  188\n1501   1963    SFN   NL 0.5432099  725  641   84\n1502   1964    SFN   NL 0.5555556  656  587   69\n1503   1965    SFN   NL 0.5864198  682  593   89\n1504   1966    SFN   NL 0.5776398  675  626   49\n1505   1967    SFN   NL 0.5617284  652  551  101\n1506   1968    SFN   NL 0.5432099  599  529   70\n1507   1969    SFN   NL 0.5555556  713  636   77\n1508   1970    SFN   NL 0.5308642  831  826    5\n1509   1971    SFN   NL 0.5555556  706  644   62\n1510   1972    SFN   NL 0.4451613  662  649   13\n1511   1973    SFN   NL 0.5432099  739  702   37\n1512   1974    SFN   NL 0.4444444  634  723  -89\n1513   1975    SFN   NL 0.4968944  659  671  -12\n1514   1976    SFN   NL 0.4567901  595  686  -91\n1515   1977    SFN   NL 0.4629630  673  711  -38\n1516   1978    SFN   NL 0.5493827  613  594   19\n1517   1979    SFN   NL 0.4382716  672  751  -79\n1518   1980    SFN   NL 0.4658385  573  634  -61\n1519   1981    SFN   NL 0.5045045  427  414   13\n1520   1982    SFN   NL 0.5370370  673  687  -14\n1521   1983    SFN   NL 0.4876543  687  697  -10\n1522   1984    SFN   NL 0.4074074  682  807 -125\n1523   1985    SFN   NL 0.3827160  556  674 -118\n1524   1986    SFN   NL 0.5123457  698  618   80\n1525   1987    SFN   NL 0.5555556  783  669  114\n1526   1988    SFN   NL 0.5123457  670  626   44\n1527   1989    SFN   NL 0.5679012  699  600   99\n1528   1990    SFN   NL 0.5246914  719  710    9\n1529   1991    SFN   NL 0.4629630  649  697  -48\n1530   1992    SFN   NL 0.4444444  574  647  -73\n1531   1993    SFN   NL 0.6358025  808  636  172\n1532   1994    SFN   NL 0.4782609  504  500    4\n1533   1995    SFN   NL 0.4652778  652  776 -124\n1534   1996    SFN   NL 0.4197531  752  862 -110\n1535   1997    SFN   NL 0.5555556  784  793   -9\n1536   1998    SFN   NL 0.5460123  845  739  106\n1537   1999    SFN   NL 0.5308642  872  831   41\n1538   2000    SFN   NL 0.5987654  925  747  178\n1539   2001    SFN   NL 0.5555556  799  748   51\n1540   2002    SFN   NL 0.5900621  783  616  167\n1541   2003    SFN   NL 0.6211180  755  638  117\n1542   2004    SFN   NL 0.5617284  850  770   80\n1543   2005    SFN   NL 0.4629630  649  745  -96\n1544   2006    SFN   NL 0.4720497  746  790  -44\n1545   2007    SFN   NL 0.4382716  683  720  -37\n1546   2008    SFN   NL 0.4444444  640  759 -119\n1547   2009    SFN   NL 0.5432099  657  611   46\n1548   2010    SFN   NL 0.5679012  697  583  114\n1549   2011    SFN   NL 0.5308642  570  578   -8\n1550   2012    SFN   NL 0.5802469  718  649   69\n1551   2013    SFN   NL 0.4691358  629  691  -62\n1552   2014    SFN   NL 0.5432099  665  614   51\n1553   2015    SFN   NL 0.5185185  696  627   69\n1554   2016    SFN   NL 0.5370370  715  631   84\n1555   2017    SFN   NL 0.3950617  639  776 -137\n1556   2018    SFN   NL 0.4506173  603  699  -96\n1557   2019    SFN   NL 0.4753086  678  773  -95\n1558   2020    SFN   NL 0.4833333  299  297    2\n1559   2021    SFN   NL 0.6604938  804  594  210\n1560   2022    SFN   NL 0.5000000  716  697   19\n1561   2023    SFN   NL 0.4876543  674  719  -45\n1562   2024    SFN   NL 0.4938272  693  699   -6\n1563   1954    SLN   NL 0.4675325  799  790    9\n1564   1955    SLN   NL 0.4415584  654  757 -103\n1565   1956    SLN   NL 0.4935065  678  698  -20\n1566   1957    SLN   NL 0.5649351  737  666   71\n1567   1958    SLN   NL 0.4675325  619  704  -85\n1568   1959    SLN   NL 0.4610390  641  725  -84\n1569   1960    SLN   NL 0.5584416  639  616   23\n1570   1961    SLN   NL 0.5194805  703  668   35\n1571   1962    SLN   NL 0.5185185  774  664  110\n1572   1963    SLN   NL 0.5740741  747  628  119\n1573   1964    SLN   NL 0.5740741  715  652   63\n1574   1965    SLN   NL 0.4968944  707  674   33\n1575   1966    SLN   NL 0.5123457  571  577   -6\n1576   1967    SLN   NL 0.6273292  695  557  138\n1577   1968    SLN   NL 0.5987654  583  472  111\n1578   1969    SLN   NL 0.5370370  595  540   55\n1579   1970    SLN   NL 0.4691358  744  747   -3\n1580   1971    SLN   NL 0.5555556  739  699   40\n1581   1972    SLN   NL 0.4807692  568  600  -32\n1582   1973    SLN   NL 0.5000000  643  603   40\n1583   1974    SLN   NL 0.5341615  677  643   34\n1584   1975    SLN   NL 0.5061728  662  689  -27\n1585   1976    SLN   NL 0.4444444  629  671  -42\n1586   1977    SLN   NL 0.5123457  737  688   49\n1587   1978    SLN   NL 0.4259259  600  657  -57\n1588   1979    SLN   NL 0.5308642  731  693   38\n1589   1980    SLN   NL 0.4567901  738  710   28\n1590   1981    SLN   NL 0.5784314  464  417   47\n1591   1982    SLN   NL 0.5679012  685  609   76\n1592   1983    SLN   NL 0.4876543  679  710  -31\n1593   1984    SLN   NL 0.5185185  652  645    7\n1594   1985    SLN   NL 0.6234568  747  572  175\n1595   1986    SLN   NL 0.4906832  601  611  -10\n1596   1987    SLN   NL 0.5864198  798  693  105\n1597   1988    SLN   NL 0.4691358  578  633  -55\n1598   1989    SLN   NL 0.5308642  632  608   24\n1599   1990    SLN   NL 0.4320988  599  698  -99\n1600   1991    SLN   NL 0.5185185  651  648    3\n1601   1992    SLN   NL 0.5123457  631  604   27\n1602   1993    SLN   NL 0.5370370  758  744   14\n1603   1994    SLN   NL 0.4649123  535  621  -86\n1604   1995    SLN   NL 0.4335664  563  658  -95\n1605   1996    SLN   NL 0.5432099  759  706   53\n1606   1997    SLN   NL 0.4506173  689  708  -19\n1607   1998    SLN   NL 0.5123457  810  782   28\n1608   1999    SLN   NL 0.4658385  809  838  -29\n1609   2000    SLN   NL 0.5864198  887  771  116\n1610   2001    SLN   NL 0.5740741  814  684  130\n1611   2002    SLN   NL 0.5987654  787  648  139\n1612   2003    SLN   NL 0.5246914  876  796   80\n1613   2004    SLN   NL 0.6481481  855  659  196\n1614   2005    SLN   NL 0.6172840  805  634  171\n1615   2006    SLN   NL 0.5155280  781  762   19\n1616   2007    SLN   NL 0.4814815  725  829 -104\n1617   2008    SLN   NL 0.5308642  779  725   54\n1618   2009    SLN   NL 0.5617284  730  640   90\n1619   2010    SLN   NL 0.5308642  736  641   95\n1620   2011    SLN   NL 0.5555556  762  692   70\n1621   2012    SLN   NL 0.5432099  765  648  117\n1622   2013    SLN   NL 0.5987654  783  596  187\n1623   2014    SLN   NL 0.5555556  619  603   16\n1624   2015    SLN   NL 0.6172840  647  525  122\n1625   2016    SLN   NL 0.5308642  779  712   67\n1626   2017    SLN   NL 0.5123457  761  705   56\n1627   2018    SLN   NL 0.5432099  759  691   68\n1628   2019    SLN   NL 0.5617284  764  662  102\n1629   2020    SLN   NL 0.5172414  240  229   11\n1630   2021    SLN   NL 0.5555556  706  672   34\n1631   2022    SLN   NL 0.5740741  772  637  135\n1632   2023    SLN   NL 0.4382716  719  829 -110\n1633   2024    SLN   NL 0.5123457  672  719  -47\n1634   1998    TBA   AL 0.3888889  620  751 -131\n1635   1999    TBA   AL 0.4259259  772  913 -141\n1636   2000    TBA   AL 0.4285714  733  842 -109\n1637   2001    TBA   AL 0.3827160  672  887 -215\n1638   2002    TBA   AL 0.3416149  673  918 -245\n1639   2003    TBA   AL 0.3888889  715  852 -137\n1640   2004    TBA   AL 0.4347826  714  842 -128\n1641   2005    TBA   AL 0.4135802  750  936 -186\n1642   2006    TBA   AL 0.3765432  689  856 -167\n1643   2007    TBA   AL 0.4074074  782  944 -162\n1644   2008    TBA   AL 0.5987654  774  671  103\n1645   2009    TBA   AL 0.5185185  803  754   49\n1646   2010    TBA   AL 0.5925926  802  649  153\n1647   2011    TBA   AL 0.5617284  707  614   93\n1648   2012    TBA   AL 0.5555556  697  577  120\n1649   2013    TBA   AL 0.5644172  700  646   54\n1650   2014    TBA   AL 0.4753086  612  625  -13\n1651   2015    TBA   AL 0.4938272  644  642    2\n1652   2016    TBA   AL 0.4197531  672  713  -41\n1653   2017    TBA   AL 0.4938272  694  704  -10\n1654   2018    TBA   AL 0.5555556  716  646   70\n1655   2019    TBA   AL 0.5925926  769  656  113\n1656   2020    TBA   AL 0.6666667  289  229   60\n1657   2021    TBA   AL 0.6172840  857  651  206\n1658   2022    TBA   AL 0.5308642  666  614   52\n1659   2023    TBA   AL 0.6111111  860  665  195\n1660   2024    TBA   AL 0.4938272  604  663  -59\n1661   1961    WS2   AL 0.3788820  618  776 -158\n1662   1962    WS2   AL 0.3726708  599  716 -117\n1663   1963    WS2   AL 0.3456790  578  812 -234\n1664   1964    WS2   AL 0.3827160  578  733 -155\n1665   1965    WS2   AL 0.4320988  591  721 -130\n1666   1966    WS2   AL 0.4465409  557  659 -102\n1667   1967    WS2   AL 0.4720497  550  637  -87\n1668   1968    WS2   AL 0.4037267  524  665 -141\n1669   1969    WS2   AL 0.5308642  694  644   50\n1670   1970    WS2   AL 0.4320988  626  689  -63\n1671   1971    WS2   AL 0.3962264  537  660 -123\n1672   1972    TEX   AL 0.3506494  461  628 -167\n1673   1973    TEX   AL 0.3518519  619  844 -225\n1674   1974    TEX   AL 0.5250000  690  698   -8\n1675   1975    TEX   AL 0.4876543  714  733  -19\n1676   1976    TEX   AL 0.4691358  616  652  -36\n1677   1977    TEX   AL 0.5802469  767  657  110\n1678   1978    TEX   AL 0.5370370  692  632   60\n1679   1979    TEX   AL 0.5123457  750  698   52\n1680   1980    TEX   AL 0.4720497  756  752    4\n1681   1981    TEX   AL 0.5428571  452  389   63\n1682   1982    TEX   AL 0.3950617  590  749 -159\n1683   1983    TEX   AL 0.4753086  639  609   30\n1684   1984    TEX   AL 0.4285714  656  714  -58\n1685   1985    TEX   AL 0.3850932  617  785 -168\n1686   1986    TEX   AL 0.5370370  771  743   28\n1687   1987    TEX   AL 0.4629630  823  849  -26\n1688   1988    TEX   AL 0.4347826  637  735  -98\n1689   1989    TEX   AL 0.5123457  695  714  -19\n1690   1990    TEX   AL 0.5123457  676  696  -20\n1691   1991    TEX   AL 0.5246914  829  814   15\n1692   1992    TEX   AL 0.4753086  682  753  -71\n1693   1993    TEX   AL 0.5308642  835  751   84\n1694   1994    TEX   AL 0.4561404  613  697  -84\n1695   1995    TEX   AL 0.5138889  691  720  -29\n1696   1996    TEX   AL 0.5555556  928  799  129\n1697   1997    TEX   AL 0.4753086  807  823  -16\n1698   1998    TEX   AL 0.5432099  940  871   69\n1699   1999    TEX   AL 0.5864198  945  859   86\n1700   2000    TEX   AL 0.4382716  848  974 -126\n1701   2001    TEX   AL 0.4506173  890  968  -78\n1702   2002    TEX   AL 0.4444444  843  882  -39\n1703   2003    TEX   AL 0.4382716  826  969 -143\n1704   2004    TEX   AL 0.5493827  860  794   66\n1705   2005    TEX   AL 0.4876543  865  858    7\n1706   2006    TEX   AL 0.4938272  835  784   51\n1707   2007    TEX   AL 0.4629630  816  844  -28\n1708   2008    TEX   AL 0.4876543  901  967  -66\n1709   2009    TEX   AL 0.5370370  784  740   44\n1710   2010    TEX   AL 0.5555556  787  687  100\n1711   2011    TEX   AL 0.5925926  855  677  178\n1712   2012    TEX   AL 0.5740741  808  707  101\n1713   2013    TEX   AL 0.5582822  730  636   94\n1714   2014    TEX   AL 0.4135802  637  773 -136\n1715   2015    TEX   AL 0.5432099  751  733   18\n1716   2016    TEX   AL 0.5864198  765  757    8\n1717   2017    TEX   AL 0.4814815  799  816  -17\n1718   2018    TEX   AL 0.4135802  737  848 -111\n1719   2019    TEX   AL 0.4814815  810  878  -68\n1720   2020    TEX   AL 0.3666667  224  312  -88\n1721   2021    TEX   AL 0.3703704  625  815 -190\n1722   2022    TEX   AL 0.4197531  707  743  -36\n1723   2023    TEX   AL 0.5555556  881  716  165\n1724   2024    TEX   AL 0.4814815  683  738  -55\n1725   1977    TOR   AL 0.3354037  605  822 -217\n1726   1978    TOR   AL 0.3664596  590  775 -185\n1727   1979    TOR   AL 0.3271605  613  862 -249\n1728   1980    TOR   AL 0.4135802  624  762 -138\n1729   1981    TOR   AL 0.3490566  329  466 -137\n1730   1982    TOR   AL 0.4814815  651  701  -50\n1731   1983    TOR   AL 0.5493827  795  726   69\n1732   1984    TOR   AL 0.5493827  750  696   54\n1733   1985    TOR   AL 0.6149068  759  588  171\n1734   1986    TOR   AL 0.5308642  809  733   76\n1735   1987    TOR   AL 0.5925926  845  655  190\n1736   1988    TOR   AL 0.5370370  763  680   83\n1737   1989    TOR   AL 0.5493827  731  651   80\n1738   1990    TOR   AL 0.5308642  767  661  106\n1739   1991    TOR   AL 0.5617284  684  622   62\n1740   1992    TOR   AL 0.5925926  780  682   98\n1741   1993    TOR   AL 0.5864198  847  742  105\n1742   1994    TOR   AL 0.4782609  566  579  -13\n1743   1995    TOR   AL 0.3888889  642  777 -135\n1744   1996    TOR   AL 0.4567901  766  809  -43\n1745   1997    TOR   AL 0.4691358  654  694  -40\n1746   1998    TOR   AL 0.5432099  816  768   48\n1747   1999    TOR   AL 0.5185185  883  862   21\n1748   2000    TOR   AL 0.5123457  861  908  -47\n1749   2001    TOR   AL 0.4938272  767  753   14\n1750   2002    TOR   AL 0.4814815  813  828  -15\n1751   2003    TOR   AL 0.5308642  894  826   68\n1752   2004    TOR   AL 0.4161491  719  823 -104\n1753   2005    TOR   AL 0.4938272  775  705   70\n1754   2006    TOR   AL 0.5370370  809  754   55\n1755   2007    TOR   AL 0.5123457  753  699   54\n1756   2008    TOR   AL 0.5308642  714  610  104\n1757   2009    TOR   AL 0.4629630  798  771   27\n1758   2010    TOR   AL 0.5246914  755  728   27\n1759   2011    TOR   AL 0.5000000  743  761  -18\n1760   2012    TOR   AL 0.4506173  716  784  -68\n1761   2013    TOR   AL 0.4567901  712  756  -44\n1762   2014    TOR   AL 0.5123457  723  686   37\n1763   2015    TOR   AL 0.5740741  891  670  221\n1764   2016    TOR   AL 0.5493827  759  666   93\n1765   2017    TOR   AL 0.4691358  693  784  -91\n1766   2018    TOR   AL 0.4506173  709  832 -123\n1767   2019    TOR   AL 0.4135802  726  828 -102\n1768   2020    TOR   AL 0.5333333  302  312  -10\n1769   2021    TOR   AL 0.5617284  846  663  183\n1770   2022    TOR   AL 0.5679012  775  679   96\n1771   2023    TOR   AL 0.5493827  746  671   75\n1772   2024    TOR   AL 0.4567901  671  743  -72\n1773   1969    MON   NL 0.3209877  582  791 -209\n1774   1970    MON   NL 0.4506173  687  807 -120\n1775   1971    MON   NL 0.4409938  622  729 -107\n1776   1972    MON   NL 0.4487179  513  609  -96\n1777   1973    MON   NL 0.4876543  668  702  -34\n1778   1974    MON   NL 0.4906832  662  657    5\n1779   1975    MON   NL 0.4629630  601  690  -89\n1780   1976    MON   NL 0.3395062  531  734 -203\n1781   1977    MON   NL 0.4629630  665  736  -71\n1782   1978    MON   NL 0.4691358  633  611   22\n1783   1979    MON   NL 0.5937500  701  581  120\n1784   1980    MON   NL 0.5555556  694  629   65\n1785   1981    MON   NL 0.5555556  443  394   49\n1786   1982    MON   NL 0.5308642  697  616   81\n1787   1983    MON   NL 0.5061728  677  646   31\n1788   1984    MON   NL 0.4844720  593  585    8\n1789   1985    MON   NL 0.5217391  633  636   -3\n1790   1986    MON   NL 0.4844720  637  688  -51\n1791   1987    MON   NL 0.5617284  741  720   21\n1792   1988    MON   NL 0.5000000  628  592   36\n1793   1989    MON   NL 0.5000000  632  630    2\n1794   1990    MON   NL 0.5246914  662  598   64\n1795   1991    MON   NL 0.4409938  579  655  -76\n1796   1992    MON   NL 0.5370370  648  581   67\n1797   1993    MON   NL 0.5802469  732  682   50\n1798   1994    MON   NL 0.6491228  585  454  131\n1799   1995    MON   NL 0.4583333  621  638  -17\n1800   1996    MON   NL 0.5432099  741  668   73\n1801   1997    MON   NL 0.4814815  691  740  -49\n1802   1998    MON   NL 0.4012346  644  783 -139\n1803   1999    MON   NL 0.4197531  718  853 -135\n1804   2000    MON   NL 0.4135802  738  902 -164\n1805   2001    MON   NL 0.4197531  670  812 -142\n1806   2002    MON   NL 0.5123457  735  718   17\n1807   2003    MON   NL 0.5123457  711  716   -5\n1808   2004    MON   NL 0.4135802  635  769 -134\n1809   2005    WAS   NL 0.5000000  639  673  -34\n1810   2006    WAS   NL 0.4382716  746  872 -126\n1811   2007    WAS   NL 0.4506173  673  783 -110\n1812   2008    WAS   NL 0.3664596  641  825 -184\n1813   2009    WAS   NL 0.3641975  710  874 -164\n1814   2010    WAS   NL 0.4259259  655  742  -87\n1815   2011    WAS   NL 0.4968944  624  643  -19\n1816   2012    WAS   NL 0.6049383  731  594  137\n1817   2013    WAS   NL 0.5308642  656  626   30\n1818   2014    WAS   NL 0.5925926  686  555  131\n1819   2015    WAS   NL 0.5123457  703  635   68\n1820   2016    WAS   NL 0.5864198  763  612  151\n1821   2017    WAS   NL 0.5987654  819  672  147\n1822   2018    WAS   NL 0.5061728  771  682   89\n1823   2019    WAS   NL 0.5740741  873  724  149\n1824   2020    WAS   NL 0.4333333  293  301   -8\n1825   2021    WAS   NL 0.4012346  724  820  -96\n1826   2022    WAS   NL 0.3395062  603  855 -252\n1827   2023    WAS   NL 0.4382716  700  845 -145\n1828   2024    WAS   NL 0.4382716  660  764 -104"
  },
  {
    "objectID": "slides/01_expected_wpct.html#visualize-the-relationship",
    "href": "slides/01_expected_wpct.html#visualize-the-relationship",
    "title": "Expected Winning Percentage",
    "section": "Visualize the relationship",
    "text": "Visualize the relationship\n\nrd_plot &lt;- ggplot(\n  data = team_runs, aes(x = RD, y = wpct)\n) +\n  geom_vline(xintercept = 0, color = \"darkgray\", linetype = 2) +\n  geom_hline(yintercept = 0.5, color = \"darkgray\", linetype = 2) +\n  geom_point(alpha = 0.2) + \n  xlab(\"Run Differential\") + \n  ylab(\"Winning Percentage\") +\n  geom_smooth(method = \"lm\")"
  },
  {
    "objectID": "slides/01_expected_wpct.html#historical-relationship",
    "href": "slides/01_expected_wpct.html#historical-relationship",
    "title": "Expected Winning Percentage",
    "section": "Historical relationship",
    "text": "Historical relationship\n\nrd_plot"
  },
  {
    "objectID": "slides/01_expected_wpct.html#regression-model",
    "href": "slides/01_expected_wpct.html#regression-model",
    "title": "Expected Winning Percentage",
    "section": "Regression model",
    "text": "Regression model\n\nmod &lt;- lm(wpct ~ RD, data = team_runs)\ncoef(mod)\n\n (Intercept)           RD \n0.4999771947 0.0006402553 \n\n\n\n\nRule of thumb: 10 runs = 1 win\n\n\ncoef(mod)[\"RD\"] * 10 * 162\n\n      RD \n1.037214 \n\n\n\n\n\nWhat happens at the extremes?"
  },
  {
    "objectID": "slides/01_expected_wpct.html#jamesian-pythagorean-expected-winning-percentage",
    "href": "slides/01_expected_wpct.html#jamesian-pythagorean-expected-winning-percentage",
    "title": "Expected Winning Percentage",
    "section": "Jamesian (Pythagorean) expected winning percentage",
    "text": "Jamesian (Pythagorean) expected winning percentage\n\nBill James (1983) \\[\n\\widehat{wpct} = \\frac{RS^\\alpha}{RS^\\alpha + RA^\\alpha} = \\frac{1}{1 + (RA/RS)^\\alpha}\n\\]\n\n\nJames: \\(\\alpha = 2\\)\nBut what is the optimal value?"
  },
  {
    "objectID": "slides/01_expected_wpct.html#computing-run-ratio",
    "href": "slides/01_expected_wpct.html#computing-run-ratio",
    "title": "Expected Winning Percentage",
    "section": "Computing run ratio",
    "text": "Computing run ratio\n\nteam_runs &lt;- team_runs |&gt;\n  mutate(run_ratio = RS/RA)\n\nrr_plot &lt;- ggplot(\n  data = team_runs, aes(x = run_ratio, y = wpct)\n) +\n  geom_vline(xintercept = 1, color = \"darkgray\", linetype = 2) +\n  geom_hline(yintercept = 0.5, color = \"darkgray\", linetype = 2) +\n  geom_point(alpha = 0.2) + \n  xlab(\"Ratio of Runs Scored to Runs Allowed\") + \n  ylab(\"Winning Percentage\")\n\nexp_wpct &lt;- function(x, k = 2) { \n  return(1/(1 + (1/x)^k))\n}"
  },
  {
    "objectID": "slides/01_expected_wpct.html#jamesian-model",
    "href": "slides/01_expected_wpct.html#jamesian-model",
    "title": "Expected Winning Percentage",
    "section": "Jamesian model",
    "text": "Jamesian model\n\nrr_plot +\n  geom_smooth(method = \"lm\") +\n  stat_function(fun = exp_wpct, args = list(2), linewidth = 2, color = \"navy\")"
  },
  {
    "objectID": "slides/01_expected_wpct.html#could-we-do-better",
    "href": "slides/01_expected_wpct.html#could-we-do-better",
    "title": "Expected Winning Percentage",
    "section": "Could we do better?",
    "text": "Could we do better?\n\nWhy \\(\\alpha = 2\\)?\n\n\n\noptimal &lt;- team_runs |&gt;\n  nls(\n    formula = wpct ~ 1/(1 + (1/run_ratio)^k), \n    start = list(k = 2)\n  ) |&gt;\n  coef()\noptimal\n\n       k \n1.827689"
  },
  {
    "objectID": "slides/01_expected_wpct.html#visualize-all-models",
    "href": "slides/01_expected_wpct.html#visualize-all-models",
    "title": "Expected Winning Percentage",
    "section": "Visualize all models",
    "text": "Visualize all models\n\nrr_plot +\n  geom_smooth(method = \"lm\") +\n  stat_function(fun = exp_wpct, args = list(2), linewidth = 2, color = \"navy\") +\n  stat_function(fun = exp_wpct, args = list(optimal), linewidth = 2, color = \"gold\")"
  },
  {
    "objectID": "slides/01_expected_wpct.html#extensions",
    "href": "slides/01_expected_wpct.html#extensions",
    "title": "Expected Winning Percentage",
    "section": "Extensions",
    "text": "Extensions\nTo other sports:\n\nMorey (1993): \\(\\alpha \\approx 18\\) for the NBA\nExercise: compute the optimal \\(\\alpha\\) for another sport!\n\n\nOther methods:\n\nBradley-Terry models (Bradley and Terry 1952)\nElo ratings (Elo 1978)\nBayesian state-space models (Glickman and Stern 1998)"
  },
  {
    "objectID": "slides/01_expected_wpct.html#references",
    "href": "slides/01_expected_wpct.html#references",
    "title": "Expected Winning Percentage",
    "section": "References",
    "text": "References\n\n\n\n\nBradley, Ralph Allan, and Milton E. Terry. 1952. “Rank Analysis of Incomplete Block Designs: I. The Method of Paired Comparisons.” Biometrika 39 (3/4): 324–45. https://doi.org/10.2307/2334029.\n\n\nElo, A. E. 1978. The Rating of Chessplayers, Past and Present. New York: Arco Publishing.\n\n\nGlickman, Mark E, and Hal S Stern. 1998. “A State-Space Model for National Football League Scores.” Journal of the American Statistical Association 93 (441): 25–35. https://doi.org/10.1080/01621459.1998.10474084."
  },
  {
    "objectID": "paper.html",
    "href": "paper.html",
    "title": "Research Paper",
    "section": "",
    "text": "You will conduct original research on a topic of your choosing in sports analytics. The final deliverable will be an academic paper written as a Quarto Manuscript. The use of GitHub to store and host your paper is strongly encouraged.\nYour paper is due by 5 pm on December 17.\n\n\nFor your convenience, the format should conform to the Undergraduate Research Project Competition (USRESP) guidelines. If possible, you are strongly encouraged to submit your paper to the competition, but that decision will not affect your grade in this class. The paper should be 12–15 pages long, plus references, and an appendix (of arbitrary length) in which you can show more graphics, tables, etc.\n\n\n\nPlease follow the following guidelines for all drafts of your final paper:\n\nAll papers will be written in Quarto as Manuscripts\nUse BibTeX for citations. Use Google Scholar to gather reference information in BibTeX format (adjust manually where necessary). Include a doi (preferred) and/or url field in all BibTeX entries. Insert citations into the body of the paper as appropriate. Cite R packages with information from citation(). You can start a .bib file with knitr::write_bib(). The BibTeX database for this page looks like this.\nInclude a link to your GitHub repository (where necessary) as a citation (even if it’s private)!\nAll Figures must be referenced explicitly in the text by number. Figures should have expansive captions that tell the reader what they are supposed to see in the figure. All figures should have readable axis labels and explicit units. Figures should be mostly self-explanatory! Spend more time gussying up the figures – not less!\nTables should also have expansive captions and must be referenced in the text by number. Simple summary tables are easy to generate and really helpful to readers!\nUse Markdown formatting, including: sections and subsections, lists, links, block quotes, chunks, and code, where appropriate.\nPut any pieces of code in backticks (`). That includes names of packages, functions, variable names, and even certain strings. For bits of actual code, use a chunk. Note that Quarto supports chunks in many languages, including Python, SQL, and bash.\nLimit your use of adverbs.\n\n\n\n\nMost commonly, research papers will have five sections like:\n\nIntroduction and Motivation: What is the problem you are trying to solve? Why is this problem interesting? What has been tried before? What have been the shortcoming of those approaches that necessitate your efforts? Often, this section will conclude with a subsection (or paragraph) outlining “our contributions.” What is the new knowledge that this paper contributes?\nData: Where did it come from? What are some basic summary statistics, variable definitions, and/or visualizations that help the reader understand the data you are working with? Tables and figures are strongly encouraged here.\nMethods: What did you actually do? What techniques or methods did you employ? What were the specifications for any statistical models you used? What software or packages did you use or develop?\nResults: What did you learn about the problem you identified in Section 1? This is where you put the tables, figures, and analytics by-products of your work.\nConclusion: What are the limitations of your work? What are some next steps that someone (either you or another research group) should consider in attempting to further your work? Remind us one last time about what you did.\n\n\nReferences: Every reference (except for books) needs a URL. Use Google Scholar to help with BibTeX. Every book needs publisher location. 🙄 The format is Publisher City: Publisher Name.\n\nOptionally, if you have more stuff:\n\nAppendix: Include supplementary graphs and tables in an appendix. The reader may or may not read the appendix.\n\n\n\n\nThe following common feedback applies to all groups. Please read carefully – these are mandatory recommendations.\nGeneral feedback:\n\nUse an academic writing style. Use the present tense (in almost every case), even when writing about previously published papers or work that you did two months ago. Use “we” to describe your efforts. Avoid the passive voice!\nUse examples, screenshots, or peeks at data to illustrate what you are talking about.\nDon’t be afraid to get technical – this is a scientific paper. However, if you are going to invoke technical terms or concepts, you have to either explain them or give a citation to a reference that does.\nFocus on problems and solutions. What were the problems that your client had? How did you solve them? Don’t just narrate about what you did – connect the work that you did to the problems that existed before you started. If you find this hard to do, perhaps what you are writing about doesn’t need to be in the paper.\nRevise, then revise again."
  },
  {
    "objectID": "paper.html#assignment",
    "href": "paper.html#assignment",
    "title": "Research Paper",
    "section": "",
    "text": "You will conduct original research on a topic of your choosing in sports analytics. The final deliverable will be an academic paper written as a Quarto Manuscript. The use of GitHub to store and host your paper is strongly encouraged.\nYour paper is due by 5 pm on December 17.\n\n\nFor your convenience, the format should conform to the Undergraduate Research Project Competition (USRESP) guidelines. If possible, you are strongly encouraged to submit your paper to the competition, but that decision will not affect your grade in this class. The paper should be 12–15 pages long, plus references, and an appendix (of arbitrary length) in which you can show more graphics, tables, etc.\n\n\n\nPlease follow the following guidelines for all drafts of your final paper:\n\nAll papers will be written in Quarto as Manuscripts\nUse BibTeX for citations. Use Google Scholar to gather reference information in BibTeX format (adjust manually where necessary). Include a doi (preferred) and/or url field in all BibTeX entries. Insert citations into the body of the paper as appropriate. Cite R packages with information from citation(). You can start a .bib file with knitr::write_bib(). The BibTeX database for this page looks like this.\nInclude a link to your GitHub repository (where necessary) as a citation (even if it’s private)!\nAll Figures must be referenced explicitly in the text by number. Figures should have expansive captions that tell the reader what they are supposed to see in the figure. All figures should have readable axis labels and explicit units. Figures should be mostly self-explanatory! Spend more time gussying up the figures – not less!\nTables should also have expansive captions and must be referenced in the text by number. Simple summary tables are easy to generate and really helpful to readers!\nUse Markdown formatting, including: sections and subsections, lists, links, block quotes, chunks, and code, where appropriate.\nPut any pieces of code in backticks (`). That includes names of packages, functions, variable names, and even certain strings. For bits of actual code, use a chunk. Note that Quarto supports chunks in many languages, including Python, SQL, and bash.\nLimit your use of adverbs.\n\n\n\n\nMost commonly, research papers will have five sections like:\n\nIntroduction and Motivation: What is the problem you are trying to solve? Why is this problem interesting? What has been tried before? What have been the shortcoming of those approaches that necessitate your efforts? Often, this section will conclude with a subsection (or paragraph) outlining “our contributions.” What is the new knowledge that this paper contributes?\nData: Where did it come from? What are some basic summary statistics, variable definitions, and/or visualizations that help the reader understand the data you are working with? Tables and figures are strongly encouraged here.\nMethods: What did you actually do? What techniques or methods did you employ? What were the specifications for any statistical models you used? What software or packages did you use or develop?\nResults: What did you learn about the problem you identified in Section 1? This is where you put the tables, figures, and analytics by-products of your work.\nConclusion: What are the limitations of your work? What are some next steps that someone (either you or another research group) should consider in attempting to further your work? Remind us one last time about what you did.\n\n\nReferences: Every reference (except for books) needs a URL. Use Google Scholar to help with BibTeX. Every book needs publisher location. 🙄 The format is Publisher City: Publisher Name.\n\nOptionally, if you have more stuff:\n\nAppendix: Include supplementary graphs and tables in an appendix. The reader may or may not read the appendix.\n\n\n\n\nThe following common feedback applies to all groups. Please read carefully – these are mandatory recommendations.\nGeneral feedback:\n\nUse an academic writing style. Use the present tense (in almost every case), even when writing about previously published papers or work that you did two months ago. Use “we” to describe your efforts. Avoid the passive voice!\nUse examples, screenshots, or peeks at data to illustrate what you are talking about.\nDon’t be afraid to get technical – this is a scientific paper. However, if you are going to invoke technical terms or concepts, you have to either explain them or give a citation to a reference that does.\nFocus on problems and solutions. What were the problems that your client had? How did you solve them? Don’t just narrate about what you did – connect the work that you did to the problems that existed before you started. If you find this hard to do, perhaps what you are writing about doesn’t need to be in the paper.\nRevise, then revise again."
  },
  {
    "objectID": "paper.html#drafts-and-rubrics",
    "href": "paper.html#drafts-and-rubrics",
    "title": "Research Paper",
    "section": "Drafts and rubrics",
    "text": "Drafts and rubrics\n\nFirst draft\nYour first draft focuses on the mechanics of writing a manuscript in Quarto. First, you have to get the template to compile. Second, you can fill in easy details about yourselves. Third, write a complete introductory section. This section should be complete and include a compreshensible description of your problem, and why the previous approaches to solving it were insufficient. Fourth, write a complete section about your data. What data do you have? How many rows and columns? What format? What are some basic summary statistics? [This is a good place to include a table.] Fifth, set up BibTeX and cite at least one reference in your introduction.\nYour submission should include:\n\nTitle\nAuthors and affiliations\nAbstract\nIntroduction (Section 1)\nData (Section 2)\nReferences (using BibTeX, with at least one citation)\n\n\nFinal paper first draft rubric\n\n\n\n\n\n\n\n\nCriteria\nFour\nFive\nSix\n\n\n\n\nFormatting\nMultiple formatting errors. References do not use BiBTeX.\nFormatting works, but does not help to structure the paper. Section titles do not clearly indicate what section is about. Figures/images are too big or too small.\nSection titles provide clear structure. Figures, tables, and images fit nicely into the narrative. References use BiBTeX and are complete.\n\n\nAttention to detail\nTitle does is not descriptive. References are mostly incomplete.\nAuthor information and/or affiliations are incomplete. References do not include URLs.\nTitle is informative and catchy. Author information is complete. References include complete information, including URLs.\n\n\nIntroduction\nIntroduction does not describe the problem. Introduction does not discuss previous approaches or cite previous work.\nIntroduction describes the problem, but uses language that is either overly technical (unexplained jargon) or not technical enough (imprecise). Description of previous work is vague.\nIntroduction clearly describes the problem using appropriate language. Introduction discusses previous work and includes citations. Introduction is written in present tense.\n\n\nData\nDescription of data is vague, rife with jargon, or inaccurate. Key variables are not defined. Units are not included.\nDescription of data is not comprehensive. Key variables are summarized but not well-defined. Units are implied or omitted. Tables and/or figures are unclear or barely readable.\nDescription of data is clear and comprehensive. Basic summary statistics are included in neat, readable tables. Key variables are well-defined and summarized in tables or figures, with units made explicit.\n\n\n\n\n\nSecond draft\nSecond draft criteria include everything in the first draft, plus:\n\nMethods (Section 3)\nResults (Section 4) – can be preliminary\n\n\n\n\n\n\n\nImportant\n\n\n\nIncorporate my feedback from the first draft and revise accordingly!\n\n\n\nFinal paper second draft rubric\n\n\n\n\n\n\n\n\nCriteria\nTen\nEleven\nTwelve\n\n\n\n\nGeneral\nCorrections from first draft were fully implemented. Methods section is imprecise and/or incomplete. Results section is sparse.\nMethods section contains too much narrative about what was tried, rather than focusing on what is important for the reader to know. Results section is largely incomplete and fails to drive home message.\nMethods section explains in appropriate scientific language what is important for the reader to know and how it was done. Results section drives home the message of the paper using fully-explained examples, figures, tables, etc.\n\n\n\n\n\nFinal draft\nFinal draft criteria include everything in the first and second drafts, plus:\n\nResults (Section 4) – finalized\nConclusion (Section 5)\n\nEthical statement (can be in appendix)\nLimitations\nFuture work\nFinal thoughts\n\nAcknowledgements\n\n\n\n\n\n\n\nImportant\n\n\n\nIncorporate my feedback from the second draft and revise accordingly!\n\n\n\nFinal paper final draft rubric\n\n\n\n\n\n\n\n\nCriteria\nSixteen\nEighteen\nTwenty\n\n\n\n\nFormatting\nSection titles do not clearly indicate what section is about. Figures/images are too big or too small. References do not use BiBTeX.\n\nSection titles provide clear structure. Figures, tables, and images fit nicely into the narrative. References use BiBTeX and are complete.\n\n\nNarrative\nPaper tells the story of what you did, including excessive details about data wrangling, and/or failed approaches that are not informative.\n\nIntroduction explains key concepts and illustrates why research was necessary. Team’s contribution is clearly communicated. Outside research is extensive and appropriately sourced. Paper focuses on the information that is most important to readers.\n\n\nCompleteness\nResults section is still largely empty. Methods section is thin on details or largely incomplete. Figures, tables, and references are not working properly.\n\nResults section is substantially complete. Methods section is fully sketched out, if not complete. Figures, tables, and references are working, if not complete."
  },
  {
    "objectID": "hw.html",
    "href": "hw.html",
    "title": "Homework",
    "section": "",
    "text": "Note\n\n\n\nAll homework assignments must be completed in Quarto and submitted as a PDF to Moodle by the corresponding Friday at 5 pm.\nYou must show your code!!\nlibrary(tidyverse)\nlibrary(Lahman)"
  },
  {
    "objectID": "hw.html#hw-1-due-912",
    "href": "hw.html#hw-1-due-912",
    "title": "Homework",
    "section": "HW 1: Due 9/12",
    "text": "HW 1: Due 9/12\n\n\n\n\n\n\nTip\n\n\n\nYou may find the schema for the Lahman database helpful.\n\n\n\nUse the Lahman package to identify when MLB moved to a 154-game schedule? When did they move to a 162 game schedule? Since the advent of the 154-game schedule, in which years were there interruptions in play? Can you Identify the cause of each?\n\n\nSince the advent of the 154-game schedule, use the Lahman package to rank the 10 best and 10 worst teams of all time, as measured by winning percentage.\n\n\nUse the Lahman package to identify all 8 players in Major League history with at least 300 home runs and at least 300 stolen bases in their careers.\n\n\nUse the Lahman package to identify all 10 pitchers in Major League history with at least 300 wins and at least 3000 strikeouts in their careers.\n\n\nUse the Teams table from the Lahman package to produce the following table for all teams with the words “New York” or “Brooklyn” in their names.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfranchID\nnum_teamids\nnames\nnum_seasons\nfirst\nlast\nG\nwpct\nWS\n\n\n\n\nNYY\n1\nNew York Highlanders,New York Yankees\n122\n1903\n2024\n19014\n0.5694811\n27\n\n\nNYM\n1\nNew York Mets\n63\n1962\n2024\n9972\n0.4833400\n2\n\n\nSFG\n1\nNew York Gothams,New York Giants\n75\n1883\n1957\n11115\n0.5533060\n7\n\n\nLAD\n2\nBrooklyn Atlantics,Brooklyn Grays,Brooklyn Bridegrooms,Brooklyn Grooms,Brooklyn Superbas,Brooklyn Dodgers,Brooklyn Robins\n74\n1884\n1957\n11031\n0.5157740\n1\n\n\nBTT\n1\nBrooklyn Tip-Tops\n2\n1914\n1915\n310\n0.4803922\n0\n\n\nBWW\n1\nBrooklyn Ward’s Wonders\n1\n1890\n1890\n133\n0.5757576\n0\n\n\nNYI\n1\nNew York Giants\n1\n1890\n1890\n132\n0.5648855\n0\n\n\nBRG\n1\nBrooklyn Gladiators\n1\n1890\n1890\n100\n0.2653061\n0\n\n\nNYP\n1\nNew York Metropolitans\n5\n1883\n1887\n592\n0.4663212\n0\n\n\nNYU\n1\nNew York Mutuals\n1\n1876\n1876\n57\n0.3750000\n0\n\n\nNNA\n1\nNew York Mutuals\n5\n1871\n1875\n278\n0.5531136\n0\n\n\nBRA\n1\nBrooklyn Atlantics\n4\n1872\n1875\n192\n0.2631579\n0\n\n\nECK\n1\nBrooklyn Eckfords\n1\n1872\n1872\n29\n0.1034483\n0"
  },
  {
    "objectID": "hw.html#hw-2-due-919",
    "href": "hw.html#hw-2-due-919",
    "title": "Homework",
    "section": "HW 2: Due 9/19",
    "text": "HW 2: Due 9/19\n\nABDWR, Exercise 4.7.1\n\n\n\n\n\n\n\nTip\n\n\n\nHint: See https://beanumber.github.io/abdwr3e/02-intro.html#iterating-using-map\n\n\n\nABDWR, Exercise 4.7.2\n\n\nFit a regression model to the Teams data since 1962 to estimate weights (i.e., run values) for the batting events included in eXtrapolated Runs Basic. Compare your results to the values shown. Make sure that you compute everything per game!\n\nReport the Root Mean Squared Error.\nWhich run values are most similar?\nWhich run values are most different? How meaningful are these differences?\nFor those run values that are most different, hypothesize why they might be different?\n\n\n\nFor the same data set that you used above, compute:\n\nbatting average (BAVG)\non-base percentage (OBP)\nslugging percentage (SLG)\nOPS\nRuns Created (basic) (RC)\neXtrapolated Runs Basic (XR)\nCompute the Pearson correlation coefficient between each of these run estimators and (actual) runs per game. Which metrics correlate most closely to runs per game?"
  },
  {
    "objectID": "hw.html#hw-3-due-926",
    "href": "hw.html#hw-3-due-926",
    "title": "Homework",
    "section": "HW 3: Due 9/26",
    "text": "HW 3: Due 9/26\n\n\n\n\n\n\nTip\n\n\n\nUse may the following code to generate the expected run matrix for the 2016 season using Retrosheet play-by-play data.\n\nlibrary(tidyverse)\nlibrary(abdwr3edata)\n\nhalf_innings &lt;- retro2016 |&gt;\n  retrosheet_add_states() |&gt;\n  group_by(game_id, inn_ct, bat_home_id) |&gt;\n  summarize(\n    outs_inning = sum(event_outs_ct), \n    runs_inning = sum(runs_scored),\n    runs_start = first(away_score_ct + home_score_ct),\n    max_runs = runs_inning + runs_start\n  )\n\nchanges2016 &lt;- retro2016 |&gt;\n  retrosheet_add_states() |&gt;\n  inner_join(half_innings, by = join_by(game_id, inn_ct, bat_home_id)) |&gt;\n  mutate(runs_roi = max_runs - (away_score_ct + home_score_ct)) |&gt;\n  filter(state != new_state | runs_scored &gt; 0) |&gt;\n  filter(outs_inning == 3)\n\n\nerm2016 &lt;- changes2016 |&gt; \n  group_by(bases, outs_ct) |&gt;\n  summarize(exp_run_value = mean(runs_roi)) \n\n`summarise()` has grouped output by 'bases'. You can override using the\n`.groups` argument.\n\nerm2016 |&gt;\n  pivot_wider(\n    names_from = outs_ct, \n    values_from = exp_run_value, \n    names_prefix = \"Outs=\"\n  ) |&gt;\n  arrange(`Outs=0`) |&gt;\n  knitr::kable(digits = 3)\n\n\n\n\nbases\nOuts=0\nOuts=1\nOuts=2\n\n\n\n\n000\n0.498\n0.268\n0.106\n\n\n100\n0.858\n0.512\n0.220\n\n\n010\n1.133\n0.673\n0.312\n\n\n001\n1.347\n0.937\n0.372\n\n\n110\n1.445\n0.921\n0.414\n\n\n101\n1.723\n1.196\n0.478\n\n\n011\n1.929\n1.358\n0.548\n\n\n111\n2.106\n1.537\n0.695\n\n\n\n\n\n\n\n\nABDWR, Exercise 5.11.1\nABDWR, Exercise 5.11.3\nABDWR, Exercise 5.11.4\nABDWR, Exercise 5.11.5"
  },
  {
    "objectID": "hw.html#hw-4-due-103",
    "href": "hw.html#hw-4-due-103",
    "title": "Homework",
    "section": "HW 4: Due 10/3",
    "text": "HW 4: Due 10/3\n\nABDWR, Exercise 13.5.2\nABDWR, Exercise 13.5.3\n\n\n\n\n\n\n\nTip\n\n\n\nIt’s just logistic regression. Use the glm() function with family = binomial, or ask a #question on Slack about generalized linear models.\n\n\n\nUse your creativity to create one data graphic like the ones shown in Exploring Statcast data. Try to make this data graphic as compelling as possible."
  },
  {
    "objectID": "hw.html#hw-5-due-1010",
    "href": "hw.html#hw-5-due-1010",
    "title": "Homework",
    "section": "HW 5: Due 10/10",
    "text": "HW 5: Due 10/10\n\nUse the hoopR (for the NBA) or the wehoop (for the WNBA) package to create a compelling data graphic. You could pursue something more statistical (like the scatterplots for the Four Factors) or something more visual (like the shot charts).\nSports like field hockey, ice hockey, and soccer share important properties with basketball. Choose one of those sports (or another sport that you think would also fit), and describe how the concepts from the Four Factors would (or wouldn’t) translate to that sport."
  },
  {
    "objectID": "colloquium.html",
    "href": "colloquium.html",
    "title": "Colloquium presentation",
    "section": "",
    "text": "In a colloquium, there is usually a different speaker each week. During the second half of the semester, our class will run as a quasi-colloquium, wherein you will take turns presenting a sports analytics paper to the rest of the class. This seminar is very common in graduate school, and is a great way to learn how to read a research paper at a deep level.\nYour presentation should take about half of the class period (i.e., 35-40 minutes). Your goal is maximize each other student’s understanding of the paper by the time they leave the room.\nHere is some advice and ground rules:"
  },
  {
    "objectID": "colloquium.html#expectations",
    "href": "colloquium.html#expectations",
    "title": "Colloquium presentation",
    "section": "Expectations",
    "text": "Expectations\nYou will choose a partner, and a paper, and a date during the second half of the semester, and send them to me for approval. If I approve, we will put you on the schedule and post the paper to the rest of the class. If I do not approve, try again. By Wednesday, October 8th we will have the colloquium schedule and topics set.\n\nIf you choose to work alone, you will present one paper\nIf you choose to work with a partner, you will present two papers"
  },
  {
    "objectID": "colloquium.html#baseball",
    "href": "colloquium.html#baseball",
    "title": "Colloquium presentation",
    "section": "Baseball",
    "text": "Baseball\n\nLindsey, G. R. (1963). An investigation of strategies in baseball. Operations Research, 11(4), 477–501. https://doi.org/10.1287/opre.11.4.477\nAlbert, J. (2015). Player evaluation using win probabilities in sports competitions. Wiley Interdisciplinary Reviews: Computational Statistics, 7(5), 316–325. https://doi.org/10.1002/wics.1358\nElmore, R., & Matthews, G. J. (2022). Bang the can slowly: An investigation into the 2017 houston astros. The American Statistician, 76(2), 110–116. https://doi.org/10.1080/00031305.2021.1902391\nBaumer, B. S., Jensen, S. T., & Matthews, G. J. (2015). openWAR: An open source system for evaluating overall player performance in Major League Baseball. Journal of Quantitative Analysis in Sports, 11(2), 69–84. https://doi.org/10.1515/jqas-2014-0098\nYan, S., Burgos, A., Jr, Kinson, C., & Eck, D. J. (2025). Comparing baseball players across eras via novel full house modeling. The Annals of Applied Statistics, 19(2), 1778–1799. https://doi.org/10.1214/24-AOAS1992\nJensen, S. T., McShane, B. B., & Wyner, A. J. (2009). Hierarchical bayesian modeling of hitting performance in baseball. Bayesian Analysis, 4(4), 631–652. https://doi.org/10.1214/09-BA424"
  },
  {
    "objectID": "colloquium.html#basketball",
    "href": "colloquium.html#basketball",
    "title": "Colloquium presentation",
    "section": "Basketball",
    "text": "Basketball\n\nDeshpande, S. K., & Jensen, S. T. (2016). Estimating an NBA player’s impact on his team’s chances of winning. Journal of Quantitative Analysis in Sports, 12(2). https://doi.org/10.1515/jqas-2015-0027\nCervone, D., D’Amour, A., Bornn, L., & Goldsberry, K. (2016). A multiresolution stochastic process model for predicting basketball possession outcomes. Journal of the American Statistical Association, 111(514), 585–599. https://doi.org/10.1080/01621459.2016.1141685\nFranks, A., Miller, A., Bornn, L., & Goldsberry, K. (2015). Characterizing the spatial structure of defensive skill in professional basketball. The Annals of Applied Statistics, 9(1), 94--121. https://doi.org/10.1214/14-AOAS799\nTerner, Z., & Franks, A. (2021). Modeling player and team performance in basketball. Annual Review of Statistics and Its Application, 8(1), 1–23. https://doi.org/10.1146/annurev-statistics-040720-015536"
  },
  {
    "objectID": "colloquium.html#football",
    "href": "colloquium.html#football",
    "title": "Colloquium presentation",
    "section": "Football",
    "text": "Football\n\nYurko, R., Ventura, S., & Horowitz, M. (2019). nflWAR: A reproducible method for offensive player evaluation in football. Journal of Quantitative Analysis in Sports, 15(3), 163–183. https://doi.org/10.1515/jqas-2018-0010\nNguyen, Q., Yurko, R., & Matthews, G. J. (2024). Here comes the strain: Analyzing defensive pass rush in american football with player tracking data. The American Statistician, 78(2), 199–208. https://doi.org/10.1080/00031305.2023.2242442\nBrill, R. S., Yurko, R., & Wyner, A. J. (2025). Analytics, have some humility: A statistical view of fourth-down decision making. The American Statistician, 1–17. https://doi.org/10.1080/00031305.2025.2475801\nDutta, R., Yurko, R., & Ventura, S. L. (2020). Unsupervised methods for identifying pass coverage among defensive backs with NFL player tracking data. Journal of Quantitative Analysis in Sports, 16(2), 143–161. https://doi.org/10.1515/jqas-2020-0017\nMallepalle, S., Yurko, R., Pelechrinis, K., & Ventura, S. L. (2020). Extracting NFL tracking data from images to evaluate quarterbacks and pass defenses. Journal of Quantitative Analysis in Sports, 16(2), 95–120. https://doi.org/10.1515/jqas-2019-0052\nYurko, R., Matano, F., Richardson, L. F., Granered, N., Pospisil, T., Pelechrinis, K., & Ventura, S. L. (2020). Going deep: Models for continuous-time within-play valuation of game outcomes in american football with tracking data. Journal of Quantitative Analysis in Sports, 16(2), 163–182. https://doi.org/10.1515/jqas-2019-0056\nRomer, D. (2006). Do firms maximize? Evidence from professional football. Journal of Political Economy, 114(2), 340–365. https://doi.org/10.1086/501171\nYam, D. R., & Lopez, M. J. (2019). What was lost? A causal estimate of fourth down behavior in the national football league. Journal of Sports Analytics, 5(3), 153–167. https://doi.org/10.3233/jsa-190294\nLopez, M. J. (2020). Bigger data, better questions, and a return to fourth down behavior: An introduction to a special issue on tracking data in the national football league. Journal of Quantitative Analysis in Sports, 16(2), 73–79. https://doi.org/10.1515/jqas-2020-0057"
  },
  {
    "objectID": "colloquium.html#hockey",
    "href": "colloquium.html#hockey",
    "title": "Colloquium presentation",
    "section": "Hockey",
    "text": "Hockey\n\nThomas, A., Ventura, S. L., Jensen, S. T., & Ma, S. (2013). Competing process hazard function models for player ratings in ice hockey. The Annals of Applied Statistics, 1497–1524. https://doi.org/10.1214/13-AOAS646\nBrian, M. (2011). A regression-based adjusted plus-minus statistic for NHL players. Journal of Quantitative Analysis in Sports, 7(3). https://doi.org/10.2202/1559-0410.1284"
  },
  {
    "objectID": "colloquium.html#multisport",
    "href": "colloquium.html#multisport",
    "title": "Colloquium presentation",
    "section": "Multisport",
    "text": "Multisport\n\nFranks, A. M., D’Amour, A., Cervone, D., & Bornn, L. (2016). Meta-analytics: Tools for understanding the statistical properties of sports metrics. Journal of Quantitative Analysis in Sports, 12(4), 151–165. https://doi.org/doi:10.1515/jqas-2016-0098\nBradley, R. A., & Terry, M. E. (1952). Rank analysis of incomplete block designs: I. The method of paired comparisons. Biometrika, 39(3/4), 324–345. https://doi.org/10.2307/2334029\nLopez, M. J., Matthews, G. J., & Baumer, B. S. (2018). How often does the best team win? A unified approach to understanding randomness in North American sport. The Annals of Applied Statistics, 12(4), 2483–2516. https://doi.org/10.1214/18-aoas1165"
  },
  {
    "objectID": "colloquium.html#other",
    "href": "colloquium.html#other",
    "title": "Colloquium presentation",
    "section": "Other",
    "text": "Other\n\nDe Veaux, R., Plantinga, A., & Upton, E. (2025). Age and performance in masters swimming and running. Journal of Quantitative Analysis in Sports, 21(2), 137–152. https://doi.org/10.1515/jqas-2024-0018\nElo, A. E. (1978). The rating of chessplayers, past and present. New York: Arco Publishing.\nKovalchik, S. A. (2016). Searching for the GOAT of tennis win prediction. Journal of Quantitative Analysis in Sports, 12(3), 127–138. https://doi.org/10.1515/jqas-2015-0059"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "SDS 355",
    "section": "",
    "text": "Welcome to SDS 355: Sports Analytics. You will find most of the course content here, but please keep an eye on Moodle for grades and assignments.\n\n\n\nxkcd"
  },
  {
    "objectID": "schedule.html",
    "href": "schedule.html",
    "title": "Schedule",
    "section": "",
    "text": "Please consult Smith’s academic calendar.\n\nBaseball analytics\n\n\n 1 . Mon, Sep  8 ⚾ \n\nIntroductions\n\n\n\nActivity: 2004 Trade Deadline\n\n\n\nMini-lecture: Expected Winning Percentage\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\nComplete pre-course questionnaire by Tuesday at noon (if you haven’t already!)\nRead ABDWR, Ch. 4\n\n\n\n\n\n 2 . Wed, Sep 10 ⚾ \n\nRecap from Monday\n\n\n\nQuiz: Sporcle quiz 1\n\n\n\nMini-lecture: A brief history of sabermetrics\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\n\nWatch Moneyball\nTONIGHT, 7:30 pm - 9:30 pm\nHillyer Graham\nPractice Active Viewing (see page 12 of this)\nHW 1 due Friday by 5 pm\n\n\n\n\n\n 3 . Mon, Sep 15 ⚾ \n\nMoneyball discussion\n\n\n\nQuiz: Sporcle quiz 2\n\n\n\nMini-lecture: Linear Weights\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\nRead ABDWR, Ch. 5\n\n\n\n\n\n 4 . Wed, Sep 17 ⚾ \n\n\n\n\nQuiz: Sporcle quiz 3\n\n\n\nMini-lecture: The Run Expectancy Matrix\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\nHW 2 due Friday by 5 pm\n\n\n\n\n\n 5 . Mon, Sep 22 ⚾ \n\nBig Data Bowl\n\n\n\nActivity: Evaluating strategies using the REM\n\n\n\nQuiz: Sporcle quiz 4\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\nRead McCracken (2001)\n\n\n\n\n\n 6 . Wed, Sep 24 ⚾ \n\n\n\n\nMini-lecture: Defense Independent Pitching Statistics (DIPS)\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\nHW 3 due Friday by 5 pm\nRead ABDWR, Ch. 13.1-13.2\n\n\n\n\nTigers @ Red Sox\nFriday, 7:10 pm\nFenway Park, Boston, MA\n\nNew England Symposium on Statistics in Sports\nSaturday, 9 am - 6 pm\nHarvard University\n\n\n\n\n\n\n\nAnalytics in other sports\n\n\n 7 . Mon, Sep 29 ⚾ \n\n\n\n\n\n\nNoteInvited Guest\n\n\n\n\nEmma Strawbridge\nUMass doctoral student\nBio: Emma Strawbridge (they/them) is a first year PhD student in Statistics at UMass Amherst. They graduated from Amherst college in 2025 with a Statistics and Math double major, and wrote an honors thesis in the statistics department titled “Capturing Baseball Pitch Patterns with Hidden Markov Models”. They have worked for the Chicago Blackhawks as a data science intern during the summer of 2024 and hope to work in sports analytics in the future. Emma is a fan of ice hockey, baseball, football, and occasionally cycling and tennis when the season is right. Go birds.\n\n\n\n\nNESSIS recap\n\n\n\n\nMini-lecture: Exploring Statcast data\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\nRead Albert (2015)\n\n\n\n\n\n 8 . Wed, Oct  1 \n\nAmerican Soccer Insights Summit\n\n\n\nMini-lecture: Win Probability\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\nHW 4 due Friday by 5 pm\nRead Kubatko et al. (2007)\n\n\n\n\n\n 9 . Mon, Oct  6 🏀 \n\n\n\n\nMini-lecture: Four factors\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\nRead Cervone et al. (2016) This paper is tough going – just try your best!\nTry to understand the main ideas first – don’t worry about the details.\n\n\n\n\n\n 10 . Wed, Oct  8 🏀 \n\n\n\n\nQuiz: Sporcle quiz 5\n\n\n\nMini-lecture: Expected points per possession\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\nHW 5 due Friday by 5 pm\nRead Lopez (2020)\n\n\n\n\n\n 11 . Mon, Oct 13 \n\nFALL BREAK – NO CLASS\n\n\n\n\n 12 . Wed, Oct 15 🏈 \n\nFirst-down conversion\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\nRead Bradley and Terry (1952)\n\n\n\n\n\n 13 . Mon, Oct 20 \n\nBradley-Terry models\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\n\n\n\n\n 14 . Wed, Oct 22 \n\nMIDTERM EXAM\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\n\nCarnegie Mellon University Sports Analytics Conference\n\n\n\n\n\n\n\n\nSports analytics research\n\n\n 15 . Mon, Oct 27 \n\nBayesian state-space models\n\n\n\n 16 . Wed, Oct 29 \n\n\n\n\n\n\nNoteInvited Guest:\n\n\n\n\nAmanda Glazer\nAssistant Professor\nStatistics and Data Dciences\nUT Austin\nBio: Prior to joining UT, I earned my PhD in Statistics from UC Berkeley. My research focuses on developing causal inference and nonparametric methods, and associated software and tools, that address real scientific problems. I am particularly drawn to problems that affect society such as issues of discrimination and social justice. Reproducibility, replicability and evaluating the appropriateness of statistical methods are especially important to me. I also conduct research in sports analytics and developed and taught a new Sports Analytics course at UT Austin in Spring 2025. Previously, I worked as a baseball operations associate analyst for the San Francisco Giants for four years.\n\n\n\n\n\n 17 . Mon, Nov  3 \n\n\n\n\n\n\nNoteHomework\n\n\n\n\nRead TBD\n\n\n\n\n\n 18 . Wed, Nov  5 \n\nAbby & Selam: TBD\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\nRead TBD\n\n\n\n\n\n 19 . Mon, Nov 10 \n\nGabriela: TBD\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\nRead TBD\n\n\n\n\n\n 20 . Wed, Nov 12 \n\nAnna: TBD\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\nRead TBD\n\n\n\n\n\n 21 . Mon, Nov 17 \n\nTyler: TBD\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\nRead TBD\n\n\n\n\n\n 22 . Wed, Nov 19 \n\nLorelei: TBD\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\nRead TBD\n\n\n\n\n\n 23 . Mon, Nov 24 \n\nEliana: TBD\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\nRead TBD\n\n\n\n\n\n 24 . Wed, Nov 26 \n\nTHANKSGIVING BREAK – NO CLASS\n\n\n\n\n 25 . Mon, Dec  1 \n\nAbby & Selam: TBD\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\nRead TBD\n\n\n\n\n\n 26 . Wed, Dec  3 \n\nAbi\n\n\n\n 27 . Mon, Dec  8 \n\nProjects\n\n\n\n 28 . Wed, Dec 10 \n\nLightning talks (5 minutes, 2 slides)\nCourse feedback questionnaire\n\n\n\n\n\n\n\nNoteHomework\n\n\n\n\nFinal paper due\nFinal reflection due\nAll work due by Dec 17\n\n\n\n\n\n\n\n\n\n\n\nImportant\n\n\n\nAll work is due by 11:59 pm on December 17th!!\n\n\n\n\n\n\n\nReferences\n\nAlbert, J. 2015. “Player Evaluation Using Win Probabilities in Sports Competitions.” Wiley Interdisciplinary Reviews: Computational Statistics 7 (5): 316–25. https://doi.org/10.1002/wics.1358.\n\n\nBradley, Ralph Allan, and Milton E. Terry. 1952. “Rank Analysis of Incomplete Block Designs: I. The Method of Paired Comparisons.” Biometrika 39 (3/4): 324–45. https://doi.org/10.2307/2334029.\n\n\nCervone, Daniel, Alex D’Amour, Luke Bornn, and Kirk Goldsberry. 2016. “A Multiresolution Stochastic Process Model for Predicting Basketball Possession Outcomes.” Journal of the American Statistical Association 111 (514): 585–99. https://doi.org/10.1080/01621459.2016.1141685.\n\n\nKubatko, Justin, Dean Oliver, Kevin Pelton, and Dan T Rosenbaum. 2007. “A Starting Point for Analyzing Basketball Statistics.” Journal of Quantitative Analysis in Sports 3 (3). https://doi.org/10.2202/1559-0410.1070.\n\n\nLopez, Michael J. 2020. “Bigger Data, Better Questions, and a Return to Fourth down Behavior: An Introduction to a Special Issue on Tracking Data in the National Football League.” Journal of Quantitative Analysis in Sports 16 (2): 73–79. https://doi.org/10.1515/jqas-2020-0057.\n\n\nMcCracken, Voros. 2001. “Pitching and Defense: How Much Control Do Hurlers Have?” Baseball Prospecus. https://www.baseballprospectus.com/news/article/878/pitching-and-defense-how-much-control-do-hurlers-have/."
  },
  {
    "objectID": "slides/02_sabermetrics.html#sabermetrics",
    "href": "slides/02_sabermetrics.html#sabermetrics",
    "title": "A brief history of sabermetrics",
    "section": "Sabermetrics",
    "text": "Sabermetrics\n\n\n\n\n\nstatistics\ncomputing\nmath\nbaseball\nphysics"
  },
  {
    "objectID": "slides/02_sabermetrics.html#a-brief-history-of-sabermetrics",
    "href": "slides/02_sabermetrics.html#a-brief-history-of-sabermetrics",
    "title": "A brief history of sabermetrics",
    "section": "A brief history of sabermetrics",
    "text": "A brief history of sabermetrics"
  },
  {
    "objectID": "slides/02_sabermetrics.html#early-20th-century",
    "href": "slides/02_sabermetrics.html#early-20th-century",
    "title": "A brief history of sabermetrics",
    "section": "Early 20th century",
    "text": "Early 20th century\n\n\n\n1900s: Henry Chadwick invents the boxscore"
  },
  {
    "objectID": "slides/02_sabermetrics.html#early-20th-century-data",
    "href": "slides/02_sabermetrics.html#early-20th-century-data",
    "title": "A brief history of sabermetrics",
    "section": "Early 20th century: data",
    "text": "Early 20th century: data\n\n\n\n\n\nBoxscores\n\ngame level\ndozens of rows"
  },
  {
    "objectID": "slides/02_sabermetrics.html#early-20th-century-tools",
    "href": "slides/02_sabermetrics.html#early-20th-century-tools",
    "title": "A brief history of sabermetrics",
    "section": "Early 20th century: tools",
    "text": "Early 20th century: tools\n\n\n\n\n\n1880: punched cards invented (by IBM)\n1935: punched cards used by SSA"
  },
  {
    "objectID": "slides/02_sabermetrics.html#early-20th-century-methods",
    "href": "slides/02_sabermetrics.html#early-20th-century-methods",
    "title": "A brief history of sabermetrics",
    "section": "Early 20th century: methods",
    "text": "Early 20th century: methods\n\n\n\n1907: Galton’s paper on wisdom-of-crowds\n1908: Gosset’s t-test\n1918: Fisher introduces variance\n1935: Design of Experiments"
  },
  {
    "objectID": "slides/02_sabermetrics.html#early-20th-century-what-did-we-learn",
    "href": "slides/02_sabermetrics.html#early-20th-century-what-did-we-learn",
    "title": "A brief history of sabermetrics",
    "section": "Early 20th century: what did we learn?",
    "text": "Early 20th century: what did we learn?\n\n\n\n\n\nBatting\n\nbatting average\n\nPitching:\n\nearned run average (ERA)\n\nFielding\n\nfielding percentage"
  },
  {
    "objectID": "slides/02_sabermetrics.html#branch-rickey-era",
    "href": "slides/02_sabermetrics.html#branch-rickey-era",
    "title": "A brief history of sabermetrics",
    "section": "Branch Rickey era",
    "text": "Branch Rickey era\n\n\n\n1947: Allan Roth, Brooklyn Dodgers statistician"
  },
  {
    "objectID": "slides/02_sabermetrics.html#branch-rickey-era-data",
    "href": "slides/02_sabermetrics.html#branch-rickey-era-data",
    "title": "A brief history of sabermetrics",
    "section": "Branch Rickey era: data",
    "text": "Branch Rickey era: data\n\n\n\n\n\nTabulated\n\nrecorded by hand (?)\nhundreds of rows (?)\n\n1951: Official Encyclopedia of Baseball\n\ngames played\nbatting average (for hitters)\nwins and losses (pitchers)"
  },
  {
    "objectID": "slides/02_sabermetrics.html#branch-rickey-era-tools",
    "href": "slides/02_sabermetrics.html#branch-rickey-era-tools",
    "title": "A brief history of sabermetrics",
    "section": "Branch Rickey era: tools",
    "text": "Branch Rickey era: tools\n\n\n\n\n\n1940s: Monroe LN-160X\n1947: Victor is the world’s largest exclusive manufacturer of adding machines\n1950: Turing test"
  },
  {
    "objectID": "slides/02_sabermetrics.html#branch-rickey-era-methods",
    "href": "slides/02_sabermetrics.html#branch-rickey-era-methods",
    "title": "A brief history of sabermetrics",
    "section": "Branch Rickey era: methods",
    "text": "Branch Rickey era: methods\n\n\n\n1953: Metropolis’s paper on Monte Carlo methods\n1959: Lehmann’s Testing Statistical Hypotheses\n1970: Codd’s “A Relational Model of Data for Large Shared Data Banks”\n\n\n\n\n1970: Metropolis-Hastings for MCMC"
  },
  {
    "objectID": "slides/02_sabermetrics.html#roth-on-math",
    "href": "slides/02_sabermetrics.html#roth-on-math",
    "title": "A brief history of sabermetrics",
    "section": "Roth on math",
    "text": "Roth on math\n\n\n\nThe figures concerned in baseball statistical work don’t call for integral calculus or even advanced algebra.\n–Allan Roth\n\n\n\n\n\nRosenthal, ed., “The Statistician,” in Baseball Is Their Business, 1952, p. 140"
  },
  {
    "objectID": "slides/02_sabermetrics.html#what-did-we-learn",
    "href": "slides/02_sabermetrics.html#what-did-we-learn",
    "title": "A brief history of sabermetrics",
    "section": "What did we learn?",
    "text": "What did we learn?\n\n\n\n\n\nBatting:\n\nOBP better than batting average\nPlatoon effects\n\nPitching:\n\nPitch counts\n\nFielding:\n\nSpray charts"
  },
  {
    "objectID": "slides/02_sabermetrics.html#bill-james-era",
    "href": "slides/02_sabermetrics.html#bill-james-era",
    "title": "A brief history of sabermetrics",
    "section": "Bill James era",
    "text": "Bill James era\n\n\n\n1977–1988: Bill James popularizes “sabermetrics”"
  },
  {
    "objectID": "slides/02_sabermetrics.html#bill-james-era-data",
    "href": "slides/02_sabermetrics.html#bill-james-era-data",
    "title": "A brief history of sabermetrics",
    "section": "Bill James era: data",
    "text": "Bill James era: data\n\n\n\n\n\nCompiled:\n\nseasonal, some batter vs. pitcher\nthousands of rows\n\n1969: “Big Mac”"
  },
  {
    "objectID": "slides/02_sabermetrics.html#bill-james-era-tools",
    "href": "slides/02_sabermetrics.html#bill-james-era-tools",
    "title": "A brief history of sabermetrics",
    "section": "Bill James era: tools",
    "text": "Bill James era: tools\n\n\n\n1973: TI SR-10 pocket calculator\n1974: Ingres\n1977: Apple II\n1981: MS-DOS first released\n1986: SQL becomes and ANSI standard"
  },
  {
    "objectID": "slides/02_sabermetrics.html#bill-james-era-methods",
    "href": "slides/02_sabermetrics.html#bill-james-era-methods",
    "title": "A brief history of sabermetrics",
    "section": "Bill James era: methods",
    "text": "Bill James era: methods\n\n\n\n\n\n1977: Tukey, Exploratory Data Analysis\n1977: EM algorithm\n1979: Efron discovers the bootstrap"
  },
  {
    "objectID": "slides/02_sabermetrics.html#bill-james-era-what-did-we-learn",
    "href": "slides/02_sabermetrics.html#bill-james-era-what-did-we-learn",
    "title": "A brief history of sabermetrics",
    "section": "Bill James era: what did we learn?",
    "text": "Bill James era: what did we learn?\n\n\n\nPythagorean Expectation\nWin Shares\nBatting\n\nRuns Created\n\nPitching\n\nGame Score\n\nFielding\n\nRange Factor"
  },
  {
    "objectID": "slides/02_sabermetrics.html#internet-era",
    "href": "slides/02_sabermetrics.html#internet-era",
    "title": "A brief history of sabermetrics",
    "section": "Internet era",
    "text": "Internet era\n\n\n\n1990s: rec.sport.baseball connects the next generation of sabermetricians"
  },
  {
    "objectID": "slides/02_sabermetrics.html#internet-era-data",
    "href": "slides/02_sabermetrics.html#internet-era-data",
    "title": "A brief history of sabermetrics",
    "section": "Internet era: data",
    "text": "Internet era: data\n\n\n\nSeasonal\n\nplayer-team-season\n100,000 rows seasonal\n\n1995: Sean Lahman publishes first online database"
  },
  {
    "objectID": "slides/02_sabermetrics.html#internet-era-tools",
    "href": "slides/02_sabermetrics.html#internet-era-tools",
    "title": "A brief history of sabermetrics",
    "section": "Internet era: tools",
    "text": "Internet era: tools\n\n\n\n1990: Windows 3.0\n1995: Excel 7.0 can handle at most 16k rows\n1998: iMac G3"
  },
  {
    "objectID": "slides/02_sabermetrics.html#internet-era-methods",
    "href": "slides/02_sabermetrics.html#internet-era-methods",
    "title": "A brief history of sabermetrics",
    "section": "Internet era: methods",
    "text": "Internet era: methods\n\n\n\n\n\ncorrelation\nregression\nMarkov chains"
  },
  {
    "objectID": "slides/02_sabermetrics.html#internet-era-what-did-we-learn",
    "href": "slides/02_sabermetrics.html#internet-era-what-did-we-learn",
    "title": "A brief history of sabermetrics",
    "section": "Internet era: what did we learn?",
    "text": "Internet era: what did we learn?\n\nThere is little if any difference among major-league pitchers in their ability to prevent hits on balls hit in the field of play.\n–Voros McCracken\n\n\n\nMcCracken, “Pitching and Defense: How Much Control Do Hurlers Have?,” BaseballProspectus.com, Jan 23, 2001"
  },
  {
    "objectID": "slides/02_sabermetrics.html#moneyball-era-data",
    "href": "slides/02_sabermetrics.html#moneyball-era-data",
    "title": "A brief history of sabermetrics",
    "section": "Moneyball era: data",
    "text": "Moneyball era: data\n\n\n\nPlay-by-play\n\nbatter vs. pitcher\nseveral million rows\n\n1996: Retrosheet starts publishing play-by-play data online"
  },
  {
    "objectID": "slides/02_sabermetrics.html#moneyball-era-tools",
    "href": "slides/02_sabermetrics.html#moneyball-era-tools",
    "title": "A brief history of sabermetrics",
    "section": "Moneyball era: tools",
    "text": "Moneyball era: tools\n\n\n\n2003: Excel 11.0 can handle at most 64k rows\n2005: MySQL powers Google\n\n\nplay,1,0,hendr001,00,X,9/F9S\nplay,1,0,whitd001,22,BBFFC,K/C\nplay,1,0,alomr001,32,BBCFBB,W\nplay,1,0,cartj001,00,X,4/P4\nplay,1,1,raint001,00,X,43/G34\nplay,1,1,coraj001,01,CX,4/P4MD\nplay,1,1,thomf001,30,BBBB,W\nplay,1,1,ventr001,00,B,WP.1-2\nplay,1,1,ventr001,11,B.CB,WP.2-3\nplay,1,1,ventr001,32,B.CB.SFFBS,K"
  },
  {
    "objectID": "slides/02_sabermetrics.html#moneyball-era-methods",
    "href": "slides/02_sabermetrics.html#moneyball-era-methods",
    "title": "A brief history of sabermetrics",
    "section": "Moneyball era: methods",
    "text": "Moneyball era: methods\n\n\n\n\n\nregression\nclustering\n\\(k\\)-Nearest Neighbor"
  },
  {
    "objectID": "slides/02_sabermetrics.html#moneyball-era-what-did-we-learn",
    "href": "slides/02_sabermetrics.html#moneyball-era-what-did-we-learn",
    "title": "A brief history of sabermetrics",
    "section": "Moneyball era: what did we learn?",
    "text": "Moneyball era: what did we learn?\n\n\n\nBatting\n\nLinear Weights\nValue Over Replacement Player\nProjection systems\n\nPitching\n\nLeverage\n\nFielding\n\nUltimate Zone Rating"
  },
  {
    "objectID": "slides/02_sabermetrics.html#pitchfx-era-data",
    "href": "slides/02_sabermetrics.html#pitchfx-era-data",
    "title": "A brief history of sabermetrics",
    "section": "PITCHf/x era: data",
    "text": "PITCHf/x era: data\n\n\n\nPitch-by-pitch\n\neach pitch\nseveral million rows per season"
  },
  {
    "objectID": "slides/02_sabermetrics.html#pitchfx-era-tools",
    "href": "slides/02_sabermetrics.html#pitchfx-era-tools",
    "title": "A brief history of sabermetrics",
    "section": "PITCHf/x era: tools",
    "text": "PITCHf/x era: tools\n\n\n\n\n\n2000s: SQL can handle tens of millions of rows on modest hardware\n2007: Excel 12.0 can handle at most 1M rows"
  },
  {
    "objectID": "slides/02_sabermetrics.html#pitchfx-era-methods",
    "href": "slides/02_sabermetrics.html#pitchfx-era-methods",
    "title": "A brief history of sabermetrics",
    "section": "PITCHf/x era: methods",
    "text": "PITCHf/x era: methods\n\n\n\n\n\nmixed models\nBayesian methods\ngeneralized linear models"
  },
  {
    "objectID": "slides/02_sabermetrics.html#pitchfx-era-what-did-we-learn",
    "href": "slides/02_sabermetrics.html#pitchfx-era-what-did-we-learn",
    "title": "A brief history of sabermetrics",
    "section": "PITCHf/x era: what did we learn?",
    "text": "PITCHf/x era: what did we learn?\n\n\n\nWAR\nPitching\n\nSpin rates\nCatcher framing"
  },
  {
    "objectID": "slides/02_sabermetrics.html#statcast-era-data",
    "href": "slides/02_sabermetrics.html#statcast-era-data",
    "title": "A brief history of sabermetrics",
    "section": "Statcast era: data",
    "text": "Statcast era: data\n\n\n\n2015: Statcast deployed\nPlayer-tracking\n\nevery 1/15th of a second\nseveral million rows per game"
  },
  {
    "objectID": "slides/02_sabermetrics.html#statcast-era-tools",
    "href": "slides/02_sabermetrics.html#statcast-era-tools",
    "title": "A brief history of sabermetrics",
    "section": "Statcast era: tools",
    "text": "Statcast era: tools\n\n\n\nHadoop\nApache Spark\nCray supercomputer!"
  },
  {
    "objectID": "slides/02_sabermetrics.html#statcast-era-methods",
    "href": "slides/02_sabermetrics.html#statcast-era-methods",
    "title": "A brief history of sabermetrics",
    "section": "Statcast era: methods",
    "text": "Statcast era: methods\n\n\n\n\n\nmachine learning\n\nregularized regression\ndecision trees\nrandom forests\nneural networks\nsupport vector machines"
  },
  {
    "objectID": "slides/02_sabermetrics.html#statcast-era-what-have-we-learned",
    "href": "slides/02_sabermetrics.html#statcast-era-what-have-we-learned",
    "title": "A brief history of sabermetrics",
    "section": "Statcast era: what have we learned?",
    "text": "Statcast era: what have we learned?\n\n\n\nBatting:\n\nexit velocity\nlaunch angle\n\nFielding:\n\nroute efficiency\npop time"
  },
  {
    "objectID": "slides/02_sabermetrics.html#summary",
    "href": "slides/02_sabermetrics.html#summary",
    "title": "A brief history of sabermetrics",
    "section": "Summary",
    "text": "Summary\n\n\n\n\n\n\n\n\n\n\ndata\nrows\ntool\nmethod\nresult\n\n\n\n\nboxscores\ndozens\npaper\narithmetic\nrates\n\n\ntabulated\nhundreds\nadding machine\narithmetic\nformulas\n\n\ncompiled\nthousands\ncalculator\nalgebra\nmetrics\n\n\nseasonal\n100 k\nspreadsheet\nregression\nmetrics\n\n\nplay-by-play\n1 M\nSQL (laptop)\nregression\nfitted models\n\n\npitch-by-pitch\n10 M\nSQL (server)\nmixed, Bayesian\nstatistical models\n\n\nplayer tracking\nbillions\nSpark\nML\n?"
  },
  {
    "objectID": "slides/02_sabermetrics.html#lahman",
    "href": "slides/02_sabermetrics.html#lahman",
    "title": "A brief history of sabermetrics",
    "section": "Lahman",
    "text": "Lahman\n\n\n\n\nSeasonal data, 1871-2025\n\n\n\nlibrary(Lahman)\nTeams |&gt;\n  head()\n\n  yearID lgID teamID franchID divID Rank   G Ghome  W  L DivWin WCWin LgWin\n1   1884   UA    ALT      ALT  &lt;NA&gt;   10  25    NA  6 19   &lt;NA&gt;  &lt;NA&gt;     N\n2   1961   AL    LAA      ANA  &lt;NA&gt;    8 162    82 70 91   &lt;NA&gt;  &lt;NA&gt;     N\n3   1962   AL    LAA      ANA  &lt;NA&gt;    3 162    81 86 76   &lt;NA&gt;  &lt;NA&gt;     N\n4   1963   AL    LAA      ANA  &lt;NA&gt;    9 161    81 70 91   &lt;NA&gt;  &lt;NA&gt;     N\n5   1964   AL    LAA      ANA  &lt;NA&gt;    5 162    81 82 80   &lt;NA&gt;  &lt;NA&gt;     N\n6   1965   AL    CAL      ANA  &lt;NA&gt;    7 162    80 75 87   &lt;NA&gt;  &lt;NA&gt;     N\n  WSWin   R   AB    H X2B X3B  HR  BB   SO  SB CS HBP SF  RA  ER  ERA CG SHO SV\n1  &lt;NA&gt;  90  899  223  30   6   2  22  130  NA NA  NA NA 216 114 4.67 20   0  0\n2     N 744 5424 1331 218  22 189 681 1068  37 28  NA NA 784 689 4.31 25   5 34\n3     N 718 5499 1377 232  35 137 602  917  46 27  NA NA 706 603 3.70 23  15 47\n4     N 597 5506 1378 208  38  95 448  916  43 30  NA NA 660 569 3.52 30  13 31\n5     N 544 5362 1297 186  27 102 472  920  49 39  NA NA 551 469 2.91 30  28 41\n6     N 527 5354 1279 200  36  92 443  973 107 59  NA NA 569 508 3.17 39  14 33\n  IPouts   HA HRA BBA SOA   E  DP    FP                  name\n1    659  292   3  52  93 156   4 0.862 Altoona Mountain City\n2   4314 1391 180 713 973 192 154 0.969    Los Angeles Angels\n3   4398 1412 118 616 858 175 153 0.972    Los Angeles Angels\n4   4365 1317 120 578 889 163 155 0.974    Los Angeles Angels\n5   4350 1273 100 530 965 138 168 0.978    Los Angeles Angels\n6   4323 1259  91 563 847 123 149 0.981     California Angels\n                park attendance BPF PPF teamIDBR teamIDlahman45 teamIDretro\n1               &lt;NA&gt;         NA 101 109      ALT            ALT         ALT\n2 Wrigley Field (LA)     603510 111 112      LAA            LAA         LAA\n3     Dodger Stadium    1144063  97  97      LAA            LAA         LAA\n4     Dodger Stadium     821015  94  94      LAA            LAA         LAA\n5     Dodger Stadium     760439  90  90      LAA            LAA         LAA\n6     Dodger Stadium     566727  97  98      CAL            CAL         CAL"
  },
  {
    "objectID": "slides/02_sabermetrics.html#retrosheet",
    "href": "slides/02_sabermetrics.html#retrosheet",
    "title": "A brief history of sabermetrics",
    "section": "Retrosheet",
    "text": "Retrosheet\n\n\n\n\nretrosheet R package\n\n\n\nlibrary(retrosheet)\nget_retrosheet(\"game\", 1986, \"NYN\") |&gt;\n  head()\n\n        Date DblHdr Day VisTm VisTmLg VisTmGNum HmTm HmTmLg HmTmGNum VisRuns\n1 1986-04-07      0 Mon   CLE      AL         1  BAL     AL        1       6\n2 1986-04-07      0 Mon   MIL      AL         1  CHA     AL        1       5\n3 1986-04-07      0 Mon   BOS      AL         1  DET     AL        1       5\n4 1986-04-07      0 Mon   PHI      NL         1  CIN     NL        1       4\n5 1986-04-07      0 Mon   SDN      NL         1  LAN     NL        1       1\n6 1986-04-08      0 Tue   KCA      AL         1  NYA     AL        1       2\n  HmRuns NumOuts DayNight Completion Forfeit Protest ParkID Attendance Duration\n1      4      54        D       &lt;NA&gt;      NA    &lt;NA&gt;  BAL11      52292      184\n2      3      54        D       &lt;NA&gt;      NA    &lt;NA&gt;  CHI10      42265      168\n3      6      51        D       &lt;NA&gt;      NA    &lt;NA&gt;  DET04      51437      175\n4      7      51        D       &lt;NA&gt;      NA    &lt;NA&gt;  CIN08      54960      141\n5      2      51        D       &lt;NA&gt;      NA    &lt;NA&gt;  LOS03      49444      135\n6      4      51        D       &lt;NA&gt;      NA    &lt;NA&gt;  NYC16      55602      146\n    VisLine    HmLine VisAB VisH VisD VisT VisHR VisRBI VisSH VisSF VisHBP\n1 122000010 000020110    34    9    3    0     0      5     0     1      0\n2 010202000 010010001    35   10    1    0     2      5     0     0      0\n3 101000300 00103020x    39   12    1    1     4      5     0     0      0\n4 301000000 04102000x    32    7    4    0     1      4     1     1      0\n5 000000001 01000010x    33   10    0    0     0      1     0     0      0\n6 000200000 03001000x    33    5    1    0     1      2     0     0      1\n  VisBB VisIBB VisK VisSB VisCS VisGDP VisCI VisLOB VisPs VisER VisTER VisWP\n1     5      0    3     0     1      0     0      7     3     2      2     1\n2     0      0    7     1     0      2     0      3     3     3      3     0\n3     1      0    6     0     0      0     0      8     4     6      6     0\n4     3      1    2     1     0      1     0      6     3     7      7     0\n5     1      0    9     1     2      1     0      6     2     2      2     0\n6     3      0   10     0     0      0     0      8     2     4      4     0\n  VisBalks VisPO VisA VisE VisPassed VisDB VisTP HmAB HmH HmD HmT HmHR HmRBI\n1        0    27   11    3         0     1     0   35   8   2   0    0     2\n2        0    27    9    0         0     0     0   34   9   2   0    0     3\n3        0    24    4    0         0     0     0   35  13   1   1    2     6\n4        0    24   16    0         0     2     0   35  13   2   0    2     7\n5        0    24   12    0         0     1     0   28   5   1   0    1     2\n6        0    24   11    1         0     2     0   30   8   0   0    1     4\n  HmSH HmSF HmHBP HmBB HmIBB HmK HmSB HmCS HmGDP HmCI HmLOB HmPs HmER HmTER\n1    0    1     0    2     0   5    1    0     1    0     7    3    6     6\n2    0    2     0    5     0   6    1    0     0    0    11    4    5     5\n3    0    0     0    3     0   6    2    1     0    0     8    3    5     5\n4    0    0     0    2     0   1    1    1     1    0     6    2    1     1\n5    0    0     0    2     0   0    0    0     0    0     4    1    1     1\n6    0    0     0    2     0   3    2    1     1    0     4    3    2     2\n  HmWP HmBalks HmPO HmA HmE HmPass HmDB HmTP   UmpHID        UmpHNm  Ump1BID\n1    0       0   27  13   2      0    1    0 brinj901  Joe Brinkman coont901\n2    0       0   27  11   0      0    2    0 mckej901    Jim McKean clara901\n3    0       0   27  13   0      0    0    0 barnl901 Larry Barnett bremn901\n4    0       0   27  12   1      0    1    0 kiblj901   John Kibler froeb901\n5    0       0   27  15   1      0    1    0 willb901 Bill Williams mcshj901\n6    0       0   27  10   1      0    0    0 garcr901   Rich Garcia koscg901\n          Ump1BNm  Ump2BID       Ump2BNm  Ump3BID         Ump3BNm UmpLFID\n1    Terry Cooney pales901 Steve Palermo kaisk901      Ken Kaiser      NA\n2        Al Clark shulj901  John Shulock morrd901    Dan Morrison      NA\n3   Nick Bremigan roe-r901     Rocky Roe hirsj901 John Hirschbeck      NA\n4 Bruce Froemming marsr901   Randy Marsh davib902    Bob Davidson      NA\n5   John McSherry pullf901   Frank Pulli westj901        Joe West      NA\n6       Greg Kosc reedr901     Rick Reed fordd901       Dale Ford      NA\n  UmpLFNm UmpRFID UmpRFNm VisMgrID         VisMgrNm  HmMgrID         HmMgrNm\n1  (none)      NA  (none) corrp102     Pat Corrales weave801     Earl Weaver\n2  (none)      NA  (none) bambg101 George Bamberger larut101    Tony LaRussa\n3  (none)      NA  (none) mcnaj801    John McNamara andes101 Sparky Anderson\n4  (none)      NA  (none) felsj101      John Felske rosep001       Pete Rose\n5  (none)      NA  (none) boros101      Steve Boros lasot101     Tom Lasorda\n6  (none)      NA  (none) howsd101      Dick Howser pinil001    Lou Piniella\n    WinPID              WinPNm      PID         PNAme  SavePID\n1 schrk001          Ken Schrom flanm001 Mike Flanagan camae001\n2 higut001       Teddy Higuera seavt001    Tom Seaver cleam001\n3 morrj001         Jack Morris stews001 Sammy Stewart hernw001\n4 sotom001          Mario Soto carls001 Steve Carlton robir001\n5 valef001 Fernando Valenzuela showe001     Eric Show     &lt;NA&gt;\n6 guidr001          Ron Guidry blacb001   Buddy Black righd001\n              SavePNm GWinRBIID      GWinRBINm VisStPchID    VisStPchNm\n1       Ernie Camacho  thora001 Andre Thornton   schrk001    Ken Schrom\n2          Mark Clear  rilee001    Ernie Riles   higut001 Teddy Higuera\n3 Guillermo Hernandez  gibsk001    Kirk Gibson   hursb001   Bruce Hurst\n4        Ron Robinson  diazb001        Bo Diaz   carls001 Steve Carlton\n5              (none)  sax-s001      Steve Sax   showe001     Eric Show\n6       Dave Righetti  wyneb001  Butch Wynegar   blacb001   Buddy Black\n  HmStPchID           HmStPchNm VisBat1ID    VisBat1Nm VisBat1Pos VisBat2ID\n1  flanm001       Mike Flanagan  butlb001 Brett Butler          8  cartj001\n2  seavt001          Tom Seaver  feldm001  Mike Felder          7  younr001\n3  morrj001         Jack Morris  evand002 Dwight Evans          9  boggw001\n4  sotom001          Mario Soto  redug001   Gary Redus          7  thomm001\n5  valef001 Fernando Valenzuela  robeb002  Bip Roberts          4  gwynt001\n6  guidr001          Ron Guidry  smitl002 Lonnie Smith          7  wilsw001\n      VisBat2Nm VisBat2Pos VisBat3ID        VisBat3Nm VisBat3Pos VisBat4ID\n1    Joe Carter          9  franj002     Julio Franco          6  thora001\n2   Robin Yount          8  molip001     Paul Molitor          5  robib001\n3    Wade Boggs          5  buckb001     Bill Buckner          3  ricej001\n4 Milt Thompson          8  samuj001      Juan Samuel          4  schmm001\n5    Tony Gwynn          9  mcrek001 Kevin McReynolds          8  garvs001\n6 Willie Wilson          8  bretg001     George Brett          5  mcrah001\n          VisBat4Nm VisBat4Pos VisBat5ID        VisBat5Nm VisBat5Pos VisBat6ID\n1    Andre Thornton         10  jacob001     Brook Jacoby          5  tablp001\n2 Billy Jo Robidoux          3  rilee001      Ernie Riles          6  deerr001\n3          Jim Rice          7  bayld001       Don Baylor         10  gedmr001\n4      Mike Schmidt          5  wilsg001     Glenn Wilson          9  hayev001\n5      Steve Garvey          3  martc001 Carmelo Martinez          7  tempg001\n6         Hal McRae         10  whitf001      Frank White          4  balbs001\n        VisBat6Nm VisBat6Pos VisBat7ID        VisBat7Nm VisBat7Pos VisBat8ID\n1      Pat Tabler          3  bernt001   Tony Bernazard          4  hallm001\n2        Rob Deer          9  housp001 Paul Householder         10  gantj001\n3     Rich Gedman          2  armat001       Tony Armas          8  barrm001\n4       Von Hayes          3  dauld001   Darren Daulton          2  jelts001\n5 Garry Templeton          6  kennt001    Terry Kennedy          2  roysj001\n6   Steve Balboni          3  motld001    Darryl Motley          9  sundj001\n      VisBat8Nm VisBat8Pos VisBat9ID     VisBat9Nm VisBat9Pos HmBat1ID\n1      Mel Hall          7  allaa001 Andy Allanson          2 wigga001\n2   Jim Gantner          4  ceror001   Rick Cerone          2 cangj001\n3 Marty Barrett          4  hoffg001 Glenn Hoffman          6 colld001\n4   Steve Jeltz          6  carls001 Steve Carlton          1 davie001\n5 Jerry Royster          5  showe001     Eric Show          1 duncm001\n6  Jim Sundberg          2  salaa001 Angel Salazar          6 hendr001\n          HmBat1Nm HmBat1Pos HmBat2ID        HmBat2Nm HmBat2Pos HmBat3ID\n1     Alan Wiggins         4 lacyl001        Lee Lacy         9 ripkc001\n2   John Cangelosi         8 tollw001  Wayne Tolleson         5 bainh001\n3     Dave Collins        10 whitl001    Lou Whitaker         4 gibsk001\n4       Eric Davis         8 bellb001      Buddy Bell         5 parkd001\n5   Mariano Duncan         6 landk001   Ken Landreaux         8 madlb001\n6 Rickey Henderson         8 randw001 Willie Randolph         4 mattd001\n       HmBat3Nm HmBat3Pos HmBat4ID      HmBat4Nm HmBat4Pos HmBat5ID\n1    Cal Ripken         6 murre001  Eddie Murray         3 lynnf001\n2 Harold Baines         9 fiskc001  Carlton Fisk         7 kittr001\n3   Kirk Gibson         9 parrl001 Lance Parrish         2 lemoc001\n4   Dave Parker         9 esasn001   Nick Esasky         3 jonet001\n5  Bill Madlock         5 brocg001    Greg Brock         3 marsm001\n6 Don Mattingly         3 winfd001 Dave Winfield         9 roeng001\n       HmBat5Nm HmBat5Pos HmBat6ID        HmBat6Nm HmBat6Pos HmBat7ID\n1     Fred Lynn         8 younm002      Mike Young        10 shelj001\n2    Ron Kittle        10 walkg001     Greg Walker         3 hulet001\n3    Chet Lemon         8 trama001   Alan Trammell         6 hernl001\n4   Tracy Jones         7 concd001 Dave Concepcion         6 diazb001\n5 Mike Marshall         9 stubf001 Franklin Stubbs         7 sciom001\n6 Gary Roenicke        10 cotth001     Henry Cotto         7 berrd001\n       HmBat7Nm HmBat7Pos HmBat8ID      HmBat8Nm HmBat8Pos HmBat9ID\n1   John Shelby         7 dempr001  Rick Dempsey         2 gutij001\n2    Tim Hulett         4 skinj001  Joel Skinner         2 guilo001\n3 Larry Herndon         7 evand001 Darrell Evans         3 coled001\n4       Bo Diaz         2 oestr001    Ron Oester         4 sotom001\n5 Mike Scioscia         2 sax-s001     Steve Sax         4 valef001\n6    Dale Berra         5 wyneb001 Butch Wynegar         2 meacb001\n             HmBat9Nm HmBat9Pos Additional Acquisition\n1    Jackie Gutierrez         5       &lt;NA&gt;           Y\n2       Ozzie Guillen         6       &lt;NA&gt;           Y\n3       Darnell Coles         5       &lt;NA&gt;           Y\n4          Mario Soto         1       &lt;NA&gt;           Y\n5 Fernando Valenzuela         1       &lt;NA&gt;           Y\n6         Bob Meacham         6       &lt;NA&gt;           Y"
  },
  {
    "objectID": "slides/02_sabermetrics.html#statcast-via-baseballr",
    "href": "slides/02_sabermetrics.html#statcast-via-baseballr",
    "title": "A brief history of sabermetrics",
    "section": "Statcast via baseballr",
    "text": "Statcast via baseballr\n\n\n \n\n\n# remotes::install_github(\"BillPetti/baseballr\")\nlibrary(baseballr)\nstatcast_search_pitchers(\n  start_date = \"2025-08-30\", \n  end_date = Sys.Date(), \n  pitcherid = 804636\n)\n\n# A tibble: 274 × 118\n   pitch_type game_date  release_speed release_pos_x release_pos_z player_name\n   &lt;chr&gt;      &lt;date&gt;             &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt; &lt;chr&gt;      \n 1 CH         2025-09-24          84.3         -2.42          5.91 Tong, Jonah\n 2 FF         2025-09-24          94.1         -2.43          6.01 Tong, Jonah\n 3 FF         2025-09-24          96.4         -2.32          6.1  Tong, Jonah\n 4 FF         2025-09-24          94.4         -2.39          6.01 Tong, Jonah\n 5 CH         2025-09-24          86           -2.55          5.88 Tong, Jonah\n 6 FF         2025-09-24          94.3         -2.42          6.04 Tong, Jonah\n 7 FF         2025-09-24          94.7         -2.38          6.05 Tong, Jonah\n 8 CH         2025-09-24          85.5         -2.48          5.88 Tong, Jonah\n 9 FF         2025-09-24          94.6         -2.49          5.95 Tong, Jonah\n10 CU         2025-09-24          75.5         -2.58          5.92 Tong, Jonah\n# ℹ 264 more rows\n# ℹ 112 more variables: batter &lt;dbl&gt;, pitcher &lt;dbl&gt;, events &lt;chr&gt;,\n#   description &lt;chr&gt;, spin_dir &lt;lgl&gt;, spin_rate_deprecated &lt;lgl&gt;,\n#   break_angle_deprecated &lt;lgl&gt;, break_length_deprecated &lt;lgl&gt;, zone &lt;dbl&gt;,\n#   des &lt;chr&gt;, game_type &lt;chr&gt;, stand &lt;chr&gt;, p_throws &lt;chr&gt;, home_team &lt;chr&gt;,\n#   away_team &lt;chr&gt;, type &lt;chr&gt;, hit_location &lt;int&gt;, bb_type &lt;chr&gt;,\n#   balls &lt;int&gt;, strikes &lt;int&gt;, game_year &lt;int&gt;, pfx_x &lt;dbl&gt;, pfx_z &lt;dbl&gt;, …"
  },
  {
    "objectID": "slides/04_run_expectancy.html#last-time",
    "href": "slides/04_run_expectancy.html#last-time",
    "title": "Run Expectancy",
    "section": "Last time",
    "text": "Last time\n\nLinear Weights\nRuns Created\nTODAY: Run expectancy"
  },
  {
    "objectID": "slides/04_run_expectancy.html#george-r.-lindsey",
    "href": "slides/04_run_expectancy.html#george-r.-lindsey",
    "title": "Run Expectancy",
    "section": "George R. Lindsey",
    "text": "George R. Lindsey\n\n\n\n\nAn Investigation of Strategies in Baseball (1963)"
  },
  {
    "objectID": "slides/04_run_expectancy.html#run-expectancy-matrix-1",
    "href": "slides/04_run_expectancy.html#run-expectancy-matrix-1",
    "title": "Run Expectancy",
    "section": "Run Expectancy Matrix",
    "text": "Run Expectancy Matrix"
  },
  {
    "objectID": "slides/04_run_expectancy.html#retrosheet-play-by-play-data",
    "href": "slides/04_run_expectancy.html#retrosheet-play-by-play-data",
    "title": "Run Expectancy",
    "section": "Retrosheet play-by-play data",
    "text": "Retrosheet play-by-play data\n\nlibrary(tidyverse)\nlibrary(abdwr3edata)\n\nretro2016 |&gt;\n  head()\n\n# A tibble: 6 × 98\n  game_id      away_team_id inn_ct bat_home_id outs_ct balls_ct strikes_ct\n  &lt;chr&gt;        &lt;chr&gt;         &lt;int&gt;       &lt;int&gt;   &lt;int&gt;    &lt;int&gt;      &lt;int&gt;\n1 ANA201604040 CHN               1           0       0        1          0\n2 ANA201604040 CHN               1           0       0        0          0\n3 ANA201604040 CHN               1           0       1        0          2\n4 ANA201604040 CHN               1           0       2        1          1\n5 ANA201604040 CHN               1           0       2        2          2\n6 ANA201604040 CHN               1           1       0        2          0\n# ℹ 91 more variables: pitch_seq_tx &lt;chr&gt;, away_score_ct &lt;int&gt;,\n#   home_score_ct &lt;int&gt;, bat_id &lt;chr&gt;, bat_hand_cd &lt;chr&gt;, resp_bat_id &lt;chr&gt;,\n#   resp_bat_hand_cd &lt;chr&gt;, pit_id &lt;chr&gt;, pit_hand_cd &lt;chr&gt;, resp_pit_id &lt;chr&gt;,\n#   resp_pit_hand_cd &lt;chr&gt;, pos2_fld_id &lt;chr&gt;, pos3_fld_id &lt;chr&gt;,\n#   pos4_fld_id &lt;chr&gt;, pos5_fld_id &lt;chr&gt;, pos6_fld_id &lt;chr&gt;, pos7_fld_id &lt;chr&gt;,\n#   pos8_fld_id &lt;chr&gt;, pos9_fld_id &lt;chr&gt;, base1_run_id &lt;chr&gt;,\n#   base2_run_id &lt;chr&gt;, base3_run_id &lt;chr&gt;, event_tx &lt;chr&gt;, leadoff_fl &lt;lgl&gt;, …"
  },
  {
    "objectID": "slides/04_run_expectancy.html#what-was-the-situation",
    "href": "slides/04_run_expectancy.html#what-was-the-situation",
    "title": "Run Expectancy",
    "section": "What was the situation?",
    "text": "What was the situation?\n\nretro2016_small &lt;- retro2016 |&gt; \n  select(\n    # where are we in the game?\n    game_id, inn_ct, bat_home_id, \n    # how many outs (before and on play)?\n    outs_ct, event_outs_ct, \n    # what was the score?\n    away_score_ct, home_score_ct,\n    # who was on base?\n    base1_run_id, base2_run_id, base3_run_id,\n    # where did everyone end up?\n    bat_dest_id, run1_dest_id, run2_dest_id, run3_dest_id,\n    # just in case, what happened?\n    bat_id, event_cd, bat_event_fl, event_tx\n  ) |&gt;\n  mutate(\n    runs_before = away_score_ct + home_score_ct,\n    half_inning = paste(game_id, inn_ct, bat_home_id, sep = \"-\"),\n    runs_scored = \n      (bat_dest_id &gt; 3) + (run1_dest_id &gt; 3) + \n      (run2_dest_id &gt; 3) + (run3_dest_id &gt; 3)\n  )"
  },
  {
    "objectID": "slides/04_run_expectancy.html#summarize-all-half-innings",
    "href": "slides/04_run_expectancy.html#summarize-all-half-innings",
    "title": "Run Expectancy",
    "section": "Summarize all half innings",
    "text": "Summarize all half innings\n\nhalf_innings &lt;- retro2016_small |&gt;\n  group_by(half_inning) |&gt;\n  summarize(\n    outs_inning = sum(event_outs_ct), \n    runs_inning = sum(runs_scored),\n    runs_start = first(runs_before),\n    max_runs = runs_inning + runs_start\n  )\n\nhalf_innings |&gt;\n  head()\n\n# A tibble: 6 × 5\n  half_inning      outs_inning runs_inning runs_start max_runs\n  &lt;chr&gt;                  &lt;int&gt;       &lt;int&gt;      &lt;int&gt;    &lt;int&gt;\n1 ANA201604040-1-0           3           1          0        1\n2 ANA201604040-1-1           3           0          1        1\n3 ANA201604040-2-0           3           0          1        1\n4 ANA201604040-2-1           3           0          1        1\n5 ANA201604040-3-0           3           0          1        1\n6 ANA201604040-3-1           3           0          1        1"
  },
  {
    "objectID": "slides/04_run_expectancy.html#runs-scored-in-remainder-of-inning",
    "href": "slides/04_run_expectancy.html#runs-scored-in-remainder-of-inning",
    "title": "Run Expectancy",
    "section": "Runs scored in remainder of inning",
    "text": "Runs scored in remainder of inning\n\nretro2016_small &lt;- retro2016_small |&gt;\n  inner_join(half_innings, by = \"half_inning\") |&gt;\n  mutate(runs_roi = max_runs - runs_before)\n\nretro2016_small |&gt;\n  select(contains(\"runs\")) |&gt;\n  head()\n\n# A tibble: 6 × 6\n  runs_before runs_scored runs_inning runs_start max_runs runs_roi\n        &lt;int&gt;       &lt;int&gt;       &lt;int&gt;      &lt;int&gt;    &lt;int&gt;    &lt;int&gt;\n1           0           0           1          0        1        1\n2           0           0           1          0        1        1\n3           0           0           1          0        1        1\n4           0           1           1          0        1        1\n5           1           0           1          0        1        0\n6           1           0           0          1        1        0"
  },
  {
    "objectID": "slides/04_run_expectancy.html#starting-base-out-state",
    "href": "slides/04_run_expectancy.html#starting-base-out-state",
    "title": "Run Expectancy",
    "section": "Starting base-out state",
    "text": "Starting base-out state\n\nretro2016_small &lt;- retro2016_small |&gt;\n  mutate(\n    bases = paste0(\n      if_else(base1_run_id == \"\", 0, 1),\n      if_else(base2_run_id == \"\", 0, 1),\n      if_else(base3_run_id == \"\", 0, 1)\n    ),\n    state = paste(bases, outs_ct, sep = \"-\")\n  )\n\nretro2016_small |&gt;\n  select(state, contains(\"run_id\")) |&gt;\n  head()\n\n# A tibble: 6 × 4\n  state base1_run_id base2_run_id base3_run_id\n  &lt;chr&gt; &lt;chr&gt;        &lt;chr&gt;        &lt;chr&gt;       \n1 000-0 \"\"           \"\"           \"\"          \n2 010-0 \"\"           \"fowld001\"   \"\"          \n3 001-1 \"\"           \"\"           \"fowld001\"  \n4 001-2 \"\"           \"\"           \"fowld001\"  \n5 100-2 \"rizza001\"   \"\"           \"\"          \n6 000-0 \"\"           \"\"           \"\""
  },
  {
    "objectID": "slides/04_run_expectancy.html#ending-base-out-state",
    "href": "slides/04_run_expectancy.html#ending-base-out-state",
    "title": "Run Expectancy",
    "section": "Ending base-out state",
    "text": "Ending base-out state\n\nretro2016_small &lt;- retro2016_small |&gt;\n  mutate(\n    is_runner1 = as.numeric(run1_dest_id == 1 | bat_dest_id == 1),\n    is_runner2 = as.numeric(run1_dest_id == 2 | run2_dest_id == 2 | bat_dest_id == 2),\n    is_runner3 = as.numeric(run1_dest_id == 3 | run2_dest_id == 3 | run3_dest_id == 3 | bat_dest_id == 3),\n    new_outs = outs_ct + event_outs_ct,\n    new_bases = paste0(is_runner1, is_runner2, is_runner3),\n    new_state = paste(new_bases, new_outs, sep = \"-\")\n  )\n\nretro2016_small |&gt;\n  select(state, new_state, runs_scored, event_tx) |&gt;\n  head()\n\n# A tibble: 6 × 4\n  state new_state runs_scored event_tx\n  &lt;chr&gt; &lt;chr&gt;           &lt;int&gt; &lt;chr&gt;   \n1 000-0 010-0               0 D9/G+   \n2 010-0 001-1               0 63/G.2-3\n3 001-1 001-2               0 K       \n4 001-2 100-2               1 S8/G.3-H\n5 100-2 100-3               0 K23     \n6 000-0 000-1               0 13/G-   \n\n\n\nhttps://www.retrosheet.org/eventfile.htm"
  },
  {
    "objectID": "slides/04_run_expectancy.html#remove-irrelevant-data",
    "href": "slides/04_run_expectancy.html#remove-irrelevant-data",
    "title": "Run Expectancy",
    "section": "Remove irrelevant data",
    "text": "Remove irrelevant data\n\nchanges2016 &lt;- retro2016_small |&gt;\n  # a handful of weird plays...\n  filter(state != new_state | runs_scored &gt; 0) |&gt;\n  # only complete innings -- no walk-offs!\n  filter(outs_inning == 3)"
  },
  {
    "objectID": "slides/04_run_expectancy.html#summarize-the-changes",
    "href": "slides/04_run_expectancy.html#summarize-the-changes",
    "title": "Run Expectancy",
    "section": "Summarize the changes",
    "text": "Summarize the changes\n\nerm_2016 &lt;- changes2016 |&gt; \n  group_by(bases, outs_ct) |&gt;\n  summarize(exp_run_value = mean(runs_roi))\n\n\nerm_2016 |&gt;\n  pivot_wider(\n    names_from = outs_ct, \n    values_from = exp_run_value, \n    names_prefix = \"Outs=\"\n  )\n\n# A tibble: 8 × 4\n# Groups:   bases [8]\n  bases `Outs=0` `Outs=1` `Outs=2`\n  &lt;chr&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;\n1 000      0.498    0.268    0.106\n2 001      1.35     0.937    0.372\n3 010      1.13     0.673    0.312\n4 011      1.93     1.36     0.548\n5 100      0.858    0.512    0.220\n6 101      1.72     1.20     0.478\n7 110      1.44     0.921    0.414\n8 111      2.11     1.54     0.695"
  },
  {
    "objectID": "slides/04_run_expectancy.html#historical-erms",
    "href": "slides/04_run_expectancy.html#historical-erms",
    "title": "Run Expectancy",
    "section": "Historical ERMs",
    "text": "Historical ERMs\nhttps://www.tangotiger.net/re24.html"
  },
  {
    "objectID": "slides/04_run_expectancy.html#run-values-change-in-expected-run-value",
    "href": "slides/04_run_expectancy.html#run-values-change-in-expected-run-value",
    "title": "Run Expectancy",
    "section": "Run values = Change in expected run value",
    "text": "Run values = Change in expected run value\n\nretro2016_small &lt;- retro2016_small |&gt;\n  left_join(erm_2016, join_by(\"bases\", \"outs_ct\")) |&gt;\n  rename(erv_start = exp_run_value) |&gt;\n  left_join(\n    erm_2016, \n    join_by(new_bases == bases, new_outs == outs_ct)\n  ) |&gt;\n  rename(erv_end = exp_run_value) |&gt;\n  replace_na(list(erv_end = 0)) |&gt;\n  mutate(delta_erv = erv_end - erv_start + runs_scored)\n\nretro2016_small |&gt;\n  select(contains(\"state\"), contains(\"rv_\"), event_tx, contains(\"delta\")) |&gt;\n  head()\n\n# A tibble: 6 × 6\n  state new_state erv_start erv_end event_tx delta_erv\n  &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;        &lt;dbl&gt;\n1 000-0 010-0         0.498   1.13  D9/G+        0.635\n2 010-0 001-1         1.13    0.937 63/G.2-3    -0.196\n3 001-1 001-2         0.937   0.372 K           -0.565\n4 001-2 100-2         0.372   0.220 S8/G.3-H     0.848\n5 100-2 100-3         0.220   0     K23         -0.220\n6 000-0 000-1         0.498   0.268 13/G-       -0.230"
  },
  {
    "objectID": "slides/04_run_expectancy.html#run-values-for-events",
    "href": "slides/04_run_expectancy.html#run-values-for-events",
    "title": "Run Expectancy",
    "section": "Run values for events",
    "text": "Run values for events\n\nretro2016_small |&gt; \n  group_by(event_cd) |&gt;\n  summarize(\n    sample_desc = first(event_tx),\n    mean_run_value = mean(delta_erv)\n  ) |&gt;\n  arrange(desc(mean_run_value))\n\n# A tibble: 21 × 3\n   event_cd sample_desc    mean_run_value\n      &lt;int&gt; &lt;chr&gt;                   &lt;dbl&gt;\n 1       23 HR/9/L.1-H              1.38 \n 2       22 T9/F.1-H                1.01 \n 3       21 D9/G+                   0.739\n 4       18 E5/G                    0.464\n 5       20 S8/G.3-H                0.439\n 6       16 HP                      0.318\n 7       17 C/E2.2-3;1-2            0.311\n 8       14 W                       0.293\n 9       11 BK.2-3;1-2              0.277\n10        9 WP.3-H(NR);1-2          0.260\n# ℹ 11 more rows\n\n\n\nhttps://beanumber.github.io/abdwr3e/A_retrosheet.html#the-state-of-the-game"
  },
  {
    "objectID": "slides/04_run_expectancy.html#re24-1",
    "href": "slides/04_run_expectancy.html#re24-1",
    "title": "Run Expectancy",
    "section": "RE24",
    "text": "RE24\n\nretro2016_small |&gt;\n  filter(bat_event_fl == TRUE) |&gt;\n  group_by(bat_id) |&gt;\n  summarize(\n    PA = n(),\n    RE24 = sum(delta_erv)\n  ) |&gt;\n  mutate(RE24_PA = RE24 / PA) |&gt;\n  arrange(desc(RE24)) |&gt;\n  left_join(Lahman::People, by = join_by(bat_id == retroID)) |&gt;\n  mutate(Player = paste(nameFirst, nameLast)) |&gt;\n  select(Player, PA, contains(\"RE24\")) |&gt;\n  head(10)\n\n# A tibble: 10 × 4\n   Player             PA  RE24 RE24_PA\n   &lt;chr&gt;           &lt;int&gt; &lt;dbl&gt;   &lt;dbl&gt;\n 1 Mike Trout        681  66.4  0.0976\n 2 David Ortiz       625  60.8  0.0973\n 3 Freddie Freeman   693  47.2  0.0681\n 4 Joey Votto        677  47.0  0.0694\n 5 Josh Donaldson    700  46.2  0.0660\n 6 Nolan Arenado     696  46.0  0.0661\n 7 Daniel Murphy     582  45.6  0.0784\n 8 Kris Bryant       699  44.9  0.0642\n 9 Anthony Rizzo     676  42.7  0.0632\n10 Mookie Betts      730  36.0  0.0493\n\n\n\nhttps://www.baseball-reference.com/leaders/re24_bat_top_ten.shtml"
  },
  {
    "objectID": "slides/07_statcast.html#statcast",
    "href": "slides/07_statcast.html#statcast",
    "title": "Exporing Statcast data",
    "section": "Statcast",
    "text": "Statcast"
  },
  {
    "objectID": "slides/07_statcast.html#via-baseballr",
    "href": "slides/07_statcast.html#via-baseballr",
    "title": "Exporing Statcast data",
    "section": "1. via baseballr",
    "text": "1. via baseballr\n\n```{r}\n#| eval: false\nlibrary(baseballr)\nsc &lt;- statcast_search_batters(\"2025-09-26\", \"2025-09-26\")\nwrite_rds(sc, here::here(\"data/sc20250926.rds\"))\n```\n\n\n\n```{r}\n#| eval: true\nlibrary(tidyverse)\nsc &lt;- read_rds(here::here(\"data/sc20250926.rds\"))\n```"
  },
  {
    "objectID": "slides/07_statcast.html#other-ways",
    "href": "slides/07_statcast.html#other-ways",
    "title": "Exporing Statcast data",
    "section": "Other ways",
    "text": "Other ways\n\nVia sabRmetrics\nFrom the CSAS 2025 data challenge\nVia Baseball Savant"
  },
  {
    "objectID": "slides/07_statcast.html#whats-in-there",
    "href": "slides/07_statcast.html#whats-in-there",
    "title": "Exporing Statcast data",
    "section": "What’s in there?",
    "text": "What’s in there?\n\ndim(sc)\n\n[1] 4398  118\n\nsc |&gt; names()\n\n  [1] \"pitch_type\"                              \n  [2] \"game_date\"                               \n  [3] \"release_speed\"                           \n  [4] \"release_pos_x\"                           \n  [5] \"release_pos_z\"                           \n  [6] \"player_name\"                             \n  [7] \"batter\"                                  \n  [8] \"pitcher\"                                 \n  [9] \"events\"                                  \n [10] \"description\"                             \n [11] \"spin_dir\"                                \n [12] \"spin_rate_deprecated\"                    \n [13] \"break_angle_deprecated\"                  \n [14] \"break_length_deprecated\"                 \n [15] \"zone\"                                    \n [16] \"des\"                                     \n [17] \"game_type\"                               \n [18] \"stand\"                                   \n [19] \"p_throws\"                                \n [20] \"home_team\"                               \n [21] \"away_team\"                               \n [22] \"type\"                                    \n [23] \"hit_location\"                            \n [24] \"bb_type\"                                 \n [25] \"balls\"                                   \n [26] \"strikes\"                                 \n [27] \"game_year\"                               \n [28] \"pfx_x\"                                   \n [29] \"pfx_z\"                                   \n [30] \"plate_x\"                                 \n [31] \"plate_z\"                                 \n [32] \"on_3b\"                                   \n [33] \"on_2b\"                                   \n [34] \"on_1b\"                                   \n [35] \"outs_when_up\"                            \n [36] \"inning\"                                  \n [37] \"inning_topbot\"                           \n [38] \"hc_x\"                                    \n [39] \"hc_y\"                                    \n [40] \"tfs_deprecated\"                          \n [41] \"tfs_zulu_deprecated\"                     \n [42] \"umpire\"                                  \n [43] \"sv_id\"                                   \n [44] \"vx0\"                                     \n [45] \"vy0\"                                     \n [46] \"vz0\"                                     \n [47] \"ax\"                                      \n [48] \"ay\"                                      \n [49] \"az\"                                      \n [50] \"sz_top\"                                  \n [51] \"sz_bot\"                                  \n [52] \"hit_distance_sc\"                         \n [53] \"launch_speed\"                            \n [54] \"launch_angle\"                            \n [55] \"effective_speed\"                         \n [56] \"release_spin_rate\"                       \n [57] \"release_extension\"                       \n [58] \"game_pk\"                                 \n [59] \"fielder_2\"                               \n [60] \"fielder_3\"                               \n [61] \"fielder_4\"                               \n [62] \"fielder_5\"                               \n [63] \"fielder_6\"                               \n [64] \"fielder_7\"                               \n [65] \"fielder_8\"                               \n [66] \"fielder_9\"                               \n [67] \"release_pos_y\"                           \n [68] \"estimated_ba_using_speedangle\"           \n [69] \"estimated_woba_using_speedangle\"         \n [70] \"woba_value\"                              \n [71] \"woba_denom\"                              \n [72] \"babip_value\"                             \n [73] \"iso_value\"                               \n [74] \"launch_speed_angle\"                      \n [75] \"at_bat_number\"                           \n [76] \"pitch_number\"                            \n [77] \"pitch_name\"                              \n [78] \"home_score\"                              \n [79] \"away_score\"                              \n [80] \"bat_score\"                               \n [81] \"fld_score\"                               \n [82] \"post_away_score\"                         \n [83] \"post_home_score\"                         \n [84] \"post_bat_score\"                          \n [85] \"post_fld_score\"                          \n [86] \"if_fielding_alignment\"                   \n [87] \"of_fielding_alignment\"                   \n [88] \"spin_axis\"                               \n [89] \"delta_home_win_exp\"                      \n [90] \"delta_run_exp\"                           \n [91] \"bat_speed\"                               \n [92] \"swing_length\"                            \n [93] \"estimated_slg_using_speedangle\"          \n [94] \"delta_pitcher_run_exp\"                   \n [95] \"hyper_speed\"                             \n [96] \"home_score_diff\"                         \n [97] \"bat_score_diff\"                          \n [98] \"home_win_exp\"                            \n [99] \"bat_win_exp\"                             \n[100] \"age_pit_legacy\"                          \n[101] \"age_bat_legacy\"                          \n[102] \"age_pit\"                                 \n[103] \"age_bat\"                                 \n[104] \"n_thruorder_pitcher\"                     \n[105] \"n_priorpa_thisgame_player_at_bat\"        \n[106] \"pitcher_days_since_prev_game\"            \n[107] \"batter_days_since_prev_game\"             \n[108] \"pitcher_days_until_next_game\"            \n[109] \"batter_days_until_next_game\"             \n[110] \"api_break_z_with_gravity\"                \n[111] \"api_break_x_arm\"                         \n[112] \"api_break_x_batter_in\"                   \n[113] \"arm_angle\"                               \n[114] \"attack_angle\"                            \n[115] \"attack_direction\"                        \n[116] \"swing_path_tilt\"                         \n[117] \"intercept_ball_minus_batter_pos_x_inches\"\n[118] \"intercept_ball_minus_batter_pos_y_inches\""
  },
  {
    "objectID": "slides/07_statcast.html#strike-zone",
    "href": "slides/07_statcast.html#strike-zone",
    "title": "Exporing Statcast data",
    "section": "Strike zone",
    "text": "Strike zone\n\nsc &lt;- sc |&gt;\n  mutate(\n    is_called_strike = type == \"S\",\n    within_zbounds = plate_z &lt;= sz_top & plate_z &gt;= sz_bot,\n    within_xbounds = abs(plate_x &lt;= 8.5/12),\n    is_within_strike_zone = within_zbounds & within_xbounds\n  )\n\n\n\nkzone_plot &lt;- ggplot(sc, aes(x = plate_x, y = plate_z, color = is_called_strike)) +\n  geom_rect(\n    aes(\n      xmin = -8.5/12, xmax = 8.5/12, \n      ymin = mean(sz_bot, na.rm = TRUE), ymax = mean(sz_top, na.rm = TRUE)\n    ), \n    color = \"grey\", alpha = 0.7\n  ) +\n  geom_point(alpha = 0.3) +\n  facet_wrap(vars(stand)) +\n  scale_color_brewer(palette = \"Set2\")"
  },
  {
    "objectID": "slides/07_statcast.html#strike-zone-plot",
    "href": "slides/07_statcast.html#strike-zone-plot",
    "title": "Exporing Statcast data",
    "section": "Strike zone plot",
    "text": "Strike zone plot\n\nkzone_plot"
  },
  {
    "objectID": "slides/07_statcast.html#release-point",
    "href": "slides/07_statcast.html#release-point",
    "title": "Exporing Statcast data",
    "section": "Release point",
    "text": "Release point\n\nggplot(sc, aes(x = release_pos_x, y = release_pos_z, color = pitch_type)) +\n  geom_point(alpha = 0.5)"
  },
  {
    "objectID": "slides/07_statcast.html#separate-by-pitcher",
    "href": "slides/07_statcast.html#separate-by-pitcher",
    "title": "Exporing Statcast data",
    "section": "Separate by pitcher",
    "text": "Separate by pitcher\n\nsc |&gt;\n  filter(home_team == \"BOS\") |&gt;\n  ggplot(aes(x = release_pos_x, y = release_pos_z, color = pitch_type)) +\n  geom_point(alpha = 0.5) +\n  facet_wrap(vars(pitcher))"
  },
  {
    "objectID": "slides/07_statcast.html#spin-rate-and-velocity",
    "href": "slides/07_statcast.html#spin-rate-and-velocity",
    "title": "Exporing Statcast data",
    "section": "Spin rate and velocity",
    "text": "Spin rate and velocity\n\nggplot(sc, aes(x = release_speed, y = release_spin_rate, color = pitch_type)) +\n  geom_point(alpha = 0.5)"
  },
  {
    "objectID": "slides/07_statcast.html#spin-rate-and-break",
    "href": "slides/07_statcast.html#spin-rate-and-break",
    "title": "Exporing Statcast data",
    "section": "Spin rate and break",
    "text": "Spin rate and break\n\nggplot(sc, aes(x = release_spin_rate, y = api_break_z_with_gravity, color = pitch_type)) +\n  geom_point(alpha = 0.5)"
  },
  {
    "objectID": "slides/07_statcast.html#launch-angle-and-launch-speed",
    "href": "slides/07_statcast.html#launch-angle-and-launch-speed",
    "title": "Exporing Statcast data",
    "section": "Launch angle and launch speed",
    "text": "Launch angle and launch speed\n\nggplot(sc, aes(y = launch_angle, x = launch_speed, color = estimated_ba_using_speedangle)) +\n  geom_point(alpha = 0.5)"
  },
  {
    "objectID": "slides/09_four_factors.html#write-a-scraping-function",
    "href": "slides/09_four_factors.html#write-a-scraping-function",
    "title": "Four Factors",
    "section": "Write a scraping function",
    "text": "Write a scraping function\n\nlibrary(rvest)\n\nscrape_standings &lt;- function(year = 2025) {\n  url &lt;- paste0(\"https://www.basketball-reference.com/leagues/NBA_\", year, \".html\")\n  x &lt;- url |&gt;\n    read_html() |&gt;\n    html_table()\n  \n  x[1:2] |&gt;\n    map(janitor::clean_names) |&gt;\n    map(rename_with, ~str_remove(.x, \"eastern_|western_\"), contains(\"conference\")) |&gt;\n    list_rbind() |&gt;\n    mutate(\n      p_ratio = ps_g / pa_g,\n      wpct = w_l_percent,\n      logWratio = log(w / l), \n      logPratio = log(ps_g / pa_g)\n    )\n}"
  },
  {
    "objectID": "slides/09_four_factors.html#scrape-the-data",
    "href": "slides/09_four_factors.html#scrape-the-data",
    "title": "Four Factors",
    "section": "Scrape the data",
    "text": "Scrape the data\n\n```{r}\n#| eval: false\nnba &lt;- 2018:2025 |&gt;\n  map(scrape_standings) |&gt;\n  list_rbind()\n\nwrite_rds(nba, here::here(\"data/nba.rds\"))\n```\n\n\n```{r}\nnba &lt;- read_rds(here::here(\"data/nba.rds\"))\n```"
  },
  {
    "objectID": "slides/09_four_factors.html#inspect-the-data",
    "href": "slides/09_four_factors.html#inspect-the-data",
    "title": "Four Factors",
    "section": "Inspect the data",
    "text": "Inspect the data\n\nnba\n\n# A tibble: 240 × 12\n   conference          w     l w_l_percent gb     ps_g  pa_g   srs p_ratio  wpct\n   &lt;chr&gt;           &lt;int&gt; &lt;int&gt;       &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;\n 1 Toronto Raptor…    59    23       0.72  —      112.  104.  7.29   1.08  0.72 \n 2 Boston Celtics*    55    27       0.671 4.0    104   100.  3.23   1.04  0.671\n 3 Philadelphia 7…    52    30       0.634 7.0    110.  105.  4.3    1.04  0.634\n 4 Cleveland Cava…    50    32       0.61  9.0    111.  110.  0.59   1.01  0.61 \n 5 Indiana Pacers*    48    34       0.585 11.0   106.  104.  1.18   1.01  0.585\n 6 Miami Heat*        44    38       0.537 15.0   103.  103.  0.15   1.00  0.537\n 7 Milwaukee Buck…    44    38       0.537 15.0   106.  107. -0.45   0.997 0.537\n 8 Washington Wiz…    43    39       0.524 16.0   107.  106   0.53   1.01  0.524\n 9 Detroit Pistons    39    43       0.476 20.0   104.  104. -0.26   0.999 0.476\n10 Charlotte Horn…    36    46       0.439 23.0   108.  108   0.07   1.00  0.439\n# ℹ 230 more rows\n# ℹ 2 more variables: logWratio &lt;dbl&gt;, logPratio &lt;dbl&gt;"
  },
  {
    "objectID": "slides/09_four_factors.html#visualize-the-relationship",
    "href": "slides/09_four_factors.html#visualize-the-relationship",
    "title": "Four Factors",
    "section": "Visualize the relationship",
    "text": "Visualize the relationship\n\nggplot(nba, aes(x = p_ratio, y = wpct)) +\n  geom_point() +\n  geom_smooth(method = \"lm\")"
  },
  {
    "objectID": "slides/09_four_factors.html#fit-the-model",
    "href": "slides/09_four_factors.html#fit-the-model",
    "title": "Four Factors",
    "section": "Fit the model!",
    "text": "Fit the model!\n\nlm(logWratio ~ 0 + logPratio, data = nba) |&gt;\n  summary()\n\n\nCall:\nlm(formula = logWratio ~ 0 + logPratio, data = nba)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.48391 -0.10326  0.01291  0.09221  0.50469 \n\nCoefficients:\n          Estimate Std. Error t value Pr(&gt;|t|)    \nlogPratio  13.7839     0.2496   55.22   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.1695 on 239 degrees of freedom\nMultiple R-squared:  0.9273,    Adjusted R-squared:  0.927 \nF-statistic:  3050 on 1 and 239 DF,  p-value: &lt; 2.2e-16"
  },
  {
    "objectID": "slides/09_four_factors.html#dean-oliver-basketball-on-paper",
    "href": "slides/09_four_factors.html#dean-oliver-basketball-on-paper",
    "title": "Four Factors",
    "section": "Dean Oliver, Basketball on Paper",
    "text": "Dean Oliver, Basketball on Paper\n\nhttps://en.wikipedia.org/wiki/Dean_Oliver_(statistician)"
  },
  {
    "objectID": "slides/09_four_factors.html#possessions-and-pace",
    "href": "slides/09_four_factors.html#possessions-and-pace",
    "title": "Four Factors",
    "section": "Possessions and pace",
    "text": "Possessions and pace\n\nPossessions are the fundemental unit of time\n\n\\[\n  POSS = FGA + 0.44 \\cdot FTA - OREB + TOV\n\\]\n\n\\(ORtg = PTS_{T} / POSS_{T}\\)\n\\(DRtg = PTS_{O} / POSS_{O}\\)"
  },
  {
    "objectID": "slides/09_four_factors.html#the-four-factors-1",
    "href": "slides/09_four_factors.html#the-four-factors-1",
    "title": "Four Factors",
    "section": "The Four Factors",
    "text": "The Four Factors\n\nEffective Field Goal Percentage\nTurnover Rate\nOffensive Rebound Percentage\nFree Throw Conversion Rate"
  },
  {
    "objectID": "slides/09_four_factors.html#nba-history",
    "href": "slides/09_four_factors.html#nba-history",
    "title": "Four Factors",
    "section": "NBA history",
    "text": "NBA history\n\nlibrary(tidyverse)\nlibrary(hoopR)\n\nteam_id &lt;- nba_teams() |&gt;\n  pull(team_id)\n\n\n\nlibrary(hoopR)\nceltics &lt;- nba_teamyearbyyearstats(team_id = '1610612738')[[1]]\n\nnba_history &lt;- team_id |&gt;\n  map(~nba_teamyearbyyearstats(team_id = .x)) |&gt;\n  map(pluck, 1) |&gt;\n  list_rbind()\n\n\nwrite_rds(nba_history, here::here(\"data/nba_history.rds\"))"
  },
  {
    "objectID": "slides/09_four_factors.html#clean-the-data",
    "href": "slides/09_four_factors.html#clean-the-data",
    "title": "Four Factors",
    "section": "Clean the data",
    "text": "Clean the data\n\nnba_history &lt;- read_rds(here::here(\"data/nba_history.rds\"))\nnba_history &lt;- nba_history |&gt;\n  mutate(\n    year = parse_number(YEAR) + 1,\n    wpct = parse_number(WIN_PCT),\n    poss = parse_number(FGA) + 0.44 * parse_number(FTA) - parse_number(OREB) + parse_number(TOV),\n    pace = 5 * poss / (parse_number(GP) * 48 * 5),\n    efg_pct = (parse_number(FGM) + 0.5 * parse_number(FG3M)) / parse_number(FGA),\n    to_ratio = parse_number(TOV) / poss,\n    reb_share = parse_number(OREB) / (parse_number(OREB) + parse_number(DREB)),\n    ft_per_fga = parse_number(FTM) / parse_number(FGA)\n  )"
  },
  {
    "objectID": "slides/09_four_factors.html#effective-field-goal-percentage",
    "href": "slides/09_four_factors.html#effective-field-goal-percentage",
    "title": "Four Factors",
    "section": "Effective field goal percentage",
    "text": "Effective field goal percentage\n\nwpct_plot &lt;- nba_history |&gt;\n  filter(efg_pct &lt; Inf) |&gt;\n  ggplot(aes(x = year, y = efg_pct)) +\n  geom_point() +\n  geom_smooth()\nwpct_plot"
  },
  {
    "objectID": "slides/09_four_factors.html#turnover-ratio",
    "href": "slides/09_four_factors.html#turnover-ratio",
    "title": "Four Factors",
    "section": "Turnover ratio",
    "text": "Turnover ratio\n\nwpct_plot + aes(y = to_ratio)"
  },
  {
    "objectID": "slides/09_four_factors.html#offensive-rebound-percentage",
    "href": "slides/09_four_factors.html#offensive-rebound-percentage",
    "title": "Four Factors",
    "section": "Offensive rebound percentage",
    "text": "Offensive rebound percentage\n\nwpct_plot + aes(y = reb_share)"
  },
  {
    "objectID": "slides/09_four_factors.html#free-throw-conversion-rate",
    "href": "slides/09_four_factors.html#free-throw-conversion-rate",
    "title": "Four Factors",
    "section": "Free throw conversion rate",
    "text": "Free throw conversion rate\n\nwpct_plot + aes(y = ft_per_fga)"
  },
  {
    "objectID": "slides/09_four_factors.html#the-four-factors-correlated",
    "href": "slides/09_four_factors.html#the-four-factors-correlated",
    "title": "Four Factors",
    "section": "The Four Factors, correlated",
    "text": "The Four Factors, correlated\n\nff &lt;- nba_history |&gt;\n  filter(efg_pct &lt; Inf) |&gt;\n  select(wpct, efg_pct, to_ratio, reb_share, ft_per_fga)\n\ncor(ff)\n\n                 wpct    efg_pct   to_ratio  reb_share ft_per_fga\nwpct        1.0000000  0.4611902 -0.2467902 -0.1873886  0.1969880\nefg_pct     0.4611902  1.0000000 -0.4898974 -0.6204240 -0.2578221\nto_ratio   -0.2467902 -0.4898974  1.0000000  0.5701978  0.4738253\nreb_share  -0.1873886 -0.6204240  0.5701978  1.0000000  0.4118808\nft_per_fga  0.1969880 -0.2578221  0.4738253  0.4118808  1.0000000"
  },
  {
    "objectID": "slides/09_four_factors.html#the-four-factors-visualized",
    "href": "slides/09_four_factors.html#the-four-factors-visualized",
    "title": "Four Factors",
    "section": "The Four Factors, visualized",
    "text": "The Four Factors, visualized\n\nff |&gt;\n  pivot_longer(cols = -c(wpct), values_to = \"value\", names_to = \"statistic\") |&gt;\n  ggplot(aes(x = value, y = wpct)) +\n  geom_point() +\n  geom_smooth() +\n  facet_wrap(vars(statistic))"
  },
  {
    "objectID": "slides/09_four_factors.html#download-and-save",
    "href": "slides/09_four_factors.html#download-and-save",
    "title": "Four Factors",
    "section": "Download and save",
    "text": "Download and save\n\nnba2025 &lt;- hoopR::load_nba_pbp(seasons = 2025)\nwrite_rds(nba2025, here::here(\"data-large/nba2025.rds\"))\n\nceltics2025 &lt;- nba2025 |&gt;\n  filter(home_team_id == 2)\n\nwrite_rds(celtics2025, here::here(\"data/celtics2025.rds\"))\n\n\n\nceltics2025 &lt;- read_rds(here::here(\"data/celtics2025.rds\"))\nceltics2025 |&gt;\n  group_by(season, home_team_name) |&gt;\n  summarize(\n    num_plays = n(),\n    g = n_distinct(game_id)\n  )\n\n# A tibble: 1 × 4\n# Groups:   season [1]\n  season home_team_name num_plays     g\n   &lt;int&gt; &lt;chr&gt;              &lt;int&gt; &lt;int&gt;\n1   2025 Boston             21328    47"
  },
  {
    "objectID": "slides/09_four_factors.html#shot-chart",
    "href": "slides/09_four_factors.html#shot-chart",
    "title": "Four Factors",
    "section": "Shot chart",
    "text": "Shot chart\n\nshots &lt;- celtics2025 |&gt;\n  filter(shooting_play) |&gt;\n  ggplot(aes(x = coordinate_x, y = coordinate_y)) +\n  geom_jitter(width = 0.25, alpha = 0.5)\nshots"
  },
  {
    "objectID": "slides/09_four_factors.html#halfcourt",
    "href": "slides/09_four_factors.html#halfcourt",
    "title": "Four Factors",
    "section": "Halfcourt",
    "text": "Halfcourt\n\nshots + aes(x = abs(coordinate_x), color = factor(score_value)) +\n  scale_color_viridis_d()"
  },
  {
    "objectID": "slides/09_four_factors.html#hex-bin-plot",
    "href": "slides/09_four_factors.html#hex-bin-plot",
    "title": "Four Factors",
    "section": "Hex bin plot",
    "text": "Hex bin plot\n\nshots + aes(x = abs(coordinate_x), z = score_value) +\n  stat_summary_hex(\n    fun = mean, mapping = aes(fill = after_stat(value))\n  ) +\n  scale_fill_viridis_c()"
  },
  {
    "objectID": "slides/09_four_factors.html#the-game-has-changed",
    "href": "slides/09_four_factors.html#the-game-has-changed",
    "title": "Four Factors",
    "section": "The game has changed",
    "text": "The game has changed"
  },
  {
    "objectID": "slides/09_four_factors.html#add-the-court-lines-with-sportyr",
    "href": "slides/09_four_factors.html#add-the-court-lines-with-sportyr",
    "title": "Four Factors",
    "section": "Add the court lines with sportyR",
    "text": "Add the court lines with sportyR\n\nsportyR::geom_basketball(\"nba\", xlims = c(0, 50)) +\n  geom_jitter(data = celtics2025, aes(x = coordinate_x, y = coordinate_y), width = 0.25, alpha = 0.5)"
  },
  {
    "objectID": "slides/09_four_factors.html#wehoop",
    "href": "slides/09_four_factors.html#wehoop",
    "title": "Four Factors",
    "section": "wehoop",
    "text": "wehoop\n\n\nhttps://wehoop.sportsdataverse.org/\n\nlibrary(wehoop)\nwnba2025 &lt;- wehoop::load_wnba_pbp(season = 2025)\nwrite_rds(wnba2025, here::here(\"data-large/wnba2025.rds\"))\n\nfever2025 &lt;- wnba2025 |&gt;\n  filter(home_team_id == 5)\n\nwrite_rds(fever2025, here::here(\"data/fever2025.rds\"))"
  },
  {
    "objectID": "slides/09_four_factors.html#wnba-shot-chart",
    "href": "slides/09_four_factors.html#wnba-shot-chart",
    "title": "Four Factors",
    "section": "WNBA shot chart",
    "text": "WNBA shot chart\n\nfever2025 &lt;- read_rds(here::here(\"data/fever2025.rds\"))\nfever2025 |&gt;\n  filter(shooting_play) |&gt;\n  ggplot(aes(x = coordinate_x, y = coordinate_y)) +\n  geom_jitter(width = 0.25, alpha = 0.5)"
  },
  {
    "objectID": "sporcle.html",
    "href": "sporcle.html",
    "title": "Sporcle",
    "section": "",
    "text": "Note\n\n\n\nhttps://www.sporcle.com/games/subcategory/mlb\nYou must show your code!!\nCode\nlibrary(tidyverse)\nlibrary(Lahman)"
  },
  {
    "objectID": "sporcle.html#mlb-teams-last-mvp",
    "href": "sporcle.html#mlb-teams-last-mvp",
    "title": "Sporcle",
    "section": "1.1 9/10: MLB Teams Last MVP",
    "text": "1.1 9/10: MLB Teams Last MVP\n\n\n\n\n\n\nTipMy solution\n\n\n\n\n\n\n\nCode\n# find all active teams (teams that played in 2023)\nactive_teams &lt;- Teams |&gt;\n  filter(yearID == 2023) |&gt;\n  select(teamID, name)\n\n# find all MVPs\nAwardsPlayers |&gt;\n  filter(awardID == \"Most Valuable Player\") |&gt;\n  # find out which team(s) they played for in that year\n  left_join(\n    Appearances, \n    by = join_by(\"playerID\", \"yearID\", \"lgID\")\n  ) |&gt;\n  # sort them by year\n  arrange(desc(yearID)) |&gt;\n  group_by(teamID) |&gt;\n  # take the first one, since they're already sorted\n  summarize(\n    playerID = first(playerID),\n    yearID = first(yearID)\n  ) |&gt;\n  # now reduce to only the active teams!\n  right_join(active_teams, by = join_by(teamID)) |&gt;\n  arrange(name) |&gt;\n  # get the players' names\n  left_join(People, by = join_by(playerID)) |&gt;\n  mutate(Player = paste(nameFirst, nameLast)) |&gt;\n  # make the headers match\n  select(Team = name, Player, Year = yearID) |&gt;\n  knitr::kable()\n\n\n\n\n\nTeam\nPlayer\nYear\n\n\n\n\nArizona Diamondbacks\nNA NA\nNA\n\n\nAtlanta Braves\nRonald Acuña\n2023\n\n\nBaltimore Orioles\nCal Ripken\n1991\n\n\nBoston Red Sox\nMookie Betts\n2018\n\n\nChicago Cubs\nKris Bryant\n2016\n\n\nChicago White Sox\nJose Abreu\n2020\n\n\nCincinnati Reds\nJoey Votto\n2010\n\n\nCleveland Guardians\nAl Rosen\n1953\n\n\nColorado Rockies\nLarry Walker\n1997\n\n\nDetroit Tigers\nMiguel Cabrera\n2013\n\n\nHouston Astros\nJose Altuve\n2017\n\n\nKansas City Royals\nGeorge Brett\n1980\n\n\nLos Angeles Angels of Anaheim\nShohei Ohtani\n2023\n\n\nLos Angeles Dodgers\nCody Bellinger\n2019\n\n\nMiami Marlins\nGiancarlo Stanton\n2017\n\n\nMilwaukee Brewers\nChristian Yelich\n2018\n\n\nMinnesota Twins\nJoe Mauer\n2009\n\n\nNew York Mets\nNA NA\nNA\n\n\nNew York Yankees\nAaron Judge\n2024\n\n\nOakland Athletics\nMiguel Tejada\n2002\n\n\nPhiladelphia Phillies\nBryce Harper\n2021\n\n\nPittsburgh Pirates\nAndrew McCutchen\n2013\n\n\nSan Diego Padres\nKen Caminiti\n1996\n\n\nSan Francisco Giants\nBuster Posey\n2012\n\n\nSeattle Mariners\nIchiro Suzuki\n2001\n\n\nSt. Louis Cardinals\nPaul Goldschmidt\n2022\n\n\nTampa Bay Rays\nNA NA\nNA\n\n\nTexas Rangers\nJosh Hamilton\n2010\n\n\nToronto Blue Jays\nJosh Donaldson\n2015\n\n\nWashington Nationals\nBryce Harper\n2015\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTipMy solution using SQL\n\n\n\n\n\n\n\nCode\nSELECT \n  CONCAT(nameFirst, ' ', nameLast) AS Player, \n  t.name, \n  mvp_year AS Year\nFROM AwardsPlayers ap\n  LEFT JOIN Appearances a ON a.playerID = ap.playerID AND a.yearID = ap.yearID AND a.lgID = ap.lgID\n  RIGHT JOIN (\n    SELECT a.teamID, MAX(ap.yearID) AS mvp_year\n    FROM AwardsPlayers ap\n    LEFT JOIN Appearances a ON a.playerID = ap.playerID AND a.yearID = ap.yearID AND a.lgID = ap.lgID\n    WHERE ap.awardID = 'Most Valuable Player' \n    GROUP BY a.teamID\n    ORDER BY a.teamID\n  ) last_mvps ON last_mvps.teamID = a.teamID AND last_mvps.mvp_year = a.yearID\n  LEFT JOIN Teams t ON t.teamID = last_mvps.teamID\n  LEFT JOIN People p ON p.playerID = a.playerID\nWHERE ap.awardID = 'Most Valuable Player' \n  AND t.yearID = 2023\nORDER BY t.name;"
  },
  {
    "objectID": "sporcle.html#mlb-top-5-hr-hitters-1970-2009",
    "href": "sporcle.html#mlb-top-5-hr-hitters-1970-2009",
    "title": "Sporcle",
    "section": "1.2 9/15: MLB Top 5 HR Hitters (1970-2009)",
    "text": "1.2 9/15: MLB Top 5 HR Hitters (1970-2009)\n\n\n\n\n\n\nTipMy solution\n\n\n\n\n\n\n\nCode\nlibrary(tidyverse)\nlibrary(Lahman)\nBatting |&gt;\n  filter(yearID &gt;= 1970 & yearID &lt;= 2009) |&gt;\n  group_by(playerID, yearID) |&gt;\n  summarize(\n    teamIDs = paste(unique(teamID), collapse = \"/\"),\n    tHR = sum(HR)\n  ) |&gt;\n  left_join(People, by = join_by(playerID)) |&gt;\n  mutate(player_name = paste(nameLast, nameFirst)) |&gt;\n  select(yearID, teamIDs, player_name, tHR) |&gt;\n  ungroup() |&gt;\n  group_by(yearID) |&gt;\n  group_split() |&gt;\n  map(~arrange(.x, desc(tHR))) |&gt;\n  map(head, n = 5) |&gt;\n  bind_rows() |&gt;\n  arrange(desc(yearID), desc(tHR)) |&gt;\n  select(-playerID) |&gt;\n  knitr::kable()\n\n\n`summarise()` has grouped output by 'playerID'. You can override using the\n`.groups` argument.\nAdding missing grouping variables: `playerID`\n\n\n\n\n\nyearID\nteamIDs\nplayer_name\ntHR\n\n\n\n\n2009\nSLN\nPujols Albert\n47\n\n\n2009\nMIL\nFielder Prince\n46\n\n\n2009\nPHI\nHoward Ryan\n45\n\n\n2009\nARI\nReynolds Mark\n44\n\n\n2009\nSDN\nGonzalez Adrian\n40\n\n\n2008\nPHI\nHoward Ryan\n48\n\n\n2008\nARI/CIN\nDunn Adam\n40\n\n\n2008\nNYN\nDelgado Carlos\n38\n\n\n2008\nMIL\nBraun Ryan\n37\n\n\n2008\nDET\nCabrera Miguel\n37\n\n\n2007\nNYA\nRodriguez Alex\n54\n\n\n2007\nMIL\nFielder Prince\n50\n\n\n2007\nPHI\nHoward Ryan\n47\n\n\n2007\nTBA\nPeña Carlos\n46\n\n\n2007\nCIN\nDunn Adam\n40\n\n\n2006\nPHI\nHoward Ryan\n58\n\n\n2006\nBOS\nOrtiz David\n54\n\n\n2006\nSLN\nPujols Albert\n49\n\n\n2006\nWAS\nSoriano Alfonso\n46\n\n\n2006\nHOU\nBerkman Lance\n45\n\n\n2005\nATL\nJones Andruw\n51\n\n\n2005\nNYA\nRodriguez Alex\n48\n\n\n2005\nBOS\nOrtiz David\n47\n\n\n2005\nCHN\nLee Derrek\n46\n\n\n2005\nBOS\nRamirez Manny\n45\n\n\n2004\nLAN\nBeltre Adrian\n48\n\n\n2004\nCIN\nDunn Adam\n46\n\n\n2004\nSLN\nPujols Albert\n46\n\n\n2004\nSFN\nBonds Barry\n45\n\n\n2004\nBOS\nRamirez Manny\n43\n\n\n2003\nTEX\nRodriguez Alex\n47\n\n\n2003\nPHI\nThome Jim\n47\n\n\n2003\nSFN\nBonds Barry\n45\n\n\n2003\nMIL\nSexson Richie\n45\n\n\n2003\nATL\nLopez Javy\n43\n\n\n2002\nTEX\nRodriguez Alex\n57\n\n\n2002\nCLE\nThome Jim\n52\n\n\n2002\nCHN\nSosa Sammy\n49\n\n\n2002\nSFN\nBonds Barry\n46\n\n\n2002\nTEX\nPalmeiro Rafael\n43\n\n\n2001\nSFN\nBonds Barry\n73\n\n\n2001\nCHN\nSosa Sammy\n64\n\n\n2001\nARI\nGonzalez Luis\n57\n\n\n2001\nTEX\nRodriguez Alex\n52\n\n\n2001\nLAN\nGreen Shawn\n49\n\n\n2000\nCHN\nSosa Sammy\n50\n\n\n2000\nSFN\nBonds Barry\n49\n\n\n2000\nHOU\nBagwell Jeff\n47\n\n\n2000\nANA\nGlaus Troy\n47\n\n\n2000\nMON\nGuerrero Vladimir\n44\n\n\n1999\nSLN\nMcGwire Mark\n65\n\n\n1999\nCHN\nSosa Sammy\n63\n\n\n1999\nSEA\nGriffey Ken\n48\n\n\n1999\nTEX\nPalmeiro Rafael\n47\n\n\n1999\nATL\nJones Chipper\n45\n\n\n1998\nSLN\nMcGwire Mark\n70\n\n\n1998\nCHN\nSosa Sammy\n66\n\n\n1998\nSEA\nGriffey Ken\n56\n\n\n1998\nSDN\nVaughn Greg\n50\n\n\n1998\nCHA\nBelle Albert\n49\n\n\n1997\nOAK/SLN\nMcGwire Mark\n58\n\n\n1997\nSEA\nGriffey Ken\n56\n\n\n1997\nCOL\nWalker Larry\n49\n\n\n1997\nNYA\nMartinez Tino\n44\n\n\n1997\nHOU\nBagwell Jeff\n43\n\n\n1996\nOAK\nMcGwire Mark\n52\n\n\n1996\nBAL\nAnderson Brady\n50\n\n\n1996\nSEA\nGriffey Ken\n49\n\n\n1996\nCLE\nBelle Albert\n48\n\n\n1996\nCOL\nGalarraga Andres\n47\n\n\n1995\nCLE\nBelle Albert\n50\n\n\n1995\nCOL\nBichette Dante\n40\n\n\n1995\nSEA\nBuhner Jay\n40\n\n\n1995\nCHA\nThomas Frank\n40\n\n\n1995\nOAK\nMcGwire Mark\n39\n\n\n1994\nSFN\nWilliams Matt\n43\n\n\n1994\nSEA\nGriffey Ken\n40\n\n\n1994\nHOU\nBagwell Jeff\n39\n\n\n1994\nCHA\nThomas Frank\n38\n\n\n1994\nSFN\nBonds Barry\n37\n\n\n1993\nSFN\nBonds Barry\n46\n\n\n1993\nTEX\nGonzalez Juan\n46\n\n\n1993\nSEA\nGriffey Ken\n45\n\n\n1993\nCHA\nThomas Frank\n41\n\n\n1993\nATL\nJustice David\n40\n\n\n1992\nTEX\nGonzalez Juan\n43\n\n\n1992\nOAK\nMcGwire Mark\n42\n\n\n1992\nDET\nFielder Cecil\n35\n\n\n1992\nSDN\nMcGriff Fred\n35\n\n\n1992\nCLE\nBelle Albert\n34\n\n\n1991\nOAK\nCanseco Jose\n44\n\n\n1991\nDET\nFielder Cecil\n44\n\n\n1991\nNYN\nJohnson Howard\n38\n\n\n1991\nBAL\nRipken Cal\n34\n\n\n1991\nSFN\nWilliams Matt\n34\n\n\n1990\nDET\nFielder Cecil\n51\n\n\n1990\nCHN\nSandberg Ryne\n40\n\n\n1990\nOAK\nMcGwire Mark\n39\n\n\n1990\nOAK\nCanseco Jose\n37\n\n\n1990\nNYN\nStrawberry Darryl\n37\n\n\n1989\nSFN\nMitchell Kevin\n47\n\n\n1989\nNYN\nJohnson Howard\n36\n\n\n1989\nTOR\nMcGriff Fred\n36\n\n\n1989\nCLE\nCarter Joe\n35\n\n\n1989\nCIN\nDavis Eric\n34\n\n\n1988\nOAK\nCanseco Jose\n42\n\n\n1988\nNYN\nStrawberry Darryl\n39\n\n\n1988\nTOR\nMcGriff Fred\n34\n\n\n1988\nOAK\nMcGwire Mark\n32\n\n\n1988\nHOU\nDavis Glenn\n30\n\n\n1987\nCHN\nDawson Andre\n49\n\n\n1987\nOAK\nMcGwire Mark\n49\n\n\n1987\nTOR\nBell George\n47\n\n\n1987\nATL\nMurphy Dale\n44\n\n\n1987\nNYN\nStrawberry Darryl\n39\n\n\n1986\nTOR\nBarfield Jesse\n40\n\n\n1986\nPHI\nSchmidt Mike\n37\n\n\n1986\nOAK\nKingman Dave\n35\n\n\n1986\nMIN\nGaetti Gary\n34\n\n\n1986\nOAK\nCanseco Jose\n33\n\n\n1985\nDET\nEvans Darrell\n40\n\n\n1985\nCHA\nFisk Carlton\n37\n\n\n1985\nATL\nMurphy Dale\n37\n\n\n1985\nKCA\nBalboni Steve\n36\n\n\n1985\nNYA\nMattingly Don\n35\n\n\n1984\nBOS\nArmas Tony\n43\n\n\n1984\nATL\nMurphy Dale\n36\n\n\n1984\nPHI\nSchmidt Mike\n36\n\n\n1984\nOAK\nKingman Dave\n35\n\n\n1984\nOAK\nMurphy Dwayne\n33\n\n\n1983\nPHI\nSchmidt Mike\n40\n\n\n1983\nBOS\nRice Jim\n39\n\n\n1983\nBOS\nArmas Tony\n36\n\n\n1983\nATL\nMurphy Dale\n36\n\n\n1983\nCHA\nKittle Ron\n35\n\n\n1982\nCAL\nJackson Reggie\n39\n\n\n1982\nML4\nThomas Gorman\n39\n\n\n1982\nNYN\nKingman Dave\n37\n\n\n1982\nNYA\nWinfield Dave\n37\n\n\n1982\nATL\nMurphy Dale\n36\n\n\n1981\nPHI\nSchmidt Mike\n31\n\n\n1981\nMON\nDawson Andre\n24\n\n\n1981\nOAK\nArmas Tony\n22\n\n\n1981\nBOS\nEvans Dwight\n22\n\n\n1981\nCIN\nFoster George\n22\n\n\n1980\nPHI\nSchmidt Mike\n48\n\n\n1980\nNYA\nJackson Reggie\n41\n\n\n1980\nML4\nOglivie Ben\n41\n\n\n1980\nML4\nThomas Gorman\n38\n\n\n1980\nOAK\nArmas Tony\n35\n\n\n1979\nCHN\nKingman Dave\n48\n\n\n1979\nPHI\nSchmidt Mike\n45\n\n\n1979\nML4\nThomas Gorman\n45\n\n\n1979\nBOS\nLynn Fred\n39\n\n\n1979\nBOS\nRice Jim\n39\n\n\n1978\nBOS\nRice Jim\n46\n\n\n1978\nCIN\nFoster George\n40\n\n\n1978\nPHI\nLuzinski Greg\n35\n\n\n1978\nCAL\nBaylor Don\n34\n\n\n1978\nML4\nHisle Larry\n34\n\n\n1977\nCIN\nFoster George\n52\n\n\n1977\nATL\nBurroughs Jeff\n41\n\n\n1977\nPHI\nLuzinski Greg\n39\n\n\n1977\nBOS\nRice Jim\n39\n\n\n1977\nPHI\nSchmidt Mike\n38\n\n\n1976\nPHI\nSchmidt Mike\n38\n\n\n1976\nNYN\nKingman Dave\n37\n\n\n1976\nCHN\nMonday Rick\n32\n\n\n1976\nNYA\nNettles Graig\n32\n\n\n1976\nCIN\nFoster George\n29\n\n\n1975\nPHI\nSchmidt Mike\n38\n\n\n1975\nOAK\nJackson Reggie\n36\n\n\n1975\nNYN\nKingman Dave\n36\n\n\n1975\nML4\nScott George\n36\n\n\n1975\nPHI\nLuzinski Greg\n34\n\n\n1974\nPHI\nSchmidt Mike\n36\n\n\n1974\nCIN\nBench Johnny\n33\n\n\n1974\nCHA\nAllen Dick\n32\n\n\n1974\nLAN\nWynn Jim\n32\n\n\n1974\nOAK\nJackson Reggie\n29\n\n\n1973\nPIT\nStargell Willie\n44\n\n\n1973\nATL\nJohnson Davey\n43\n\n\n1973\nATL\nEvans Darrell\n41\n\n\n1973\nATL\nAaron Hank\n40\n\n\n1973\nSFN\nBonds Bobby\n39\n\n\n1972\nCIN\nBench Johnny\n40\n\n\n1972\nSDN\nColbert Nate\n38\n\n\n1972\nCHA\nAllen Dick\n37\n\n\n1972\nCHN\nWilliams Billy\n37\n\n\n1972\nATL\nAaron Hank\n34\n\n\n1971\nPIT\nStargell Willie\n48\n\n\n1971\nATL\nAaron Hank\n47\n\n\n1971\nCIN\nMay Lee\n39\n\n\n1971\nPHI\nJohnson Deron\n34\n\n\n1971\nSFN\nBonds Bobby\n33\n\n\n1970\nCIN\nBench Johnny\n45\n\n\n1970\nWS2\nHoward Frank\n44\n\n\n1970\nCHN\nWilliams Billy\n42\n\n\n1970\nMIN\nKillebrew Harmon\n41\n\n\n1970\nCIN\nPerez Tony\n40\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTipMy (partial) solution using SQL\n\n\n\n\n\n\n\nCode\nSELECT \n  CONCAT(ANY_VALUE(p.nameFirst), ' ', ANY_VALUE(p.nameLast)) AS Player, \n  yearID, \n  GROUP_CONCAT(DISTINCT teamID) AS teamIDs, \n  SUM(HR) AS tHR\nFROM Batting b\nLEFT JOIN People p ON p.playerID = b.playerID\nWHERE yearID &gt;= 1970 AND yearID &lt; 2010\n  AND yearID = 2009\nGROUP BY b.playerID, yearID\nORDER BY tHR DESC\nLIMIT 5;"
  },
  {
    "objectID": "sporcle.html#mlb-40-hrs-by-4-letter-players",
    "href": "sporcle.html#mlb-40-hrs-by-4-letter-players",
    "title": "Sporcle",
    "section": "1.3 9/17: MLB 40-HRs by 4-Letter Players",
    "text": "1.3 9/17: MLB 40-HRs by 4-Letter Players\n\n\n\n\n\n\nTipMy solution\n\n\n\n\n\n\n\nCode\nBatting |&gt;\n  group_by(playerID, yearID) |&gt;\n  summarize(\n    tHR = sum(HR)\n  ) |&gt;\n  filter(tHR &gt;= 40) |&gt;\n  group_by(playerID) |&gt;\n  summarize(\n    n = n(),\n    last = max(yearID)\n  ) |&gt;\n  arrange(desc(n)) |&gt;\n  left_join(People, by = join_by(playerID)) |&gt;\n  filter(nchar(nameLast) &lt;= 4) |&gt;\n  select(n, last, nameLast, nameFirst) |&gt;\n  knitr::kable()\n\n\n`summarise()` has grouped output by 'playerID'. You can override using the\n`.groups` argument.\n\n\n\n\n\nn\nlast\nnameLast\nnameFirst\n\n\n\n\n11\n1932\nRuth\nBabe\n\n\n7\n2003\nSosa\nSammy\n\n\n6\n2012\nDunn\nAdam\n\n\n6\n1965\nMays\nWillie\n\n\n5\n1938\nFoxx\nJimmie\n\n\n4\n2019\nCruz\nNelson\n\n\n3\n1948\nMize\nJohnny\n\n\n1\n1987\nBell\nGeorge\n\n\n1\n1961\nCash\nNorm\n\n\n1\n2006\nDye\nJermaine\n\n\n1\n2005\nLee\nDerrek\n\n\n1\n1929\nOtt\nMel\n\n\n1\n2007\nPeña\nCarlos\n\n\n1\n1955\nPost\nWally\n\n\n1\n1978\nRice\nJim\n\n\n1\n2024\nSoto\nJuan\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTipMy solution using SQL\n\n\n\n\n\n\n\nCode\nSELECT \n  COUNT(DISTINCT yearID) AS N, \n  MAX(yearID) AS most_recent, \n  ANY_VALUE(p.nameLast) AS last_name\nFROM\n  (SELECT playerID, yearID, SUM(HR) AS tHR\n  FROM Batting\n  GROUP BY playerID, yearID\n  HAVING SUM(HR) &gt;= 40) AS hr40\nLEFT JOIN People p ON p.playerID = hr40.playerID\nGROUP BY hr40.playerID\nHAVING LEN(ANY_VALUE(p.nameLast)) &lt;= 4\nORDER BY N DESC;"
  },
  {
    "objectID": "sporcle.html#multiple-cy-young-winners",
    "href": "sporcle.html#multiple-cy-young-winners",
    "title": "Sporcle",
    "section": "1.4 9/22: Multiple Cy Young Winners",
    "text": "1.4 9/22: Multiple Cy Young Winners\n\n\n\n\n\n\nTipMy solution\n\n\n\n\n\n\n\nCode\nAwardsPlayers |&gt;\n  filter(str_detect(awardID, \"Cy Young\")) |&gt;\n  group_by(playerID) |&gt;\n  summarize(\n    n = n(),\n    years = paste(yearID, collapse = \", \")\n  ) |&gt;\n  filter(n &gt; 1) |&gt;\n  arrange(n)\n\n\n# A tibble: 22 × 3\n   playerID      n years     \n   &lt;chr&gt;     &lt;int&gt; &lt;chr&gt;     \n 1 degroja01     2 2018, 2019\n 2 gibsobo01     2 1968, 1970\n 3 glavito02     2 1991, 1998\n 4 hallaro01     2 2003, 2010\n 5 klubeco01     2 2014, 2017\n 6 linceti01     2 2008, 2009\n 7 mclaide01     2 1968, 1969\n 8 perryga01     2 1972, 1978\n 9 saberbr01     2 1985, 1989\n10 santajo01     2 2004, 2006\n# ℹ 12 more rows\n\n\n\n\n\n\n\n\n\n\n\nTipMy solution using SQL\n\n\n\n\n\n\n\nCode\nSELECT playerID, COUNT(*) AS num_awards, GROUP_CONCAT(yearID) AS years\nFROM AwardsPlayers\nWHERE awardID = 'Cy Young Award'\nGROUP BY playerID\nHAVING COUNT(*) &gt; 1\nORDER BY COUNT(*);"
  },
  {
    "objectID": "sporcle.html#mlb-win-leaders-by-team",
    "href": "sporcle.html#mlb-win-leaders-by-team",
    "title": "Sporcle",
    "section": "1.5 9/24: MLB Win Leaders by Team",
    "text": "1.5 9/24: MLB Win Leaders by Team\n\n\n\n\n\n\nTipMy solution\n\n\n\n\n\n\n\nCode\nPitching |&gt;\n  group_by(playerID, teamID) |&gt;\n  summarize(wins = sum(W)) |&gt;\n  group_by(teamID) |&gt;\n  group_split() |&gt;\n  map(arrange, desc(wins)) |&gt;\n  map(slice_head, n = 1) |&gt;\n  bind_rows() |&gt;\n  right_join(\n    Teams |&gt;\n      filter(yearID == 2023) |&gt;\n      select(teamID, name),\n    by = join_by(teamID)\n  ) |&gt;\n  arrange(name) |&gt;\n  knitr::kable()\n\n\n`summarise()` has grouped output by 'playerID'. You can override using the\n`.groups` argument.\n\n\n\n\n\nplayerID\nteamID\nwins\nname\n\n\n\n\njohnsra05\nARI\n118\nArizona Diamondbacks\n\n\nniekrph01\nATL\n266\nAtlanta Braves\n\n\npalmeji01\nBAL\n268\nBaltimore Orioles\n\n\nclemero02\nBOS\n192\nBoston Red Sox\n\n\nrootch01\nCHN\n201\nChicago Cubs\n\n\nlyonste01\nCHA\n260\nChicago White Sox\n\n\nrixeyep01\nCIN\n179\nCincinnati Reds\n\n\nfellebo01\nCLE\n266\nCleveland Guardians\n\n\ndelarjo01\nCOL\n86\nColorado Rockies\n\n\ndaussho01\nDET\n222\nDetroit Tigers\n\n\nniekrjo01\nHOU\n144\nHouston Astros\n\n\nsplitpa01\nKCA\n166\nKansas City Royals\n\n\nweaveje02\nLAA\n150\nLos Angeles Angels of Anaheim\n\n\nsuttodo01\nLAN\n233\nLos Angeles Dodgers\n\n\nalcansa01\nMIA\n41\nMiami Marlins\n\n\ngallayo01\nMIL\n89\nMilwaukee Brewers\n\n\nkaatji01\nMIN\n189\nMinnesota Twins\n\n\nseaveto01\nNYN\n198\nNew York Mets\n\n\nfordwh01\nNYA\n236\nNew York Yankees\n\n\nhunteca01\nOAK\n131\nOakland Athletics\n\n\ncarltst01\nPHI\n241\nPhiladelphia Phillies\n\n\ncoopewi01\nPIT\n202\nPittsburgh Pirates\n\n\nshower01\nSDN\n100\nSan Diego Padres\n\n\nmaricju01\nSFN\n238\nSan Francisco Giants\n\n\nhernafe02\nSEA\n169\nSeattle Mariners\n\n\ngibsobo01\nSLN\n251\nSt. Louis Cardinals\n\n\nshielja02\nTBA\n87\nTampa Bay Rays\n\n\nhoughch01\nTEX\n139\nTexas Rangers\n\n\nstiebda01\nTOR\n175\nToronto Blue Jays\n\n\nstrasst01\nWAS\n113\nWashington Nationals"
  },
  {
    "objectID": "sporcle.html#mlb-most-wins-by-decade",
    "href": "sporcle.html#mlb-most-wins-by-decade",
    "title": "Sporcle",
    "section": "1.6 9/24: MLB Most Wins by Decade",
    "text": "1.6 9/24: MLB Most Wins by Decade\n\n\n\n\n\n\nTipMy solution"
  },
  {
    "objectID": "sporcle.html#mlb-home-run-leaders-a-z",
    "href": "sporcle.html#mlb-home-run-leaders-a-z",
    "title": "Sporcle",
    "section": "1.7 9/24: MLB Home Run Leaders (A-Z)",
    "text": "1.7 9/24: MLB Home Run Leaders (A-Z)\n\n\n\n\n\n\nTipMy solution"
  },
  {
    "objectID": "sporcle.html#how-to-create-a-sql-duckdb-database-from-the-lahman-package",
    "href": "sporcle.html#how-to-create-a-sql-duckdb-database-from-the-lahman-package",
    "title": "Sporcle",
    "section": "2.1 How to create a SQL duckdb database from the Lahman package",
    "text": "2.1 How to create a SQL duckdb database from the Lahman package\n\n\n2.1.1 Educate yourself\n\nRead R for Data Science, Ch. 21\nSee also Modern Data Science with R, Ch. 15\n\n\n\n2.1.2 Instantiate the database\nCreate a duckdb instance\n\n\nCode\nlibrary(dbplyr)\nlibrary(duckdb)\ncon &lt;- DBI::dbConnect(duckdb::duckdb())\n\n\n\n\n2.1.3 Populate the database\nStart populating it with data from the Lahman package.\n\n\nCode\n# Have to do this for every table...\ndbWriteTable(con, \"Teams\", Lahman::Teams)\ndbWriteTable(con, \"People\", Lahman::People)\ndbWriteTable(con, \"Appearances\", Lahman::Appearances)\ndbWriteTable(con, \"AwardsPlayers\", Lahman::AwardsPlayers)\ndbWriteTable(con, \"Batting\", Lahman::Batting)\ndbWriteTable(con, \"TeamsFranchises\", Lahman::TeamsFranchises)\n\n\n\n\n\n\n\n\nTip\n\n\n\nChallenge: Use a map() statement to do them all!\n\n\n\n\n2.1.4 Step 4: Inpsect the database\n\n\nCode\ndbListTables(con)\n\n\n[1] \"Appearances\"     \"AwardsPlayers\"   \"Batting\"         \"People\"         \n[5] \"Teams\"           \"TeamsFranchises\"\n\n\n\n\n2.1.5 Access\nNow, you can access the data in your duckdb SQL database in several ways.\n\n2.1.5.1 Using dbplyr\n\n\nCode\nteams &lt;- tbl(con, \"Teams\")\n\nactive_teams &lt;- teams |&gt;\n  filter(yearID == 2023) |&gt;\n  select(teamID, name)\n\nactive_teams\n\n\n# Source:   SQL [?? x 2]\n# Database: DuckDB 1.4.0 [unknown@Linux 6.11.0-1018-azure:R 4.5.1/:memory:]\n   teamID name                         \n   &lt;fct&gt;  &lt;chr&gt;                        \n 1 LAA    Los Angeles Angels of Anaheim\n 2 ARI    Arizona Diamondbacks         \n 3 ATL    Atlanta Braves               \n 4 BAL    Baltimore Orioles            \n 5 BOS    Boston Red Sox               \n 6 CHN    Chicago Cubs                 \n 7 CHA    Chicago White Sox            \n 8 CIN    Cincinnati Reds              \n 9 CLE    Cleveland Guardians          \n10 COL    Colorado Rockies             \n# ℹ more rows\n\n\nAnd you can see the translated SQL query!\n\n\nCode\nactive_teams |&gt;\n  show_query()\n\n\n&lt;SQL&gt;\nSELECT teamID, \"name\"\nFROM Teams\nWHERE (yearID = 2023.0)\n\n\n\n\n2.1.5.2 Using DBI\nIf you want to practice writing the raw SQL query\n\n\nCode\ncon |&gt;\n  dbGetQuery(\n\"\nSELECT teamID, name\nFROM teams\nWHERE yearID = 2023;\n\"\n)\n\n\n   teamID                          name\n1     LAA Los Angeles Angels of Anaheim\n2     ARI          Arizona Diamondbacks\n3     ATL                Atlanta Braves\n4     BAL             Baltimore Orioles\n5     BOS                Boston Red Sox\n6     CHN                  Chicago Cubs\n7     CHA             Chicago White Sox\n8     CIN               Cincinnati Reds\n9     CLE           Cleveland Guardians\n10    COL              Colorado Rockies\n11    DET                Detroit Tigers\n12    MIA                 Miami Marlins\n13    HOU                Houston Astros\n14    KCA            Kansas City Royals\n15    LAN           Los Angeles Dodgers\n16    MIL             Milwaukee Brewers\n17    MIN               Minnesota Twins\n18    NYN                 New York Mets\n19    NYA              New York Yankees\n20    OAK             Oakland Athletics\n21    PHI         Philadelphia Phillies\n22    PIT            Pittsburgh Pirates\n23    SDN              San Diego Padres\n24    SEA              Seattle Mariners\n25    SFN          San Francisco Giants\n26    SLN           St. Louis Cardinals\n27    TBA                Tampa Bay Rays\n28    TEX                 Texas Rangers\n29    TOR             Toronto Blue Jays\n30    WAS          Washington Nationals\n\n\n\n\n2.1.5.3 Using Quarto/Markdown\nIf you want SQL syntax highlighting, and to use the data back in R, make an SQL chunk\n\n\nCode\n```{sql}\n#| connection: con\n#| output.var: \"teams_sql\"\nSELECT teamID, name\nFROM teams\nWHERE yearID = 2023;\n```\n\n\n\n\nCode\n```{r}\nteams_sql\n```\n\n\n   teamID                          name\n1     LAA Los Angeles Angels of Anaheim\n2     ARI          Arizona Diamondbacks\n3     ATL                Atlanta Braves\n4     BAL             Baltimore Orioles\n5     BOS                Boston Red Sox\n6     CHN                  Chicago Cubs\n7     CHA             Chicago White Sox\n8     CIN               Cincinnati Reds\n9     CLE           Cleveland Guardians\n10    COL              Colorado Rockies\n11    DET                Detroit Tigers\n12    MIA                 Miami Marlins\n13    HOU                Houston Astros\n14    KCA            Kansas City Royals\n15    LAN           Los Angeles Dodgers\n16    MIL             Milwaukee Brewers\n17    MIN               Minnesota Twins\n18    NYN                 New York Mets\n19    NYA              New York Yankees\n20    OAK             Oakland Athletics\n21    PHI         Philadelphia Phillies\n22    PIT            Pittsburgh Pirates\n23    SDN              San Diego Padres\n24    SEA              Seattle Mariners\n25    SFN          San Francisco Giants\n26    SLN           St. Louis Cardinals\n27    TBA                Tampa Bay Rays\n28    TEX                 Texas Rangers\n29    TOR             Toronto Blue Jays\n30    WAS          Washington Nationals"
  }
]